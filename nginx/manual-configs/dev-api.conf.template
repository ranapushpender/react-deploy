upstream <name for upstream> {
    server <domain name for https backend>:443;
    keepalive 5; # too keepalive some connections 
}
server {
        listen 80;
        listen 443 ssl;
        index index.html index.htm index.nginx-debian.html;

        server_name <domain name for api>;
        ssl_certificate     /certs/fullchain.pem;
        ssl_certificate_key /certs/privkey.pem;

        location / {
                proxy_set_header HOST <domain name for https backend>; # to be the same domain as "server" in upstream. Needed as host is replaced with <name of upstream> when using upstream block.
                proxy_pass <name for upstream>;
                proxy_hide_header Access-Control-Allow-Origin;
                proxy_hide_header access-control-allow-headers;
                proxy_hide_header access-control-allow-methods;
                proxy_hide_header Timing-Allow-Origin;
                proxy_set_header Origin http://sita.grappus.com;
                add_header 'Access-Control-Allow-Origin' $http_origin always;
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS' always;
                add_header 'Access-Control-Max-Age' 1728000;
                add_header 'Access-Control-Allow-Headers' *;
                add_header 'Timing-Allow-Origin' *;
        }
}
