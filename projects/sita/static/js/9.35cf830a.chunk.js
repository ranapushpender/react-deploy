(this["webpackJsonpatko-mvp-frontend"]=this["webpackJsonpatko-mvp-frontend"]||[]).push([[9],{3872:function(e,t,a){"use strict";a(159);var n=a(93),i=a.n(n),r=(a(118),a(54)),c=a.n(r),l=(a(204),a(52)),s=a.n(l),o=(a(38),a(21)),m=a.n(o),u=(a(180),a(104)),d=a.n(u),p=a(2),v=a(8),b=(a(149),a(69)),f=a.n(b),g=a(13),E=a(0),h=a.n(E),O=a(57),y=a(11),N=a(25),S=a(22),j=(a(3873),{title:"mr",gender:"male",firstName:"deepak",lastName:"deepak",telephone:"9999999999",email:"deepak@deepak.com",designation:"Company Owner",id:"f89a2cae-207e-4925-af74-fbdbe65dc83c",department:"reservation"}),x=f.a.Text,k=(f.a.Link,f.a.Title,function(e){var t=e.setShowModal,a=e.onSubmit,n=e.initialValues,r=e.setInitialValues,l=e.inEditMode,o=e.isDesignationDisabled,u=Object(E.useState)(!1),b=Object(v.a)(u,2),f=(b[0],b[1],/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/),k=N.f().shape({firstName:N.g().min(2,"Too Short!").max(250,"Too Long!").required("First name is required"),middleName:N.g().nullable(),lastName:N.g().min(2,"Too Short!").max(250,"Too Long!").required("Last name is required"),telephone:N.g().matches(f,"Phone number is not valid").min(6,"Phone number cannot be less than 6 digits").max(14,"Phone number cannot exceed more than 14 digts").required("Phone number required"),alternateTelephone:N.g().matches(f,"Phone number is not valid").min(6,"Phone number cannot be less than 6 digits").max(14,"Phone number cannot exceed more than 14 digts").nullable(),email:N.g().email().required("Email is required"),gender:N.g().required("Gender is required")});Object(O.i)().id;return h.a.createElement(i.a,{visible:!0,keyboard:!1,footer:null,width:"926px",className:"add-new-contact-modal",closeIcon:h.a.createElement("img",{onClick:function(){return t(!1)},alt:"close",src:"/img/black-cancel-circle.svg"})},h.a.createElement("div",{id:"new-serving-location-modal"},h.a.createElement(g.e,{enableReinitialize:!0,validationSchema:k,initialValues:(null===n||void 0===n?void 0:n.firstName)?n:Object(p.a)(Object(p.a)({},n),{},{gender:"male",title:"mr"}),onSubmit:function(e,t){t.setSubmitting;return a(e)}},(function(t){var a=t.setFieldValue,i=t.isSubmitting,u=t.values;return h.a.createElement(h.a.Fragment,null,l?h.a.createElement("p",{className:"capitalize bold text-26"},"Edit ".concat(n.designation," contact")):h.a.createElement("p",{className:"capitalize bold text-26"},"Add ".concat(n.designation," contact")),h.a.createElement(d.a,null),["staging","development"].includes("staging")&&r&&h.a.createElement(m.a,{type:"link",onClick:function(){r(j)}},"Click to populate data"),h.a.createElement(g.d,null,Object(y.e)(u),n.hasOwnProperty("designation")&&!e.isGuidesOnly&&h.a.createElement("div",{className:"form-grid grid-3"},h.a.createElement(g.b,{component:S.b,label:"Designation *",value:u.designation,validate:function(e){if(!e)return"Designation is required"},disabled:o,name:"designation",type:"text"}),h.a.createElement(g.b,{component:S.d,name:"department",validate:function(e){if(!e)return"Select department"},label:"Select Department *",value:u.department,getPopupContainer:function(){return document.getElementById("new-serving-location-modal")},selectOptions:[{name:"Finance",value:"finance"},{name:"Reservation",value:"reservation"},{name:"Sales",value:"sales"},{name:"Management",value:"management"}]})),h.a.createElement("p",{className:"bold mt-18 mb-6"},"Salutation"),h.a.createElement("div",{className:"mb-10 form-grid grid-2"},h.a.createElement("div",null,h.a.createElement("label",null,h.a.createElement(g.b,{as:s.a,type:"radio",name:"title",value:"mr"}),"Mr"),h.a.createElement("label",{className:"ml-40"},h.a.createElement(g.b,{as:s.a,type:"radio",name:"title",value:"mrs"}),"Mrs"),h.a.createElement("label",{className:"ml-40"},h.a.createElement(g.b,{as:s.a,type:"radio",name:"title",value:"ms"}),"Ms"),h.a.createElement("label",{className:"ml-40"},h.a.createElement(g.b,{as:s.a,type:"radio",name:"title",value:"dr"}),"Dr"),h.a.createElement(g.a,{name:"title",render:function(e){return h.a.createElement(x,{type:"danger"},e)}}))),h.a.createElement("p",{className:"bold mt-18 mb-6"},"Gender"),h.a.createElement("div",{className:"mb-6 form-grid grid-2"},h.a.createElement("div",null,h.a.createElement("label",null,h.a.createElement(g.b,{as:s.a,type:"radio",name:"gender",value:"male"}),"Male"),h.a.createElement("label",{className:"ml-40"},h.a.createElement(g.b,{as:s.a,type:"radio",name:"gender",value:"female"}),"Female"),h.a.createElement("label",{className:"ml-40"},h.a.createElement(g.b,{as:s.a,type:"radio",name:"gender",value:"other"}),"Other"))),h.a.createElement("div",{className:"mb-18"},h.a.createElement(g.a,{name:"gender",render:function(e){return h.a.createElement(x,{type:"danger"},e)}})),h.a.createElement("div",{className:"form-grid grid-3"},h.a.createElement(g.b,{component:S.b,label:"First Name *",value:u.firstName,name:"firstName",type:"firstName"}),h.a.createElement(g.b,{component:S.b,label:"Middle Name",value:u.middleName,name:"middleName",type:"middleName"}),h.a.createElement(g.b,{component:S.b,label:"Last Name *",value:u.lastName,name:"lastName",type:"lastName"})),h.a.createElement("div",{className:"form-grid grid-3"},h.a.createElement(g.b,{component:S.b,label:"Contact Number *",value:u.telephone,name:"telephone",type:"telephone"}),h.a.createElement(g.b,{component:S.b,label:"Alternate Number",value:u.alternateTelephone,name:"alternateTelephone",type:"telephone"}),h.a.createElement(g.b,{component:S.b,label:"Email ID *",value:u.email,name:"email",type:"email"})),n.hasOwnProperty("isPrimary")&&h.a.createElement("div",null,h.a.createElement("label",null,h.a.createElement(g.b,{name:"isPrimary",valuePropName:"checked",as:c.a,onChange:function(e){a("isPrimary",e.target.checked),a("primary",e.target.checked)},checked:u.isPrimary}),h.a.createElement("span",{className:"capitalize ml-10"},"is Primary?"))),h.a.createElement("div",{className:"mt-30 flex justify-flex-start"},h.a.createElement(m.a,{loading:i,type:"primary",htmlType:"submit"},i?"Saving...":"Save Contact"))))}))))});t.a=k},3873:function(e,t,a){},3877:function(e,t,a){},3878:function(e,t,a){"use strict";a(678);var n=a(534),i=a.n(n),r=a(2),c=a(19),l=a(8),s=a(0),o=a.n(s),m=a(57),u=(a(3877),a(3872)),d=a(70),p=function(e){var t=e.contacts,a=e.showHeader,n=e.origin,p=e.update,v=e.deleteContact,b=Object(s.useState)(!1),f=Object(l.a)(b,2),g=f[0],E=f[1],h=Object(s.useState)(!1),O=Object(l.a)(h,2),y=O[0],N=O[1],S=Object(s.useState)([]),j=Object(l.a)(S,2),x=j[0],k=j[1],C=Object(s.useState)({}),w=Object(l.a)(C,2),P=w[0],T=w[1],L=Object(s.useState)(null),D=Object(l.a)(L,2),q=D[0],z=D[1];Object(s.useEffect)((function(){k(t)}),[t]);var B=Object(m.i)().id;return o.a.createElement("div",{className:"mt-20 list-contacts"},a&&x&&x.length?o.a.createElement("div",{className:"list-contacts-grid mb-16"},o.a.createElement("p",null,"Designation"),o.a.createElement("p",null,"Department"),o.a.createElement("p",null,"Full Name"),o.a.createElement("p",null,"Contact Details"),"hotel-contacts"===n?o.a.createElement("p",null,"Primary/Other"):null):o.a.createElement("p",null,"No contacts found"),o.a.createElement("div",null,x&&x.map((function(e,t){return o.a.createElement("div",{className:"list-contacts-grid list mb-10",key:t},o.a.createElement("div",{className:"bold capitalize"},e.designation),o.a.createElement("div",{className:"bold capitalize"},e.department),o.a.createElement("div",{className:"capitalize"},"".concat(e.firstName," ").concat(e.middleName||""," ").concat(e.lastName)),o.a.createElement("div",{style:{textAlign:"left"}},o.a.createElement("p",null,o.a.createElement("span",{className:"semibold"},"Primary:")," ",e.telephone),o.a.createElement("p",null,o.a.createElement("span",{className:"semibold"},"Alternate:")," ",(null===e||void 0===e?void 0:e.alternateTelephone)||"--"),o.a.createElement("p",null,o.a.createElement("span",{className:"lowercase semibold"},"Email:")," ",e.email)),"hotel-contacts"===n?o.a.createElement("div",null,!0===e.isPrimary?o.a.createElement(i.a,{color:"blue"},"Primary"):o.a.createElement(i.a,{color:"red"},"Other")):null,o.a.createElement("div",{className:"flex justify-end items-center"},o.a.createElement("img",{src:"/img/edit-blue.svg",onClick:function(){return function(e){T(Object(r.a)(Object(r.a)({},x[e]),{},{gender:x[e].gender?x[e].gender:"male"})),z(e),E(!0)}(t)},className:"cursor-pointer"}),o.a.createElement("img",{src:"/img/trash-blue.svg",onClick:function(){z(t),N(!0)},className:"cursor-pointer ml-10"})))})),g&&o.a.createElement(u.a,{onSubmit:function(e){return p(B,e.id,e).then((function(){E(!1)}))},inEditMode:!0,initialValues:P,setShowModal:E}),o.a.createElement(d.a,{confirmationModalSpecs:{visible:y,heading:"Are you sure?",subHeading:"Are you sure you want to delete this contact?",buttonText:"Delete",submit:function(){var e=Object(c.a)(x),t=e[q].id;v(B,t),e.splice(q,1),k(e),N(!1)}},cancelConfirmationModal:function(){return N(!1)}})))};p.defaultProps={showHeader:!1};var v=p;t.a=v},3879:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(1),i=a.n(n),r=a(6),c=a(35),l=a(11),s=a(12),o=a(14),m=a(429),u=(a(89),function(e,t){return function(){var a=Object(r.a)(i.a.mark((function a(n){var r,u;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.a.updateBasicDetails(e,t);case 3:return 200!==(r=a.sent).status&&204!==r.status||(Object(o.a)("success","Basics details updated successfully."),u=Object(l.f)(r.data),n(m.a(u))),a.abrupt("return",r);case 8:a.prev=8,a.t0=a.catch(0),Object(s.a)(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()})},3929:function(e,t,a){},3930:function(e,t,a){},3931:function(e,t,a){},3932:function(e,t,a){},3933:function(e,t,a){},3996:function(e,t,a){"use strict";a.r(t);var n=a(8),i=(a(149),a(69)),r=a.n(i),c=a(0),l=a.n(c),s=a(57),o=a(28),m=a(10),u=a(11),d=a(18),p=(a(140),a(63)),v=a.n(p),b=(a(443),a(445)),f=a(13),g=a(22),E=(a(38),a(21)),h=a.n(E),O=(a(118),a(54)),y=a.n(O),N=a(1),S=a.n(N),j=a(6),x=a(142),k=a(3879),C=(a(3929),a(25)),w=C.f().shape({services:C.a().of(C.g()).min(1,"Select at least one service")}),P=r.a.Text,T=Object(o.b)((function(e){var t=e.Suppliers,a=t.basicDetails,n=t.root,i=e.City.cityList;return{formValues:a.data,tabStatus:n.tabStatus.status,services:a.data.services,supplierType:a.data.type,cityList:i}}),(function(e){return{getCityListNoParams:Object(m.b)(x.b,e),updateBasicDetails:Object(m.b)(k.a,e)}}))((function(e){var t=e.servicesOffered,a=e.setActiveBoSubTab,i=Object(s.i)().id,r=(Object(u.q)().get("stage"),Object(c.useState)([])),o=Object(n.a)(r,2),m=o[0],d=o[1],p=Object(c.useState)({}),v=Object(n.a)(p,2),b=v[0],E=v[1],O=Object(c.useState)([]),N=Object(n.a)(O,2),x=N[0],k=N[1],C=function(){var t=Object(j.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.updateBasicDetails(i,n);case 3:a("branch_details"),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),T=Object(u.d)(Object(j.a)(S.a.mark((function t(){var a,n,i=arguments;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:"",t.next=3,e.getCityListNoParams(a);case 3:n=t.sent,d(null===n||void 0===n?void 0:n.content);case 5:case"end":return t.stop()}}),t)}))),300);return Object(c.useEffect)((function(){e.getCityListNoParams()}),[]),Object(c.useEffect)((function(){var t,a,n,i,r,c,l,s;""==(null===(t=e.formValues)||void 0===t||null===(a=t.city)||void 0===a?void 0:a.code)?T():d([null===(s=e.formValues)||void 0===s?void 0:s.city]);E({city:null===(n=e.formValues)||void 0===n||null===(i=n.city)||void 0===i?void 0:i.code,name:null===(r=e.formValues)||void 0===r?void 0:r.name,services:null===(c=e.formValues)||void 0===c?void 0:c.services,governingLocations:null===(l=e.formValues)||void 0===l?void 0:l.governingLocations})}),[e.formValues]),Object(c.useEffect)((function(){var t;k(null===e||void 0===e||null===(t=e.cityList)||void 0===t?void 0:t.map((function(e){return{name:e.name,value:null===e||void 0===e?void 0:e.code}})))}),[null===e||void 0===e?void 0:e.cityList]),l.a.createElement("div",{id:"overview",className:"basic-details overview ".concat(Object(u.m)(e.tabStatus)&&"read-only-mode")},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(f.e,{enableReinitialize:!0,initialValues:b,validationSchema:w,onSubmit:function(){var e=Object(j.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.setSubmitting,C(t),n(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(a){var n,i,r=a.setFieldValue,c=a.isSubmitting,s=a.values;return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.d,null,l.a.createElement("div",{className:"mb-40"},l.a.createElement(P,{className:"bold",strong:!0},"City & Name"),l.a.createElement("div",{className:"mt-10 form-grid grid-2"},l.a.createElement(f.b,{component:g.d,filterOption:!1,name:"city",label:"Select City *",value:null===s||void 0===s?void 0:s.city,getPopupContainer:function(){return document.getElementById("overview")},optionValueKey:"code",showSearch:!0,selectOptions:m,onSearch:function(e){return T(e)},onChange:function(t){r("city",t);var a=m.find((function(e){return(null===e||void 0===e?void 0:e.code)===t}));e.checkCity(null===a||void 0===a?void 0:a.code,"branch-office",null),r("name","TCI-".concat(a.name))},validate:function(){return e.isCityPresent?"Branch office for this city already exists":""},hasFeedback:!0}),l.a.createElement(f.b,{component:g.b,label:"Name *",value:s.name,name:"name",type:"text",disabled:!0})),l.a.createElement("div",{className:"mb-40 mt-40"},l.a.createElement(P,{className:"bold",strong:!0},"Services Offered *"),l.a.createElement("div",{className:"mt-10 form-grid grid-4"},null===t||void 0===t?void 0:t.map((function(t){return l.a.createElement("label",null,l.a.createElement(f.b,{name:"services",valuePropName:"checked",as:y.a,type:"checkbox",value:t,disabled:"hotel"===t&&("indirect"===e.supplierType||"branch-office"===e.supplierType)}),l.a.createElement("span",{className:"capitalize ml-10"},t.split("-").join(" ")))}))),l.a.createElement(f.a,{name:"services",render:function(e){return l.a.createElement(P,{type:"danger"},e)}}))),l.a.createElement("div",{className:"mb-40 mt-40"},l.a.createElement(P,{className:"bold",strong:!0},"Governing Cities *"),l.a.createElement("div",{className:"mt-10 form-grid grid-2"},l.a.createElement(f.b,{component:g.d,value:s.governingLocations,name:"governingLocations",label:"Select governing Cities *",selectOptions:Object(u.n)(x,null===(n=e.formValues)||void 0===n||null===(i=n.governingLocationsObjects)||void 0===i?void 0:i.map((function(e){return{name:e.name,value:null===e||void 0===e?void 0:e.code}})),"value"),hasFeedback:!0,showSearch:!0,filterOption:!1,mode:"multiple",validate:function(e){return(null===e||void 0===e?void 0:e.length)?null:"Please select atleast one city"},onSearch:function(t){return e.getCityListNoParams(t)}}))),Object(u.m)(e.tabStatus)?l.a.createElement(l.a.Fragment,null):l.a.createElement("div",{className:"flex flex-start mb-20"},l.a.createElement(h.a,{loading:c,type:"primary",htmlType:"submit"},c?"Saving...":"Save & continue"))))}))))))})),L=a(2),D=a(323),q=a(56),z=(a(3930),C.f().shape({noOfAirportPasses:C.g().required("Number of passport passes is required.").matches(/^[1-9][0-9]*$/,"Invalid number of airport passes. Must be between 1 - 250"),teamSize:C.g().matches(/^[1-9][0-9]*$/,"Invalid team size. Must be between 1 - 250").required("Team Size is required"),gstin:C.g().matches(/^[0-9]{2}[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ][0-9a-zA-Z]{1}$/,"Invalid GTSIN number").required("GST Number is required"),headOffice:C.f().shape({country:C.g().required("Country is required"),state:C.g().required("State is required"),city:C.g().required("City is required"),addressLine1:C.g().required("Address is required").min(2,"Cannot be less than 2 characters").max(1e3,"Cannot exceed more than 1000 characters"),pinCode:C.g().matches(/^[0-9]{6}$/,"Invalid Pincode").required("Pincode is required")})})),B=r.a.Text,V=Object(o.b)((function(e){var t,a=e.Suppliers,n=a.branchOffice,i=a.basicDetails,r=a.root,c=n.branchDetails.data;return{tabStatus:r.tabStatus.status,formValues:c,cityOfSupplier:null===(t=i.data)||void 0===t?void 0:t.city}}),(function(e){return{updateBranchOfficeBranchDetails:Object(m.b)(b.g,e)}}))((function(e){var t,a,i=e.setActiveBoSubTab,r=Object(s.i)().id,o=(Object(u.q)().get("stage"),Object(q.c)()),m=Object(n.a)(o,3),d=m[0],p=m[1],v=m[2],b=Object(c.useState)({}),E=Object(n.a)(b,2),O=E[0],y=E[1],N=Object(c.useState)({countryList:[],stateList:[],cityList:[]}),x=Object(n.a)(N,2),k=x[0],C=x[1],w={country:function(){return!0},state:function(){return!0},city:function(){return!0}},P=function(){var t=Object(j.a)(S.a.mark((function t(a){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=a,t.next=4,e.updateBranchOfficeBranchDetails(r,n);case 4:i("contacts"),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){C({countryList:[d],stateList:[p],cityList:[e.cityOfSupplier]}),y(Object(L.a)(Object(L.a)({},e.formValues),{},{headOffice:Object(L.a)(Object(L.a)({},e.formValues.headOffice),{},{city:e.cityOfSupplier.code,state:p.code,country:d.code})}))}),[null===(t=e.branchOffice)||void 0===t?void 0:t.branchDetails,d,p]),Object(c.useEffect)((function(){var t;v(null===(t=e.cityOfSupplier)||void 0===t?void 0:t.code)}),[null===(a=e.cityOfSupplier)||void 0===a?void 0:a.code]),l.a.createElement("div",{id:"branch-details",className:"basic-details ".concat(Object(u.m)(e.tabStatus)&&"read-only-mode")},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(f.e,{enableReinitialize:!0,initialValues:O,validationSchema:z,onSubmit:function(){var e=Object(j.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,e.next=3,P(t);case 3:n(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(t){var a=t.setFieldValue,n=t.isSubmitting,i=t.values;return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.d,null,l.a.createElement(B,{className:"bold",strong:!0},"Office Address"," "),l.a.createElement("div",{className:"mt-10 mb-40"},l.a.createElement(D.a,{values:i,parentKey:"headOffice",popupContainerId:"branch-details",setFieldValue:a,addressOptions:k,setAddressOptions:C,disabledFieldsOn:Object(L.a)({},w)})),l.a.createElement("div",{className:"mt-40"},l.a.createElement(B,{className:"bold",strong:!0},"Office Specific"," "),l.a.createElement("div",{className:"form-grid grid-3 mt-10"},l.a.createElement(f.b,{label:"Team Size *",type:"text",component:g.b,name:"teamSize",value:Object(u.g)(i,"teamSize",""),hasFeedback:!0,validate:function(e){return function(e){var t;return e>250?t="Team size cannot exceed more than 250":e<1&&(t="Team size cannot be less than 1"),t}(e)}})," ",l.a.createElement(f.b,{label:"No. of Airport passes *",type:"text",component:g.b,name:"noOfAirportPasses",value:Object(u.g)(i,"noOfAirportPasses",""),hasFeedback:!0,validate:function(e){return function(e){var t;return e>250?t="Number of airport passes cannot exceed more than 250":e<1&&(t="Number of airport passes cannot be less than 1"),t}(e)}})," ",l.a.createElement(f.b,{label:"GSTIN Number * ",type:"text",component:g.b,name:"gstin",value:Object(u.g)(i,"gstin",""),hasFeedback:!0}))),Object(u.m)(e.tabStatus)?l.a.createElement(l.a.Fragment,null):l.a.createElement("div",{className:"flex flex-start mb-20"},l.a.createElement(h.a,{loading:n,type:"primary",htmlType:"submit"},n?"Saving...":"Save & continue"))))}))))))})),F=a(3872),I=a(3878),A=(a(3931),a(14)),M=r.a.Text,G=Object(o.b)((function(e){var t=e.Suppliers,a=t.branchOffice,n=(t.basicDetails,t.root);return{formValues:a.contacts.data,tabStatus:n.tabStatus.status}}),(function(e){return{createBranchOfficeContact:Object(m.b)(b.b,e),updateBranchOfficeContact:Object(m.b)(b.h,e),deleteBranchOfficeContact:Object(m.b)(b.c,e)}}))((function(e){var t=Object(s.i)().id,a=(Object(u.q)().get("stage"),Object(c.useState)(null)),i=Object(n.a)(a,2),r=i[0],o=(i[1],Object(c.useState)(!1)),m=Object(n.a)(o,2),d=m[0],p=m[1],v=Object(c.useState)([]),b=Object(n.a)(v,2),f=(b[0],b[1],Object(c.useState)({})),g=Object(n.a)(f,2),E=g[0],O=g[1],y=function(){var a=Object(j.a)(S.a.mark((function a(n){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.createBranchOfficeContact(t,n);case 3:p(!1),Object(A.a)("success","Contact created successfully"),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}();return l.a.createElement("div",{className:"".concat(Object(u.m)(e.tabStatus)&&"read-only-mode"),style:{position:"relative"}},l.a.createElement(M,{className:"bold",strong:!0},"Contact Details"),l.a.createElement("div",{className:"mt-10 mb-20 form-grid"},l.a.createElement("div",{className:"button-dashed",onClick:function(){O({title:"",firstName:"",lastName:"",telephone:"",email:"",middleName:"",isPrimary:"",department:"",designation:""}),p(!0)}},l.a.createElement("img",{className:"mr-10",src:"/img/plus.svg"}),l.a.createElement("p",null,"Add contact"))),l.a.createElement("div",{className:"list-contacts"},l.a.createElement("div",null,l.a.createElement(I.a,{update:e.updateBranchOfficeContact,deleteContact:e.deleteBranchOfficeContact,showHeader:!0,origin:"contacts",contacts:e.formValues}))),d&&l.a.createElement(F.a,{onSubmit:y,inEditMode:!!r,initialValues:E,setInitialValues:O,setShowModal:p}),Object(u.m)(e.tabStatus)?l.a.createElement(l.a.Fragment,null):l.a.createElement("div",{className:"flex flex-start mb-20"},l.a.createElement("div",{className:"flex flex-start mt-40 mb-20"},l.a.createElement(h.a,{type:"primary"},"Continue"))))})),Z=v.a.TabPane;r.a.Text,r.a.Link,r.a.Title;var $=Object(o.b)((function(e){var t,a,n,i=e.Suppliers;return{branchOffice:i.branchOffice,isOverviewSaved:(null===(t=i.basicDetails)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.governingLocations)||void 0===n?void 0:n.length)>0}}),(function(e){return{getBranchOfficeBranchDetails:Object(m.b)(b.d,e),getBranchOfficeContacts:Object(m.b)(b.e,e)}}))((function(e){var t=e.servicesOffered,a=Object(u.q)(),i=(a.get("tab"),a.get("stage")),r=Object(s.i)(),o=r.id,m=(r.productType,Object(c.useState)("overview")),p=Object(n.a)(m,2),b=p[0],f=p[1];return Object(c.useEffect)((function(){e.getBranchOfficeBranchDetails(o,i),e.getBranchOfficeContacts(o,i)}),[]),l.a.createElement("div",{className:"basic-details"},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(v.a,{activeKey:b,onTabClick:function(e){return f(e)},centered:!0},l.a.createElement(Z,{tab:l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Overview"),e.isOverviewSaved&&l.a.createElement("img",{className:"ml-10",src:"/img/green-check-mark.svg"})),key:"overview"},l.a.createElement(T,Object(d.a)({setActiveBoSubTab:f,isCityPresent:e.isCityPresent,checkCity:e.checkCity,servicesOffered:t},"servicesOffered",t))),l.a.createElement(Z,{tab:l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Branch Details"),e.branchOffice.branchDetails.isDataSaved&&l.a.createElement("img",{className:"ml-10",src:"/img/green-check-mark.svg"})),key:"branch_details"},l.a.createElement(V,{setActiveBoSubTab:f})),l.a.createElement(Z,{tab:l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Contacts"),e.branchOffice.contacts.isDataSaved&&l.a.createElement("img",{className:"ml-10",src:"/img/green-check-mark.svg"})),key:"contacts"},l.a.createElement(G,null)))))))})),H=(a(213),a(3932),a(76),a(44)),R=a.n(H),K=(a(86),a(34)),J=a.n(K),_=a(214),Q=a(3859),U=a(184),W=(a(3933),function(e){var t,a,n,i,r=Object(s.g)(),c=Object(s.i)().id,o=function(){var e=Object(j.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=["published","deactivated"].includes(a)?"issued":"working",r.push("/resources/suppliers/".concat(t,"?stage=").concat(n,"&tab=basic-details"));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"resources-product-listing"},l.a.createElement("div",{className:"sticky-top-header"},l.a.createElement("div",{className:"flex items-center justify-between mb-16"},l.a.createElement("div",{className:"text-18 bold","data-testid":"list-item-count"},"Showing ".concat(null===(t=e.suppliersList)||void 0===t?void 0:t.length," suppliers"))),l.a.createElement("div",null,l.a.createElement("div",{className:"pl-14 mb-8",style:{display:"grid",gridTemplateColumns:"2fr 1fr 104px 1fr"}},["Supplier Name & Location","Offered","Version","Status"].map((function(e){return l.a.createElement("p",{key:e,className:"p-0 product-heading"},e)})))),(null===(a=e.loader)||void 0===a?void 0:a.isFetching)&&0===(null===(n=e.suppliersList)||void 0===n?void 0:n.length)?Array(10).fill(0).map((function(){return l.a.createElement("div",{className:"card-light-border pl-14 mb-16 flex flex-wrap items-center justify-between"},l.a.createElement(J.a.Avatar,{active:!0,style:{width:"52px",height:"52px"},shape:"square"}),l.a.createElement("div",{className:"flex flex-col mb-10"},l.a.createElement(J.a.Input,{size:"small",style:{width:250,height:"10px"},active:!0}),l.a.createElement(J.a.Input,{size:"small",style:{width:250,height:"10px"},active:!0})),l.a.createElement("div",{className:"flex flex-col mb-10"},l.a.createElement(J.a.Input,{size:"small",style:{width:150,height:"10px"},active:!0}),l.a.createElement(J.a.Input,{size:"small",style:{width:150,height:"10px"},active:!0})),l.a.createElement("div",{className:"flex flex-col mb-10"},l.a.createElement(J.a.Input,{size:"small",style:{width:100,height:"10px"},active:!0}),l.a.createElement(J.a.Input,{size:"small",style:{width:100,height:"10px"},active:!0})),l.a.createElement(J.a.Button,{active:!0,size:"small",shape:"round"}))})):l.a.createElement(l.a.Fragment,null,(null===(i=e.suppliersList)||void 0===i?void 0:i.length)>0?l.a.createElement("div",{"data-testid":"suppliers-listing",className:"suppliers-listing"},l.a.createElement("div",{className:"product-list"},e.suppliersList.map((function(e,t){return l.a.createElement(R.a,{key:t,className:"b-12 pl-14 pr-14 mb-10","data-testid":"guide-card"},e.map((function(t,a){var n,i,r,c,s;return l.a.createElement("div",{"data-testid":"guide-row-".concat(a),key:"guide-row-".concat(a),className:"".concat(e.length>1&&a>0&&"product-top-border"," pb-14 pt-14"),style:{display:"grid",gridTemplateColumns:"2fr 1fr 104px 1fr"}},l.a.createElement("div",{className:"flex items-center"},l.a.createElement("div",{onClick:function(){return o(t.businessCode,t.status)},className:"cursor-pointer initial-name"},{direct:"DS",indirect:"IS","branch-office":"BO","associate-office":"AO"}[t.type]),l.a.createElement("div",{className:"name-code-data"},l.a.createElement("div",{className:"product-name medium","data-testid":"product-name"},t.name),l.a.createElement("div",{className:"product-code regular","data-testid":"product-code"},null===t||void 0===t?void 0:t.businessCode))),l.a.createElement("div",{className:"flex flex-col justify-center align-center"},l.a.createElement("div",{className:"flex flex-col justify-center align-center medium product-name"},l.a.createElement("div",{"data-testid":"country-count",className:"product-code regular"},l.a.createElement("p",{className:"text-14 bold-black"},(null===(n=t.services)||void 0===n?void 0:n.length)+" Services"),(null===(i=t.services)||void 0===i?void 0:i.length)&&t.services.slice(0,3).map((function(e,a){return l.a.createElement("span",{className:"text-12 text-grey capitalize"},e+(a!==t.services.length-1?", ":""))})),(null===(r=t.services)||void 0===r?void 0:r.length)>3&&l.a.createElement("span",{className:"text-12",style:{color:"#3362fa"}}," +".concat((null===(c=t.services)||void 0===c?void 0:c.length)-3," more"))))),l.a.createElement("div",{className:"flex flex-col justify-center align-center"},"Version ",t.version),l.a.createElement("div",{onClick:function(){return o(t.businessCode,t.status)},className:"flex flex-col justify-center align-center pl-14"},l.a.createElement("div",{className:"cursor-pointer flex justify-between items-center"},l.a.createElement("div",{className:"capitalize product-tag product-tag-".concat(t.status),"data-testid":"guide-status"},null===(s=t.status)||void 0===s?void 0:s.split("-").join(" ")),l.a.createElement(Q.a,{style:{cursor:"pointer",fontSize:"12px",color:"#6c7a8f"}}))))})))}))),l.a.createElement(U.a,{onChange:function(t){return function(t){var a;(null===(a=e.suppliersList)||void 0===a?void 0:a.length)>0&&t&&e.currentPageNumber<e.totalPages&&e.getSuppliersList("indirect",c,e.currentPageNumber+1)}(t)}},l.a.createElement("div",{style:{height:"10px"}}),e.currentPageNumber<e.totalPages?l.a.createElement(J.a,{loading:!0,active:!0}):"")):l.a.createElement(_.a,{list:e.suppliersList}))))});var X=Object(o.b)((function(e){return{list:e.Suppliers.branchOffice.indirectSuppliers.data}}),(function(e){return{}}))((function(e){var t,a;return l.a.createElement("div",{className:"indirect-supplier-listing"},l.a.createElement(W,{suppliersList:null===e||void 0===e?void 0:e.indirectSuppliers,getSuppliersList:e.getIndirectSuppliersList,currentPageNumber:null===(t=e.indirectSuppliersData)||void 0===t?void 0:t.currentPageNumber,totalPages:null===(a=e.indirectSuppliersData)||void 0===a?void 0:a.totalPages}))}));r.a.Text,r.a.Link,r.a.Title;var Y=Object(o.b)((function(e){var t,a,n,i,r,c=e.Suppliers,l=c.basicDetails,s=c.root,o=l.data,m=s.tabStatus;return{indirectSuppliersData:null===c||void 0===c||null===(t=c.branchOffice)||void 0===t||null===(a=t.indirectSuppliers)||void 0===a?void 0:a.data,indirectSuppliers:null===c||void 0===c||null===(n=c.branchOffice)||void 0===n||null===(i=n.indirectSuppliers)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.content,supplierType:o.type,tabStatus:m}}),(function(e){return{getIndirectSuppliersList:Object(m.b)(b.f,e),checkCity:Object(m.b)(b.a,e)}}))((function(e){e.changeTab;var t=e.servicesOffered,a=Object(c.useState)(1),i=Object(n.a)(a,2),r=(i[0],i[1],Object(u.q)()),o=r.get("tab"),m=(r.get("stage"),Object(s.i)()),d=m.id;m.productType;return Object(c.useEffect)((function(){e.getIndirectSuppliersList("indirect",d,1)}),[d]),l.a.createElement("div",null,"basic-details"===o&&l.a.createElement(l.a.Fragment,null,l.a.createElement($,{isCityPresent:null===e||void 0===e?void 0:e.isCityPresent,checkCity:null===e||void 0===e?void 0:e.checkCity,servicesOffered:t})),"indirect-suppliers"===o&&l.a.createElement(l.a.Fragment,null,l.a.createElement(X,{indirectSuppliers:null===e||void 0===e?void 0:e.indirectSuppliers,getIndirectSuppliersList:e.getIndirectSuppliersList,indirectSuppliersData:e.indirectSuppliersData})))}));t.default=Y}}]);