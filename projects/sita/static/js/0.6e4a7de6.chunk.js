(this["webpackJsonpatko-mvp-frontend"]=this["webpackJsonpatko-mvp-frontend"]||[]).push([[0],{3886:function(e,t,a){},3971:function(e,t,a){},3972:function(e,t,a){},3979:function(e,t,a){},3980:function(e,t,a){},3981:function(e,t,a){},3982:function(e,t,a){},3983:function(e,t,a){},3984:function(e,t,a){},3985:function(e,t,a){},3986:function(e,t,a){},3987:function(e,t,a){},3993:function(e,t,a){"use strict";a.r(t);a(159);var n=a(93),l=a.n(n),i=(a(400),a(230)),r=a.n(i),c=(a(150),a(71)),o=a.n(c),s=a(2),u=a(1),m=a.n(u),d=a(6),v=a(8),p=a(0),y=a.n(p),f=a(57),g=a(28),b=a(10),h=a(105),E=a(224),N=a(268),C=a(94),D=a(42),x=a(210),k=a(172),I=a(14),O=a(3861),A=(a(3971),a(1045),a(945)),P=a.n(A),F=(a(118),a(54)),j=a.n(F),R=a(19),w=(a(3972),a(15)),S=a.n(w),T=[{type:"radio-group",title:"TCI Classicfication",key:"rooms",show:4,hide:7,options:[{label:"Luxury",value:"lux"},{label:"First Class",value:"first-class"},{label:"Moderate",value:"moderate"},{label:"Budget",value:"budget"},{label:"Home Stay Luxury",value:"home-stay-lux"},{label:"Home Stay First Class",value:"home-stay-first-class"},{label:"Home Stay Moderate",value:"home-stay-moderate"},{label:"Home Stay Budget",value:"home-stay-budget"},{label:"Houseboat Luxury",value:"houseboat-lux"},{label:"Houseboat First Class",value:"houseboat-first-class"},{label:"Houseboat Moderate",value:"houseboat-moderate"}]},{type:"radio-group",title:"Official Classification",key:"stars",show:5,hide:6,options:[{label:"Five Star",value:"5str"},{label:"Four Star",value:"4str"},{label:"Three Star",value:"3str"},{label:"Two Star",value:"2str"},{label:"One Star",value:"1str"},{label:"Home Stay",value:"home-stay"},{label:"Heritage",value:"heritage"},{label:"Houseboat Platinum",value:"houseboat-platinum"},{label:"Houseboat Gold",value:"houseboat-gold"},{label:"Houseboat Silver",value:"houseboat-silver"},{label:"Five Star Luxury",value:"5str-lux"}],onchange:"onStarChange"},{type:"range",title:"Price Range",key:"price",min:500,max:1e3},{type:"fsrc",title:"Exclude FSRC",key:"excludeFSRC",onChange:"onShowFsrcChange"}],M=[{type:"range",title:"Price Range",min:0,max:5e4}],Q=[{type:"radio-group",title:"Best time to visit",key:"time",options:[{label:"Morning (6AM - 9AM)",value:"morning"},{label:"Afternoon (9AM - 12PM)",value:"noon"},{label:"Evening (12PM - 3PM)",value:"evening"},{label:"Night (3PM - 6PM)",value:"night"}]},{type:"range",key:"duration",title:"Recommended Duration",min:0,max:5},{type:"range",key:"mprice",title:"Price Range",min:0,max:5e4}],L=[{type:"radio-group-duration",title:"Duration",key:"type",options:[{label:"Accompanying",value:"accompanying"},{label:"Full Day",value:"local-full-day"},{label:"Half Day",value:"local-half-day"}]},{type:"radio-group-languages",title:"Available Language",key:"languages"},{type:"range",title:"Price Range",key:"guide-price",min:100,max:1e3}],Y=[{type:"radio-group",title:"Restaurant Type",key:"meal-type",options:[{label:"Stand-alone",value:!1,disabled:!0},{label:"Part of Hotel",value:!0,disabled:!0}]},{type:"radio-group",title:"Cuisine",key:"cuisines",options:[{label:"Indian",value:"indian"},{label:"Chinese",value:"chinese"},{label:"Italian",value:"italian"},{label:"Multi-Cuisine",value:"multi-cuisine"}]},{type:"radio-group",title:"Style",key:"meal-styles",options:[{label:"Casual",value:"casual"},{label:"Fine Dining",value:"fine-dining"}]},{type:"range",title:"Adult Price Range",key:"fb-price",min:0,max:5e4}],B=(a(3973),{500:"\u20b9500",1e3:{label:"\u20b91000+",style:{transform:"translateX(-100%)"}}}),H={100:{label:"\u20b9100"},1e3:{label:"\u20b91000+"}},G={0:{label:"\u20b90"},5e4:{label:"\u20b950000+",style:{transform:"translateX(-100%)"}}},W={0:{label:"0hrs"},5:{label:"5hrs+",style:{transform:"translateX(-100%)"}}};var q=Object(g.b)((function(e){return{languageList:e.Language.languageList}}),(function(e){return{setHotelFilters:Object(b.b)(h.j,e),setActivityFilters:Object(b.b)(E.i,e),setMonumentFilters:Object(b.b)(N.h,e),setFbFilters:Object(b.b)(k.i,e),setGuideFilters:Object(b.b)(C.l,e)}}))((function(e){var t=Object(p.useState)([]),a=Object(v.a)(t,2),n=a[0],l=a[1],i=Object(p.useState)(!1),r=Object(v.a)(i,2),c=r[0],o=r[1],s=Object(p.useState)(!1),u=Object(v.a)(s,2),m=u[0],d=u[1],f=Object(p.useState)("hotel"===e.product&&e.hotelFilters.rooms),g=Object(v.a)(f,2),b=g[0],h=g[1],E=Object(p.useState)("hotel"===e.product&&e.hotelFilters.stars),N=Object(v.a)(E,2),C=N[0],D=N[1],x=Object(p.useState)(null),k=Object(v.a)(x,2),I=k[0],O=k[1],A=Object(p.useState)(e.defaultTheme?Object(R.a)(e.defaultTheme):[]),F=Object(v.a)(A,2),w=F[0],S=F[1],q=Object(p.useState)(e.defaultLevel?[e.defaultLevel]:[]),V=Object(v.a)(q,2),z=V[0],_=V[1],U=Object(p.useState)([]),X=Object(v.a)(U,2),J=X[0],K=X[1],$=Object(p.useState)(),Z=Object(v.a)($,2),ee=Z[0],te=Z[1],ae=Object(p.useState)(null),ne=Object(v.a)(ae,2),le=ne[0],ie=ne[1],re=Object(p.useState)(null),ce=Object(v.a)(re,2),oe=ce[0],se=ce[1],ue=Object(p.useState)(null),me=Object(v.a)(ue,2),de=me[0],ve=me[1],pe=Object(p.useState)(!1),ye=Object(v.a)(pe,2),fe=ye[0],ge=ye[1],be=Object(p.useState)([]),he=Object(v.a)(be,2),Ee=he[0],Ne=he[1],Ce=Object(p.useState)([]),De=Object(v.a)(Ce,2),xe=De[0],ke=De[1],Ie=Object(p.useState)([]),Oe=Object(v.a)(Ie,2),Ae=Oe[0],Pe=Oe[1],Fe=Object(p.useState)(!1),je=Object(v.a)(Fe,2),Re=je[0],we=je[1],Se=Object(p.useState)(!1),Te=Object(v.a)(Se,2),Me=Te[0],Qe=Te[1],Le=Object(p.useState)(!1),Ye=Object(v.a)(Le,2),Be=Ye[0],He=Ye[1],Ge=Object(p.useState)(!0),We=Object(v.a)(Ge,2),qe=We[0],Ve=We[1],ze=Object(p.useState)(null),_e=Object(v.a)(ze,2),Ue=_e[0],Xe=_e[1],Je=Object(p.useState)(null),Ke=Object(v.a)(Je,2),$e=Ke[0],Ze=Ke[1],et=Object(p.useState)(null),tt=Object(v.a)(et,2),at=tt[0],nt=tt[1],lt=function(e,t){switch(e){case"rooms":h(t),we(!0);break;case"stars":D(t),we(!0);break;case"tags":O(t);break;case"theme":S(t),Qe(!0);break;case"level":_(t),He(!0);break;case"price":ve(t);break;case"acprice":se(t);break;case"mprice":ie(t);break;case"time":K(t);break;case"duration":t=t.map((function(e){return 60*e})),console.log("time",t),te(t);break;case"excludeFSRC":ge(t.target.checked)}},it=function(e,t){switch(console.log(t,"list"),e){case"meal-type":Ve.apply(void 0,Object(R.a)(t));break;case"cuisines":Xe(t);break;case"meal-styles":Ze(t);break;case"fb-price":nt(t)}},rt=function(e,t){switch(e){case"type":Ne(t);break;case"languages":ke(t);break;case"guide-price":Pe(t)}};return Object(p.useEffect)((function(){e.setHotelFilters({rooms:b,stars:C,tags:I,price:de,excludeFSRC:fe}),e.setExcludeFSRC(fe)}),[b,C,I,de,fe]),Object(p.useEffect)((function(){e.setActivityFilters({themes:w,levels:z,price:oe})}),[w,z,oe]),Object(p.useEffect)((function(){e.setMonumentFilters({time:J,duration:ee,price:le})}),[le,J,ee]),Object(p.useEffect)((function(){e.setFbFilters({mealType:qe,cuisine:Ue,mealStyle:$e,mealPrice:at})}),[qe,Ue,$e,at]),Object(p.useEffect)((function(){e.setGuideFilters({type:Ee,language:xe,priceRange:Ae})}),[Ee,xe,Ae]),Object(p.useEffect)((function(){e.setActivityFilters({}),e.setMonumentFilters({}),e.setGuideFilters({}),e.setFbFilters({})}),[]),Object(p.useEffect)((function(){"guide"===e.product&&(e.languageList.forEach((function(e,t,a){var n={label:e.name,value:e.code};a[t]=n})),l(e.languageList))}),[e.languageList]),y.a.createElement("section",{className:"flex flex-col ".concat("hotel"!==e.product&&"guide"!==e.product?"no-hotel":"filters-component")},y.a.createElement("span",{className:"line-block bold uppercase text-14 mb-10"},"Filters"),"hotel"===e.product&&T.map((function(t,a){switch(t.type){case"checkbox":return y.a.createElement("div",{key:a,className:"mb-10"},y.a.createElement("span",{className:"headline text-16"},t.title),y.a.createElement("br",null),y.a.createElement(j.a,{defaultChecked:!1,onChange:function(e){return lt(t.key,e)}}));case"fsrc":return y.a.createElement("div",{key:a,className:"mb-10"},y.a.createElement("span",{className:"headline text-16"},t.title),y.a.createElement("br",null),y.a.createElement(j.a,{checked:fe,onChange:function(e){return lt(t.key,e)}}));case"radio-group":return y.a.createElement("div",{key:a,className:"mb-10"},y.a.createElement("span",{className:"headline text-16"},t.title),y.a.createElement(j.a.Group,{defaultValue:"rooms"===t.key?Re?e.hotelFilters[t.key]:[e.hotelCategory].concat(e.hotelFilters[t.key]):Re?e.hotelFilters[t.key]:[e.hotelClassification].concat(e.hotelFilters[t.key]),className:"filter-group mb-0",options:"rooms"===t.key?c?t.options:t.options.slice(0,t.show):m?t.options:t.options.slice(0,t.show),onChange:function(e){return lt(t.key,e)}}),y.a.createElement("a",{className:"more-filters mb-30",onClick:function(){return"rooms"===t.key?o(!c):d(!m)}},"rooms"===t.key?c?"Show less":"+ ".concat(t.hide," more"):m?"Show less":"+ ".concat(t.hide," more")));case"range":return y.a.createElement("div",{key:a,className:"price-filter"},y.a.createElement("span",{className:"headline text-16"},t.title),y.a.createElement(P.a,{min:t.min,max:t.max,marks:B,range:!0,onAfterChange:function(e){return lt(t.key,e)}}))}})),"activity"===e.product&&e.themes&&y.a.createElement("div",null,y.a.createElement("span",{className:"weight-600 text-14"},"Themes"),y.a.createElement(j.a.Group,{defaultValue:Me?e.activityFilters.themes:e.defaultTheme.concat(e.activityFilters.themes),className:"filter-group",options:e.themes,onChange:function(e){return lt("theme",e)}})),"activity"===e.product&&e.difficulties&&y.a.createElement("div",null,y.a.createElement("span",{className:"weight-600 text-14"},"Difficulties"),y.a.createElement(j.a.Group,{defaultValue:Be?e.activityFilters.levels:[e.defaultLevel].concat(e.activityFilters.levels),className:"filter-group",options:e.difficulties,onChange:function(e){return lt("level",e)}})),"activity"===e.product&&M.map((function(t,a){switch(t.type){case"range":return y.a.createElement("div",{key:a},y.a.createElement("span",{className:"weight-600 text-14"},t.title),y.a.createElement(P.a,{min:t.min,max:t.max,marks:G,range:!0,defaultValue:e.activityFilters&&"price"in e.activityFilters&&e.activityFilters.price?e.activityFilters.price:[0,0],onAfterChange:function(e){return lt("acprice",e)}}))}})),"monument"===e.product&&Q.map((function(t,a){switch(t.type){case"radio-group":return y.a.createElement("div",{key:a},y.a.createElement("span",{className:"headline text-16"},t.title),y.a.createElement(j.a.Group,{defaultValue:e.monumentFilters&&e.monumentFilters[t.key],className:"filter-group",options:t.options,onChange:function(e){return lt(t.key,e)}}));case"range":return y.a.createElement("div",{key:a},y.a.createElement("span",{className:"weight-600 text-14"},t.title),y.a.createElement(P.a,{min:t.min,max:t.max,defaultValue:e.monumentFilters&&t.key in e.monumentFilters&&"duration"===t.key&&e.monumentFilters[t.key]?e.monumentFilters.duration:e.monumentFilters&&"price"in e.monumentFilters&&"mprice"===t.key&&e.monumentFilters.price?e.monumentFilters.price:[0,0],step:"mprice"===t.key?1:.5,marks:"mprice"===t.key?G:W,range:!0,onAfterChange:function(e){return lt(t.key,e)}}))}})),"fb-services"===e.product&&Y.map((function(e,t){switch(e.type){case"range":return y.a.createElement("section",{key:t},y.a.createElement("span",{className:"weight-600 text-14"},e.title),y.a.createElement(P.a,{className:"ml-10",min:e.min,max:e.max,marks:G,range:!0,onAfterChange:function(t){return it(e.key,t)}}));case"radio-group":return y.a.createElement("section",{key:t},y.a.createElement("span",{className:"weight-600 text-14"},e.title),y.a.createElement(j.a.Group,{className:"filter-group",options:e.options,defaultValue:[!1],onChange:function(t){return it(e.key,t)}}))}})),"guide"===e.product?L.map((function(e,t){switch(e.type){case"range":return y.a.createElement("section",{key:t},y.a.createElement("span",{className:"weight-600 text-14"},e.title),y.a.createElement(P.a,{min:e.min,max:e.max,marks:H,range:!0,onAfterChange:function(t){return rt(e.key,t)}}));case"radio-group-languages":if(n.length&&void 0!==n[0].value)return y.a.createElement("section",{key:t},y.a.createElement("span",{className:"weight-600 text-14"},e.title),y.a.createElement(j.a.Group,{className:"filter-group",options:n,onChange:function(t){return rt(e.key,t)}}));break;case"radio-group-duration":return y.a.createElement("section",{key:t},y.a.createElement("span",{className:"weight-600 text-14"},e.title),y.a.createElement(j.a.Group,{className:"filter-group",options:e.options,onChange:function(t){return rt(e.key,t)}}))}})):null)})),V=a(687),z=(a(1043),a(686)),_=a.n(z),U=(a(86),a(34)),X=a.n(U),J=(a(285),a(162)),K=a.n(J),$=(a(680),a(259)),Z=a.n($),ee=(a(141),a(77)),te=a.n(ee),ae=(a(3979),a(38),a(21)),ne=a.n(ae),le=a(156),ie=(a(3980),a(74)),re=a(185);a(281);var ce=Object(g.b)((function(e){var t=e.Queries;return{adultCount:t.root.adultCount,childCount:t.root.childCount,childAge:t.root.childAge,standardPricingId:t.activity.standardPricingId,hotelRates:t.hotel.hotelRates,fbService:t.fb.fbItineraryData,fbOptionalService:t.fb.fbOptionalItineraryData}}),(function(e){return{setHotelSelected:Object(b.b)(h.k,e),setActivityPaxDetails:Object(b.b)(E.j,e),setMonumentDetails:Object(b.b)(N.i,e)}}))((function(e){var t,a,n,l,i,c,o,u,f,g,b,h,E,N,C,D,x,k,I,O,A,P,F,j,R,w=e.product,S=e.data,T=e.name,M=(e.rateCards,e.dateWiseRates),Q=e.roomDetails,L=e.adultAge,Y=e.areChildAllowed,B=e.childsAge,H=e.areYoungChildAllowed,G=e.youngChildAge,W=e.areInfantsAllowed,q=e.infantAge,V=e.rateCardId,z=e.contractId,_=e.standardRateCard,U=e.supplements,X=e.standardPricing,J=e.currency,K=e.setActivityPaxDetails,$=e.setMonumentDetails,Z=e.setHotelSelected,ee=e.checkOutTime,te=e.checkInTime,ae=e.adultCount,ce=e.childCount,oe=e.childAge,se=e.expertPricing,ue=e.languagePricing,me=e.defaultLanguage,de=e.timeSlots,ve=e.showAddNewProductModal,pe=e.standardPricingId,ye=e.businessCode,fe=e.version,ge=e.close,be=e.hotelRates,he=e.contractType,Ee=e.rateCode,Ne=e.coverCharge,Ce=e.bookingWebsite,De=e.contractCode,xe=e.durationInHours,ke=e.fbService,Ie=e.fbOptionalService,Oe=Object(p.useState)([]),Ae=Object(v.a)(Oe,2),Pe=Ae[0],Fe=Ae[1],je=Object(p.useState)(!1),Re=Object(v.a)(je,2),we=Re[0],Se=Re[1],Te=Object(p.useState)(!1),Me=Object(v.a)(Te,2),Qe=Me[0],Le=Me[1];ie.console.log(w);var Ye="",Be="";Object(p.useEffect)((function(){var e,t,a,n,l,i,r,c,o,s,u,m,d,v,p;"fb-services"===w&&(((null===(e=Ie[0])||void 0===e||null===(t=e.primary)||void 0===t||null===(a=t.productCost)||void 0===a?void 0:a.rateId)==S[0].id||(null===(n=ke[0])||void 0===n||null===(l=n.primary)||void 0===l||null===(i=l.productCost)||void 0===i?void 0:i.rateId)==S[0].id||(null===(r=ke[0])||void 0===r||null===(c=r.supplements[0])||void 0===c||null===(o=c.productCost)||void 0===o?void 0:o.rateId)==S[0].id||(null===(s=ke[0])||void 0===s||null===(u=s.primary)||void 0===u?void 0:u.productCost)&&(null===(m=ke[0])||void 0===m||null===(d=m.supplements[0])||void 0===d?void 0:d.productCost))&&Le(!0),0==ke.length&&(S[0].baseCategory=!0),0!==ke.length&&(null===(v=ke[0])||void 0===v||null===(p=v.primary)||void 0===p?void 0:p.productCost)&&(S[0].baseCategory=!1))}),[ke,Ie,S,w]);var He=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},S.occupancyRates.forEach((function(e){e.roomType===Q.roomType&&e.occupancyRatesByMealPlans.forEach((function(e){e.mealPlan===Q.mealPlan&&(t=e.occupancyRates)}))})),e.next=4,Z({guestCategorisation:{adultAge:L,areChildAllowed:Y,childAge:B,areYoungChildAllowed:H,youngChildAge:G,areInfantsAllowed:W,infantAge:q},occupancyRates:t,mealPlan:Q.mealPlan,businessCode:ye,name:T,roomType:Q.roomType,roomRate:X.toFixed(2),totalRate:X.toFixed(2),currency:Be,contractId:z,rateCardId:V,version:fe,dateRates:M,checkInTime:te,checkOutTime:ee,supplierName:be.supplierName,supplierCode:be.supplierCode,parentGroupId:be.hotelGroup?be.hotelGroup.id:null,parentGroup:be.hotelGroup?be.hotelGroup.name:null});case 4:ve(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fe(t),Se(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,l,i,r){var c,o,u,d,v,p,y,f,g,b,h,E,N,C,D,x,k,I,O,A,P,F,j,R,M,Q,H=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M=H.length>6&&void 0!==H[6]?H[6]:{},e.t0=w,e.next="activity"===e.t0?4:"monument"===e.t0?8:11;break;case 4:return Q=ue.filter((function(e){return e.minimumGuests<=ae+ce&&e.maximumGuests>=ae+ce})),e.next=7,K({businessCode:S.businessCode,version:S.version,name:T[0],rateCardId:V,currency:Ye,pricingType:"pax",guestCategorisation:{adultAge:L,areChildAllowed:Y,childAge:B,areInfantsAllowed:W,infantAge:q},guestCapacity:{min:i,max:r},standardPricingId:t,standardPrice:a,childPrice:n,infantPrice:l,expertPricing:se,languagePricing:Q,defaultLanguage:me,timeSlots:de,duration:xe,supplierCode:S.supplierCode,startPoint:{addressLine1:null===(c=S.startPoint)||void 0===c?void 0:c.addressLine1,addressLine2:null===(o=S.startPoint)||void 0===o?void 0:o.addressLine2,addressLine3:null===(u=S.startPoint)||void 0===u?void 0:u.addressLine3,city:null===(d=S.startPoint)||void 0===d||null===(v=d.city)||void 0===v?void 0:v.code,country:null===(p=S.startPoint)||void 0===p||null===(y=p.country)||void 0===y?void 0:y.code,latitude:null===(f=S.startPoint)||void 0===f?void 0:f.latitude,longitude:null===(g=S.startPoint)||void 0===g?void 0:g.longitude,pinCode:null===(b=S.startPoint)||void 0===b?void 0:b.pinCode,state:null===(h=S.startPoint)||void 0===h||null===(E=h.state)||void 0===E?void 0:E.code},endPoint:{addressLine1:null===(N=S.endPoint)||void 0===N?void 0:N.addressLine1,addressLine2:null===(C=S.endPoint)||void 0===C?void 0:C.addressLine2,addressLine3:null===(D=S.endPoint)||void 0===D?void 0:D.addressLine3,city:null===(x=S.endPoint)||void 0===x||null===(k=x.city)||void 0===k?void 0:k.code,country:null===(I=S.endPoint)||void 0===I||null===(O=I.country)||void 0===O?void 0:O.code,latitude:null===(A=S.endPoint)||void 0===A?void 0:A.latitude,longitude:null===(P=S.endPoint)||void 0===P?void 0:P.longitude,pinCode:null===(F=S.endPoint)||void 0===F?void 0:F.pinCode,state:null===(j=S.endPoint)||void 0===j||null===(R=j.state)||void 0===R?void 0:R.code},contractType:he,rateCode:Ee,coverCharge:Ne});case 7:return e.abrupt("break",11);case 8:return e.next=10,$(Object(s.a)({openingTime:S.openingTime,closingTime:S.closingTime,recommendedDuration:S.recommendedDuration,businessCode:S.businessCode,guestCategorisation:{adultAge:L,areChildAllowed:Y,childAge:B,areInfantsAllowed:W,infantAge:q},version:S.version,name:T[0],contractId:z,currency:Ye,standardRateId:t,standardRate:a,childRate:n,infantRate:l,supplements:U,bookingWebsite:Ce,contractCode:De,managementType:S.managementType},M));case 10:return e.abrupt("break",11);case 11:ve(!0);case 12:case"end":return e.stop()}}),e)})));return function(t,a,n,l,i,r){return e.apply(this,arguments)}}();ie.console.log(J),J&&((null===J||void 0===J?void 0:J.symbol)?(Ye=J.symbol,Be=J.code):(null===J||void 0===J?void 0:J.code)&&(Ye=J.code.toUpperCase(),Be=J.code));for(var qe=0;qe<oe.length;qe++)oe[qe]<=S.infantMaxAge&&oe[qe]>S.infantMinAge?0:oe[qe]<=S.childMaxAge&&oe[qe]>S.childMinAge&&0;return ie.console.log(S),y.a.createElement("div",{className:"cheapest-card p-15 flex flex-col"},"hotel"===w&&y.a.createElement(y.a.Fragment,null,y.a.createElement(r.a.Ribbon,{placement:"start",color:"#23a621",text:y.a.createElement("span",{className:"uppercase weight-500 text-11"},"MOST RECOMMENDED")}),y.a.createElement("section",{className:"card-content mt-30 p-10"},y.a.createElement("div",{className:"flex flex-col items-start"},y.a.createElement("p",{className:"text-14 bold firstLetter"},Q.roomType),y.a.createElement("p",{className:"text-12 opacity-5 mb-20"},le.b[Q.mealPlan]),y.a.createElement("p",{className:"available-ameneties text-12 opacity-20"},y.a.createElement("img",{className:"mr-2",src:"/img/QueryIcons/available-check.svg"}),"Free Cancelletion"),y.a.createElement("p",{className:"available-ameneties text-12 opacity-20"},y.a.createElement("img",{className:"mr-2",src:"/img/QueryIcons/available-check.svg"}),"Includes Breakfast"),y.a.createElement(ne.a,{type:"link",className:"bold mt-20 pl-0 text-12 uppercase opacity-20"},y.a.createElement("img",{className:"mr-2",src:"/img/QueryIcons/room-type.svg"}),"See Other Rooms")),y.a.createElement("div",{className:"flex flex-col items-end text-center "},y.a.createElement("p",{className:"text-11 bold uppercase opacity-20"},y.a.createElement("img",{className:"mr-2",src:"/img/QueryIcons/tag-special.svg"}),"Deal Applied",y.a.createElement("img",{className:"ml-2",src:"/img/QueryIcons/alert.svg"})),y.a.createElement("del",{className:"text-12 opacity-20"},"$250.00"),y.a.createElement("p",{className:"text-18 bold"},Ye," ",X.toFixed(2)),y.a.createElement("p",{className:" text-12"},y.a.createElement("span",{className:"opacity-5"},Ye," ",X.toFixed(2)),y.a.createElement("span",{className:"bold"}," (Per Room / Night)")),y.a.createElement("div",{className:"add-cheapest-room"},y.a.createElement(ne.a,{onClick:function(){return He()},className:"mt-20",type:"primary"},"Add to Plan"))))),"activity"===w&&X&&X.map((function(e){return e.id===pe&&y.a.createElement("section",{className:"card-content mt-10 mb-10 p-10"},y.a.createElement("div",{className:""},y.a.createElement("p",{className:"text-11 bold uppercase opacity-20 mb-10"},y.a.createElement("img",{className:"mr-2",src:"/img/QueryIcons/tag-special.svg"}),"Deal Applied",y.a.createElement("img",{className:"ml-2",src:"/img/QueryIcons/alert.svg"})),y.a.createElement("p",{className:"text-18 bold mb-4"},Ye," ",e.standardPrice.toFixed(2)),y.a.createElement("p",{className:"text-12 bold"},"(Per Person)")),y.a.createElement("div",{className:"flex flex-col items-end"},y.a.createElement("div",{className:"add-cheapest-room"},y.a.createElement(ne.a,{onClick:function(){return We(e.id,e.standardPrice,e.childPrice,e.infantPrice,e.minimumGuests,e.maximumGuests)},className:"mt-20",type:"primary"},"Add to Plan"))))})),"monument"===w&&_&&y.a.createElement("section",{className:"card-content mt-10 mb-10 p-10"},y.a.createElement("div",{className:""},y.a.createElement("p",{className:"text-11 bold uppercase opacity-20 mb-10"},y.a.createElement("img",{className:"mr-2",src:"/img/QueryIcons/tag-special.svg"}),"Deal Applied",y.a.createElement("img",{className:"ml-2",src:"/img/QueryIcons/alert.svg"})),y.a.createElement("p",{className:"text-18 bold mb-4"},Ye," ",_.foreignAdult.toFixed(2)),y.a.createElement("p",{className:"text-12 bold"},"(Per Person)")),y.a.createElement("div",{className:"flex flex-col items-end text-center"},y.a.createElement("div",{className:"add-cheapest-room"},y.a.createElement(ne.a,{onClick:function(){return We(_.id,_.foreignAdult,_.foreignChild,_.foreignInfant,0,0,{foreignAdult:_.foreignAdult,foreignChild:_.foreignChild,foreignInfant:_.foreignInfant,indianAdult:_.indianAdult,indianChild:_.indianChild,indianInfant:_.indianInfant})},className:"mt-20",type:"primary"},"Add to Plan")))),"fb-services"===w&&y.a.createElement(y.a.Fragment,null,y.a.createElement(r.a.Ribbon,{placement:"start",color:"#23a621",text:y.a.createElement("span",{className:"uppercase weight-500 text-11"},"Cheapest Available")}),y.a.createElement("section",{className:"card-content mt-20 mb-10 p-10"},y.a.createElement("div",{className:""},y.a.createElement("p",{className:"text-11 bold uppercase mb-10 mt-10"},null===(t=S[0])||void 0===t?void 0:t.name),y.a.createElement("span",null,(null===(a=S[0])||void 0===a?void 0:a.adultCostCurrency)?(null===(n=S[0])||void 0===n?void 0:n.adultCostCurrency.symbol)?null===(l=S[0])||void 0===l?void 0:l.adultCostCurrency.symbol:null===(i=S[0])||void 0===i?void 0:i.adultCostCurrency.code:null," ",null===(c=S[0])||void 0===c?void 0:c.costPerAdult,"/Adult +"," ",(null===(o=S[0])||void 0===o?void 0:o.adultCostCurrency)?(null===(u=S[0])||void 0===u?void 0:u.adultCostCurrency.symbol)?null===(f=S[0])||void 0===f?void 0:f.adultCostCurrency.symbol:null===(g=S[0])||void 0===g?void 0:g.adultCostCurrency.code:null," ",(null===(b=S[0])||void 0===b?void 0:b.costPerChild)||0,"/Child"),y.a.createElement("p",{className:"text-11 bold uppercase opacity-20  mt-10 mb-10"},y.a.createElement("img",{className:"mr-2",src:"/img/QueryIcons/tag-special.svg"}),"Deal Applied",y.a.createElement("img",{className:"ml-2",src:"/img/QueryIcons/alert.svg"})),y.a.createElement("p",{className:"text-18 bold mb-4"},Ye)),y.a.createElement("div",{className:"flex flex-col items-end"},y.a.createElement("p",{className:"text-18 bold"},(null===(h=S[0])||void 0===h?void 0:h.adultCostCurrency)?(null===(E=S[0])||void 0===E?void 0:E.adultCostCurrency.symbol)?null===(N=S[0])||void 0===N?void 0:N.adultCostCurrency.symbol:null===(C=S[0])||void 0===C?void 0:C.adultCostCurrency.code:null," ",Object(ie.Number)(null===(D=S[0])||void 0===D?void 0:D.costPerAdult).toFixed(2)),y.a.createElement("p",{className:"opacity-5 text-12"},(null===(x=S[0])||void 0===x?void 0:x.adultCostCurrency)?(null===(k=S[0])||void 0===k?void 0:k.adultCostCurrency.symbol)?null===(I=S[0])||void 0===I?void 0:I.adultCostCurrency.symbol:null===(O=S[0])||void 0===O?void 0:O.adultCostCurrency.code:null," ",(null===(A=S[0])||void 0===A?void 0:A.costPerChild)||0,"/Child +"," ",(null===(P=S[0])||void 0===P?void 0:P.adultCostCurrency)?(null===(F=S[0])||void 0===F?void 0:F.adultCostCurrency.symbol)?null===(j=S[0])||void 0===j?void 0:j.adultCostCurrency.symbol:null===(R=S[0])||void 0===R?void 0:R.adultCostCurrency.code:null," ","0/Infant"),y.a.createElement("div",{className:"add-cheapest-room"},y.a.createElement(ne.a,{onClick:function(){return Ge(S[0])},className:"cheap-button mt-20",type:"primary",disabled:Qe},"Add to Plan"))))),y.a.createElement(re.a,{product:"fb-services",visible:we,setVisible:Se,edit:!0,data:Pe,close:ge}))})),oe=a(11),se=a(18);a(3886);var ue=Object(g.b)((function(e){var t=e.Queries,a=e.itenaryData;return{startDate:t.root.startDate,endDate:t.root.endDate,hotelRates:t.hotel.hotelRates,lengthOfStay:t.root.lengthOfStay,selectedDate:t.root.selectedDate,dateWiseContracts:t.hotel.dateWiseContracts,itenaryQueryDetails:a.itenaryQueryDetails}}),(function(e){return{setHotelSelected:Object(b.b)(h.k,e)}}))((function(e){var t=e.data,a=e.isBaseCategory,n=e.occupancyRatesArray,l=e.version,i=e.adultAge,r=e.areChildAllowed,c=e.childAge,o=e.areYoungChildAllowed,s=e.youngChildAge,u=e.areInfantsAllowed,v=e.infantAge,f=e.name,g=e.checkInTime,b=e.checkOutTime,h=e.businessCode,E=e.setHotelSelected,N=(e.itenaryQueryDetails,e.rateCards,e.contractId),C=e.rateCardId,D=(e.dateWiseContracts,e.lengthOfStay,e.hotelRates),x=e.selectedDate;e.currency;console.log(g,b,"time");var k=function(){var e=Object(d.a)(m.a.mark((function e(t,a,d,p,y){var x;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x={},n.forEach((function(e){e.roomType===t&&e.occupancyRatesByMealPlans.forEach((function(e){e.mealPlan===a&&(x=e.occupancyRates)}))})),e.next=4,E({guestCategorisation:{adultAge:i,areChildAllowed:r,childAge:c,areYoungChildAllowed:o,youngChildAge:s,areInfantsAllowed:u,infantAge:v},occupancyRates:x,mealPlan:a,businessCode:h,name:f,roomType:t,roomRate:d.toFixed(2),totalRate:d.toFixed(2),currency:p,contractId:N,rateCardId:C,version:l,dateRates:y,checkInTime:g,checkOutTime:b,supplierName:D.supplierName,supplierCode:D.supplierCode,parentGroupId:D.hotelGroup?D.hotelGroup.id:null,parentGroup:D.hotelGroup?D.hotelGroup.name:null});case 4:P.showAddNewProductModal(!0);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,l,i){return e.apply(this,arguments)}}(),I=[],O=[],A=[];D&&D.roomPrices&&D.roomPrices.forEach((function(e){e.type===t.type&&e.rates.sort((function(e,t){var a=null===e||void 0===e?void 0:e.dateWiseRates.find((function(e){return e.travelDate===S()(x).format("YYYY-MM-DD")})),n=null===t||void 0===t?void 0:t.dateWiseRates.find((function(e){return e.travelDate===S()(x).format("YYYY-MM-DD")}));return a&&n&&a.perRoomPerNightPrice<n.perRoomPerNightPrice?-1:a&&n&&a.perRoomPerNightPrice>n.perRoomPerNightPrice?1:0})).map((function(e,a){var n=null===e||void 0===e?void 0:e.dateWiseRates.find((function(e){return e.travelDate===S()(x).format("YYYY-MM-DD")}));n&&(A.push(y.a.createElement("div",{className:"RoomType-Option flex flex-col"},y.a.createElement("p",{className:"mb-12"},y.a.createElement("span",{className:"bold"},"Option ",a+1)))),O.push(y.a.createElement("div",{className:"RoomType-Inclusion"},y.a.createElement("p",null,le.b[e.mealPlan]))),I.push(y.a.createElement("div",{className:"flex flex-col p-10 RoomType-Price"},y.a.createElement("p",{className:"text-18 mb-5 bold flex items-center"},n.currency&&n.currency.symbol?n.currency.symbol:n.currency.code," ",n.totalPrice.toFixed(2)," ",y.a.createElement("div",null,y.a.createElement(te.a,{placement:"right",title:y.a.createElement("div",null,e.dateWiseRates.sort((function(e,t){return new S.a(e.travelDate).format("YYYYMMDD")-new S.a(t.travelDate).format("YYYYMMDD")})).map((function(e){return y.a.createElement(y.a.Fragment,null,y.a.createElement("p",null,"\u2022 ",e.travelDate," -"," ",e.currency&&e.currency.symbol?e.currency.symbol:e.currency.code," ",e.totalPrice))})))},y.a.createElement("div",{className:"flex items-center"},y.a.createElement("span",{className:"ml-10 tooltip-info"},"!"))))),y.a.createElement("p",{className:" text-12"},y.a.createElement("span",{className:"opacity-5"},n.currency&&n.currency.symbol?n.currency.symbol:n.currency.code," ",n.perRoomPerNightPrice.toFixed(2)),y.a.createElement("span",{className:"bold"}," (Per Room/Night)")),y.a.createElement("div",{className:"room-select"},y.a.createElement(ne.a,{onClick:function(){var a;k(t.type,e.mealPlan,n.totalPrice,null===(a=n.currency)||void 0===a?void 0:a.code,e.dateWiseRates)},className:"mt-12",type:"primary"},"Add to Plan")))))}))}));var P=Object(p.useContext)(le.c);return y.a.createElement("section",{className:"room-type-hotel"},y.a.createElement("div",{className:"RoomType-Header"},y.a.createElement("span",null,"Room Type"),y.a.createElement("span",null,"Options"),y.a.createElement("span",null,"Inclusions"),y.a.createElement("span",null,"Price")),y.a.createElement("div",{className:"RoomType-Content"},y.a.createElement("div",{className:"flex flex-col p-10 RoomType-Info"},y.a.createElement("span",{className:"line-block bold text-16 mb-8"},t.type," ",a&&y.a.createElement("span",{className:"special-offer-tag text-11 ml-4"},"BASE CATEGORY")),y.a.createElement("img",{className:" product-photo-container mb-5 opacity-20",src:"/img/QueryIcons/product-photo.jpg"}),y.a.createElement("ul",null,!0===t.kingBedAvailable?y.a.createElement("li",null,"Bed type: King Size"):null,!0===t.twinBedAvailable?y.a.createElement("li",null,"Bed type: Twin Size"):null,t.amenities&&t.amenities.map((function(e){return y.a.createElement("li",null,e.name)})))),y.a.createElement("div",{className:"RoomType-Options p-10"},A),y.a.createElement("div",{className:"RoomType-Inclusions"},O),y.a.createElement("div",{className:"RoomType-Prices"},I)))})),me=(a(3981),function(e){var t=e.getBoundingClientRect().height,a=e.offsetTop;return{height:t,offsetTop:a,offsetBottom:a+t}}),de=function(e){e.scrollIntoView({behavior:"smooth",block:"start"})};var ve=Object(g.b)((function(e){var t=e.Queries,a=e.itenaryData;return{queryId:t.root.queryId,routeId:t.root.routeId,dateWiseContracts:t.hotel.dateWiseContracts,contractId:t.hotel.contractId,rateCardId:t.hotel.rateCardId,selectedDate:t.root.selectedDate,hotelRates:t.hotel.hotelRates,itenaryQueryDetails:a.itenaryQueryDetails}}),(function(e){return{getHotelItinerary:Object(b.b)(D.h,e)}}))((function(e){var t=e.data,a=(e.dateWiseContracts,e.contractId),n=e.rateCardId,l=(e.selectedDate,e.hotelRates,e.itenaryQueryDetails,e.queryId),i=e.routeId,r=e.getHotelItinerary,c=Object(p.useState)(),o=Object(v.a)(c,2),s=o[0],u=o[1],m=Object(p.useRef)(null),d=Object(p.useRef)(null),f=Object(p.useRef)(null),g=Object(p.useRef)(null),b=Object(p.useRef)(null),h=[{section:"About",ref:d},{section:"RoomTypes",ref:f},{section:"HotelAmeneties",ref:g},{section:"Policies",ref:b}];return Object(p.useEffect)((function(){var e=function(){var e=me(m.current).height,t=window.scrollY+e,a=h.find((function(e){e.section;var a=e.ref.current;if(a){var n=me(a),l=n.offsetBottom,i=n.offsetTop;return t>i&&t<l}}));a&&a.section!==s?u(a.section):!a&&s&&u(void 0)};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[s]),Object(p.useEffect)((function(){r(l,i)}),[]),y.a.createElement("div",{className:"hotel-sticky-modal"},y.a.createElement("div",{className:"content"},y.a.createElement("div",{className:"sticky"},y.a.createElement("div",{className:"header",ref:m},y.a.createElement("button",{type:"button",className:"header_link  ".concat("About"===s?"selected":""),onClick:function(){de(d.current)}},"About"),y.a.createElement("button",{type:"button",className:"header_link ".concat("RoomTypes"===s?"selected":""),onClick:function(){de(f.current)}},"Room Types"),y.a.createElement("button",{type:"button",className:"header_link ".concat("HotelAmeneties"===s?"selected":""),onClick:function(){de(g.current)}},"Hotel Ameneties"),y.a.createElement("button",{type:"button",className:"header_link ".concat("Policies"===s?"selected":""),onClick:function(){de(b.current)}},"Cancellation Policies"))),y.a.createElement("div",{className:"section",id:"About",ref:d},t.descriptions&&t.descriptions.map((function(e){return y.a.createElement("div",{className:"hotel-description p-20 opacity-5 text-16 line-45"},y.a.createElement("p",{className:"mb-2"},y.a.createElement("b",null,e.shortDescription)),y.a.createElement("ul",null,y.a.createElement("li",null,e.longDescription),y.a.createElement("li",null,e.highlights)))})),y.a.createElement("div",{className:"flex justify-around p-20 items-center"},t.checkInTime&&t.checkOutTime?y.a.createElement("span",{className:"hotel-about-details"},y.a.createElement("img",{className:"mr-8",src:"/img/QueryIcons/check-in.svg",alt:"check-in"}),"Check in"," ",y.a.createElement("b",null,S()(t.checkInTime,"HH:mm:ss").format("hh:mm A"))," ","- Check out"," ",y.a.createElement("b",null,S()(t.checkOutTime,"HH:mm:ss").format("hh:mm A"))):null,y.a.createElement("span",{className:"hotel-about-details opacity-20 items-center"},y.a.createElement("img",{className:"mr-8",src:"/img/QueryIcons/restaurant.svg",alt:"restaurant"}),"3 Restaurants in hotel"),t.roomPrices?y.a.createElement("span",{className:"hotel-about-details items-center"},y.a.createElement("img",{className:"mr-8",src:"/img/QueryIcons/room-type.svg",alt:"room-type"}),y.a.createElement("b",null,t.roomPrices.length)," Room"," ",t.roomPrices.length>1?"types":"type"):null)),y.a.createElement("div",{className:"section p-20",id:"RoomTypes",ref:f},t.roomPrices&&t.roomPrices.map((function(e,l){return y.a.createElement(ue,Object(se.a)({data:e,isBaseCategory:0===l,occupancyRatesArray:t.occupancyRates,version:t.version,adultAge:{max:null===t||void 0===t?void 0:t.adultMaxAge,min:null===t||void 0===t?void 0:t.adultMinAge},areChildAllowed:null===t||void 0===t?void 0:t.areChildrenAllowed,childAge:(null===t||void 0===t?void 0:t.areChildrenAllowed)?{max:null===t||void 0===t?void 0:t.childMaxAge,min:null===t||void 0===t?void 0:t.childMinAge}:null,areYoungChildAllowed:null===t||void 0===t?void 0:t.areYoungChildrenAllowed,youngChildAge:(null===t||void 0===t?void 0:t.areYoungChildrenAllowed)?{max:null===t||void 0===t?void 0:t.youngChildMaxAge,min:null===t||void 0===t?void 0:t.youngChildMinAge}:null,checkInTime:null===t||void 0===t?void 0:t.checkInTime,checkOutTime:null===t||void 0===t?void 0:t.checkOutTime,areInfantsAllowed:null===t||void 0===t?void 0:t.areInfantsAllowed,infantAge:(null===t||void 0===t?void 0:t.areInfantsAllowed)?{max:null===t||void 0===t?void 0:t.infantMaxAge,min:null===t||void 0===t?void 0:t.infantMinAge}:null,rateCardId:n,contractId:a,name:t.descriptions&&t.descriptions.map((function(e){return e.name})),businessCode:t.businessCode},"version",t.version))}))),y.a.createElement("div",{className:"section p-20",id:"HotelAmeneties",ref:g},y.a.createElement("span",{className:"text-14 weight-600"},"Hotel Ameneties"),y.a.createElement("section",{className:"hotel-amenety mt-20"},t.facilities&&t.facilities.map((function(e){return y.a.createElement(y.a.Fragment,null,y.a.createElement("span",null,y.a.createElement("img",{className:"mr-4",src:"/img/QueryIcons/hotelAmeneties/hotel-am.svg",alt:"workpods"}),e.name))})))),y.a.createElement("div",{className:"section p-20",id:"Policies",ref:b},y.a.createElement("span",{className:"text-14 weight-600"},"Terms and Conditions"),y.a.createElement("section",{className:"cancelletion-policies mt-20"},y.a.createElement("span",{className:"uppercase opacity-5 mb-10 text-11"},"Cancelletion Policies"),y.a.createElement("ul",{className:"text-14"},t.contractCancellationPolicies&&t.contractCancellationPolicies.map((function(e){return y.a.createElement("li",null,"\u2022 ",e.amount,"% Cancellation charges apply if cancelled"," ",e.numDaysFrom," ",e.numDaysFrom<=1?"day":"days"," prior to booking date.")})))),y.a.createElement("section",{className:"advanced-payment-policies mt-20"},y.a.createElement("span",{className:"uppercase opacity-5 mb-10 text-11"},"Advanced Payment Policies"),y.a.createElement("ul",{className:"text-14"},t.contractAdvancePaymentPolicies&&t.contractAdvancePaymentPolicies.map((function(e){return y.a.createElement("li",null,"\u2022 ",e.amount,"% advance required if booking"," ",e.numDaysFrom," ",e.numDaysFrom<=1?"day":"days"," prior to booking date.")})))))))}));a(3982);var pe=Object(g.b)((function(e){var t=e.Queries;return{adultCount:t.root.adultCount,childCount:t.root.childCount,childAge:t.root.childAge}}),(function(e){return{setActivityUnitDetails:Object(b.b)(E.l,e)}}))((function(e){var t=e.data,a=e.name,n=e.adultAge,l=e.areChildAllowed,i=e.childsAge,r=e.areInfantsAllowed,c=e.infantAge,o=e.rateCardId,s=e.standardPricing,u=e.currency,v=e.setActivityUnitDetails,f=e.adultCount,g=(e.childCount,e.childAge),b=e.expertPricing,h=e.languagePricing,E=e.defaultLanguage,N=e.timeSlots,C=e.contractType,D=e.rateCode,x=e.durationInHours,k=e.coverCharge,I=Object(p.useContext)(le.c),O="",A=function(){var e=Object(d.a)(m.a.mark((function e(s,u,d,p,y,f,g){var A,P,F,j,R,w,S,T,M,Q,L,Y,B,H,G,W,q,V,z,_,U,X,J,K;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({businessCode:t.businessCode,version:t.version,name:a[0],rateCardId:o,currency:O,pricingType:"unit",guestCategorisation:{adultAge:n,areChildAllowed:l,childAge:i,areInfantsAllowed:r,infantAge:c},guestCapacity:{min:f,max:g},standardPricingId:s,vehicle:u,standardPrice:d,childPrice:p,infantPrice:y,expertPricing:b,languagePricing:h,defaultLanguage:E,timeSlots:N,supplierCode:t.supplierCode,duration:x,startPoint:{addressLine1:null===(A=t.startPoint)||void 0===A?void 0:A.addressLine1,addressLine2:null===(P=t.startPoint)||void 0===P?void 0:P.addressLine2,addressLine3:null===(F=t.startPoint)||void 0===F?void 0:F.addressLine3,city:null===(j=t.startPoint)||void 0===j||null===(R=j.city)||void 0===R?void 0:R.code,country:null===(w=t.startPoint)||void 0===w||null===(S=w.country)||void 0===S?void 0:S.code,latitude:null===(T=t.startPoint)||void 0===T?void 0:T.latitude,longitude:null===(M=t.startPoint)||void 0===M?void 0:M.longitude,pinCode:null===(Q=t.startPoint)||void 0===Q?void 0:Q.pinCode,state:null===(L=t.startPoint)||void 0===L||null===(Y=L.state)||void 0===Y?void 0:Y.code},endPoint:{addressLine1:null===(B=t.endPoint)||void 0===B?void 0:B.addressLine1,addressLine2:null===(H=t.endPoint)||void 0===H?void 0:H.addressLine2,addressLine3:null===(G=t.endPoint)||void 0===G?void 0:G.addressLine3,city:null===(W=t.endPoint)||void 0===W||null===(q=W.city)||void 0===q?void 0:q.code,country:null===(V=t.endPoint)||void 0===V||null===(z=V.country)||void 0===z?void 0:z.code,latitude:null===(_=t.endPoint)||void 0===_?void 0:_.latitude,longitude:null===(U=t.endPoint)||void 0===U?void 0:U.longitude,pinCode:null===(X=t.endPoint)||void 0===X?void 0:X.pinCode,state:null===(J=t.endPoint)||void 0===J||null===(K=J.state)||void 0===K?void 0:K.code},contractType:C,rateCode:D,coverCharge:k});case 2:I.showAddNewProductModal(!0);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,l,i,r,c){return e.apply(this,arguments)}}();u&&((null===u||void 0===u?void 0:u.symbol)?O=u.symbol:(null===u||void 0===u?void 0:u.code)&&(O=u.code.toUpperCase()));for(var P=0;P<g.length;P++)g[P]<=t.infantMaxAge&&g[P]>t.infantMinAge?0:g[P]<=t.childMaxAge&&g[P]>t.childMinAge&&0;return console.log(f),y.a.createElement("section",{className:"vehicle-type"},y.a.createElement("div",{className:"RoomType-Header"},y.a.createElement("span",null,"Vehicle Type"),y.a.createElement("span",null,"Capacity"),y.a.createElement("span",null,"Price"),y.a.createElement("span",null)),y.a.createElement("div",{className:"RoomType-Content"},s&&s.map((function(e){var t;return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"flex flex-col p-20 RoomType-Info"},y.a.createElement("span",{className:"line-block bold text-16 mb-8"},null===e||void 0===e||null===(t=e.vehicle)||void 0===t?void 0:t.name)),y.a.createElement("div",{className:"flex flex-col p-20 RoomType-Info"},y.a.createElement("p",{className:"mb-12"},y.a.createElement("span",{className:"bold"},"Min. ",e.minimumGuests," - Max. ",e.maximumGuests))),y.a.createElement("div",{className:"flex flex-col p-20 RoomType-Info"},y.a.createElement(y.a.Fragment,null,y.a.createElement("p",{className:"text-18 bold"},O," ",e.standardPrice.toFixed(2)),y.a.createElement("p",{className:"opacity-5 text-12"},O,Number(e.standardPrice).toFixed(2)," (For"," ",e.maximumGuests," travellers)"))),y.a.createElement("div",{className:"vehicle-button flex flex-col p-20 RoomType-Info"},y.a.createElement(ne.a,{onClick:function(){var t;return A(e.id,null===e||void 0===e||null===(t=e.vehicle)||void 0===t?void 0:t.name,e.standardPrice,e.childPrice,e.infantPrice,e.minimumGuests,e.maximumGuests)},className:"mt-12",type:"primary"},"Add to Plan")))}))))})),ye=(a(3983),function(e){var t=e.getBoundingClientRect().height,a=e.offsetTop;return{height:t,offsetTop:a,offsetBottom:a+t}}),fe=function(e){e.scrollIntoView({behavior:"smooth",block:"start"})};var ge=Object(g.b)((function(e){return{activityRateCard:e.Queries.activity.rateCardId}}),null)((function(e){var t=e.data,a=e.activityRateCard,n=Object(p.useState)(),l=Object(v.a)(n,2),i=l[0],r=l[1],c=Object(p.useRef)(null),o=Object(p.useRef)(null),s=Object(p.useRef)(null),u=Object(p.useRef)(null),m=[{section:"About",ref:o},{section:"Inclusions",ref:s},{section:"Policies",ref:u}];return Object(p.useEffect)((function(){var e=function(){var e=ye(c.current).height,t=window.scrollY+e,a=m.find((function(e){e.section;var a=e.ref.current;if(a){var n=ye(a),l=n.offsetBottom,i=n.offsetTop;return t>i&&t<l}}));a&&a.section!==i?r(a.section):!a&&i&&r(void 0)};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[i]),y.a.createElement("div",{className:"hotel-sticky-modal"},y.a.createElement("div",{className:"content"},y.a.createElement("div",{className:"sticky"},y.a.createElement("div",{className:"header",ref:c},y.a.createElement("button",{type:"button",className:"header_link  ".concat("About"===i?"selected":""),onClick:function(){fe(o.current)}},"About"),y.a.createElement("button",{type:"button",className:"header_link ".concat("Inclusions"===i?"selected":""),onClick:function(){fe(s.current)}},"Inclusions/Exclusions"),y.a.createElement("button",{type:"button",className:"header_link ".concat("Policies"===i?"selected":""),onClick:function(){fe(u.current)}},"Cancellation Policies"))),y.a.createElement("div",{className:"section",id:"About",ref:o},t.descriptions&&t.descriptions.map((function(e){return y.a.createElement("div",{className:"hotel-description p-20 opacity-5 text-16 line-45"},y.a.createElement("p",{className:"mb-2"},y.a.createElement("b",null,e.shortDescription)),y.a.createElement("ul",null,y.a.createElement("li",null,e.longDescription),y.a.createElement("li",null,e.highlights)))})),y.a.createElement("div",{className:"flex justify-around p-20 items-center"},t.rateCards&&t.rateCards.map((function(e,t){return 0===t&&y.a.createElement("span",{className:"hotel-about-details"},y.a.createElement("img",{className:"mr-8",src:"/img/QueryIcons/check-in.svg",alt:"check-in"}),"Duration : ",y.a.createElement("b",null,e.durationInHours," Minutes"))}))),y.a.createElement("div",{className:"section p-20"},t.rateCards&&t.rateCards.map((function(e,n){return e.id===a&&y.a.createElement(y.a.Fragment,null,"unit"===e.pricingType&&y.a.createElement(pe,{data:t,rateCardId:e.id,standardPricing:e.standardPricing,currency:e.currency,expertPricing:e.expertPricing,languagePricing:e.languagePricing,defaultLanguage:t.descriptions&&t.descriptions.filter((function(e){var t,a;return"en"===(null===e||void 0===e||null===(t=e.language)||void 0===t?void 0:t.code)||"ENG"===(null===e||void 0===e||null===(a=e.language)||void 0===a?void 0:a.code)})).map((function(e){return e.language})),adultAge:{max:null===t||void 0===t?void 0:t.adultMaxAge,min:null===t||void 0===t?void 0:t.adultMinAge},areChildAllowed:null===t||void 0===t?void 0:t.areChildrenAllowed,childsAge:(null===t||void 0===t?void 0:t.areChildrenAllowed)?{max:null===t||void 0===t?void 0:t.childMaxAge,min:null===t||void 0===t?void 0:t.childMinAge}:null,areInfantsAllowed:null===t||void 0===t?void 0:t.areInfantsAllowed,infantAge:(null===t||void 0===t?void 0:t.areInfantsAllowed)?{max:null===t||void 0===t?void 0:t.infantMaxAge,min:null===t||void 0===t?void 0:t.infantMinAge}:null,name:t.descriptions&&t.descriptions.map((function(e){return e.name})),timeSlots:e.timeSlots,durationInHours:e.durationInHours,coverCharge:e.coverCharge,contractType:e.contractType,rateCode:e.rateCode}))})))),y.a.createElement("div",{className:"section p-20",id:"Inclusions",ref:s},y.a.createElement("span",{className:"text-14 weight-600"},"Inclusions/Exclusions"),y.a.createElement("section",{className:"hotel-amenety mt-20"},t.rateCards&&t.rateCards.map((function(e,t){return e.id===a&&y.a.createElement(y.a.Fragment,null,e&&e.addons.map((function(e){var t;return y.a.createElement("span",{className:e.included?"green":"red"},y.a.createElement("img",{className:"mr-4",src:"/img/QueryIcons/hotelAmeneties/hotel-am.svg",alt:"workpods"}),null===e||void 0===e||null===(t=e.addOn)||void 0===t?void 0:t.name)})))})))),y.a.createElement("div",{className:"section p-20",id:"Policies",ref:u},y.a.createElement("span",{className:"text-14 weight-600"},"Terms and Conditions"),y.a.createElement("section",{className:"cancelletion-policies mt-20"},y.a.createElement("span",{className:"uppercase opacity-5 mb-10 text-11"},"Cancelletion Policies"),y.a.createElement("ul",{className:"text-14"},t.rateCards&&t.rateCards.map((function(e){return e.id===a&&(null===e||void 0===e?void 0:e.policies.filter((function(e){return"cnc"===e.policyType})).map((function(e){return y.a.createElement("li",null,"\u2022 ",e.amount,"% Cancellation charges apply if cancelled ",e.daysBeforeBooking," ",e.daysBeforeBooking<=1?"day":"days"," prior to booking date.")})))})))),y.a.createElement("section",{className:"advanced-payment-policies mt-20"},y.a.createElement("span",{className:"uppercase opacity-5 mb-10 text-11"},"Advanced Payment Policies"),y.a.createElement("ul",{className:"text-14"},t.rateCards&&t.rateCards.map((function(e){return e.id===a&&(null===e||void 0===e?void 0:e.policies.filter((function(e){return"adv"===e.policyType})).map((function(e){return y.a.createElement("li",null,"\u2022 ",e.amount,"% advance required if booking"," ",e.daysBeforeBooking," ",e.daysBeforeBooking<=1?"day":"days"," prior to booking date.")})))})))))))})),be=(a(3984),function(e){var t=e.getBoundingClientRect().height,a=e.offsetTop;return{height:t,offsetTop:a,offsetBottom:a+t}}),he=function(e){e.scrollIntoView({behavior:"smooth",block:"start"})};var Ee=function(e){var t=e.data,a=Object(p.useState)(),n=Object(v.a)(a,2),l=n[0],i=n[1],r=Object(p.useRef)(null),c=Object(p.useRef)(null),o=Object(p.useRef)(null),s=[{section:"About",ref:c},{section:"Inclusions",ref:o}];return Object(p.useEffect)((function(){var e=function(){var e=be(r.current).height,t=window.scrollY+e,a=s.find((function(e){e.section;var a=e.ref.current;if(a){var n=be(a),l=n.offsetBottom,i=n.offsetTop;return t>i&&t<l}}));a&&a.section!==l?i(a.section):!a&&l&&i(void 0)};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[l]),y.a.createElement("div",{className:"hotel-sticky-modal"},y.a.createElement("div",{className:"content"},y.a.createElement("div",{className:"sticky"},y.a.createElement("div",{className:"header",ref:r},y.a.createElement("button",{type:"button",className:"header_link  ".concat("About"===l?"selected":""),onClick:function(){he(c.current)}},"About"),y.a.createElement("button",{type:"button",className:"header_link ".concat("Inclusions"===l?"selected":""),onClick:function(){he(o.current)}},"Inclusions/Exclusions"))),y.a.createElement("div",{className:"section",id:"About",ref:c},t.descriptions&&t.descriptions.map((function(e){return y.a.createElement("div",{className:"hotel-description p-20 opacity-5 text-16 line-45"},y.a.createElement("p",{className:"mb-2"},y.a.createElement("b",null,e.shortDescription)),y.a.createElement("ul",null,y.a.createElement("li",null,e.longDescription)))})),y.a.createElement("div",{className:"flex justify-around p-20 items-center"},t.bestTimeOfTheDay?y.a.createElement("span",{className:"hotel-about-details"},y.a.createElement("img",{className:"mr-8",src:"/img/QueryIcons/check-in.svg",alt:"check-in"}),"Best time to vist:"," ",y.a.createElement("b",null,t.bestTimeOfTheDay.map((function(e){switch(e){case"morning":return"Morning(6AM - 9AM)   ";case"noon":return"Afternoon(12PM - 3PM)   ";case"evening":return"Evening(3PM - 6PM)   ";case"night":return"Night(6PM - 9PM)   "}})).join(", "))):null,t.bestDaysOfTheYear?y.a.createElement("span",{className:"hotel-about-details"},y.a.createElement("img",{className:"mr-8",src:"/img/QueryIcons/check-in.svg",alt:"check-in"}),"Best time of year:"," ",y.a.createElement("b",null,t.bestDaysOfTheYear.map((function(e){return e.name})).join(", "))):null)),y.a.createElement("div",{className:"section p-20",id:"Inclusions",ref:o},y.a.createElement("span",{className:"text-14 weight-600"},"Inclusions/Exclusions"),y.a.createElement("section",{className:"hotel-amenety mt-20"},t.facilities&&t.facilities.map((function(e,t){var a;return y.a.createElement(y.a.Fragment,null,y.a.createElement("span",{className:e.value?"green":"red"},y.a.createElement("img",{className:"mr-4",src:"/img/QueryIcons/hotelAmeneties/hotel-am.svg",alt:"workpods"}),null===e||void 0===e||null===(a=e.facility)||void 0===a?void 0:a.name))}))))))};a(3985);var Ne=Object(g.b)((function(e){var t=e.Queries,a=e.itenaryData;return{startDate:t.root.startDate,endDate:t.root.endDate,hotelRates:t.hotel.hotelRates,lengthOfStay:t.root.lengthOfStay,selectedDate:t.root.selectedDate,dateWiseContracts:t.hotel.dateWiseContracts,itenaryQueryDetails:a.itenaryQueryDetails,FbSelectedData:t.fb.selectedData,fbService:t.fb.fbItineraryData,fbOptionalService:t.fb.fbOptionalItineraryData,routeId:t.root.routeId}}),(function(e){return{setHotelSelected:Object(b.b)(h.k,e),getRouteItinerary:Object(b.b)(D.i,e),deleteFb:Object(b.b)(k.c,e)}}))((function(e){var t=e.data,a=e.close,n=e.fbService,l=e.fbOptionalService,i=e.itenaryQueryDetails,c=e.routeId,o=e.deleteFb,s=e.getRouteItinerary,u=e.selectedDate,f=Object(p.useState)(!1),g=Object(v.a)(f,2),b=g[0],h=g[1],E=Object(p.useState)([]),N=Object(v.a)(E,2),C=N[0],D=N[1],x=Object(p.useState)("Add To Plan"),k=Object(v.a)(x,2),I=(k[0],k[1],function(){var e=Object(d.a)(m.a.mark((function e(t){var a,r,d,v,p,y,f,g,b,E,N,C,x,k,I,O,A;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t,"item"),"Add To Plan"!=t.buttonText){e.next=7;break}t.baseCategory=!0,D(t),h(!0),e.next=24;break;case 7:if("Supplement"!=t.buttonText){e.next=13;break}t.baseCategory=!1,D(t),h(!0),e.next=24;break;case 13:if(console.log("deleteAPI"),console.log(t.id),console.log(null===(a=n[0])||void 0===a||null===(r=a.supplements[0])||void 0===r||null===(d=r.productCost)||void 0===d?void 0:d.rateId),t.id===(null===(v=n[0])||void 0===v||null===(p=v.primary)||void 0===p||null===(y=p.productCost)||void 0===y?void 0:y.rateId)?x=null===(k=n[0].primary)||void 0===k?void 0:k.id:t.id===(null===(f=n[0])||void 0===f||null===(g=f.supplements[0])||void 0===g||null===(b=g.productCost)||void 0===b?void 0:b.rateId)?x=null===(I=n[0].supplements[0])||void 0===I?void 0:I.id:(null===(E=l[0])||void 0===E||null===(N=E.primary)||void 0===N||null===(C=N.productCost)||void 0===C?void 0:C.rateId)==t.id&&(x=null===(O=l[0])||void 0===O||null===(A=O.primary)||void 0===A?void 0:A.id),console.log(x,"id"),!x||"undefined"===x){e.next=24;break}return console.log(x,"id"),e.next=22,o(i.id,c,x);case 22:return e.next=24,s(i.id,c,S()(u));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());console.log(t,"data"),console.log(n,"fbservice"),Object(p.useEffect)((function(){var e,a;t&&(console.log(n.length,"length",null===(e=n[0])||void 0===e||null===(a=e.primary)||void 0===a?void 0:a.length),t.map((function(e){var t,a,i,r,c,o,s,u,m,d,v,p,y,f,g,b,h,E,N,C,D,x,k,I,O,A,P,F,j,R,w,S,T,M;console.log(e.id===(null===(t=n[0])||void 0===t||null===(a=t.primary)||void 0===a||null===(i=a.productCost)||void 0===i?void 0:i.rateId),"item",e.id),0==n.length&&(e.buttonText="Add To Plan"),e.id===(null===(r=n[0])||void 0===r||null===(c=r.primary)||void 0===c||null===(o=c.productCost)||void 0===o?void 0:o.rateId)&&(e.buttonText="Remove",e.tag="Primary"),e.id==(null===(s=n[0])||void 0===s||null===(u=s.supplements[0])||void 0===u||null===(m=u.productCost)||void 0===m?void 0:m.rateId)&&(e.buttonText="Remove",e.tag="Supplement"),(null===(d=l[0])||void 0===d||null===(v=d.primary)||void 0===v||null===(p=v.productCost)||void 0===p?void 0:p.rateId)==e.id&&(e.buttonText="Remove",e.tag="Optional"),(null===(y=n[0])||void 0===y||null===(f=y.primary)||void 0===f?void 0:f.productCost)&&(null===(g=n[0])||void 0===g||null===(b=g.supplements[0])||void 0===b?void 0:b.productCost)&&e.id!==(null===(h=n[0])||void 0===h||null===(E=h.primary)||void 0===E||null===(N=E.productCost)||void 0===N?void 0:N.rateId)&&e.id!==(null===(C=n[0])||void 0===C||null===(D=C.supplements[0])||void 0===D||null===(x=D.productCost)||void 0===x?void 0:x.rateId)&&(null===(k=l[0])||void 0===k||null===(I=k.primary)||void 0===I||null===(O=I.productCost)||void 0===O?void 0:O.rateId)!==e.id&&(e.buttonText="Add As Supplement",e.disable=!0),0!==n.length&&e.id!==(null===(A=n[0])||void 0===A||null===(P=A.primary)||void 0===P||null===(F=P.productCost)||void 0===F?void 0:F.rateId)&&e.id!==(null===(j=n[0])||void 0===j||null===(R=j.supplements[0])||void 0===R||null===(w=R.productCost)||void 0===w?void 0:w.rateId)&&(null===(S=l[0])||void 0===S||null===(T=S.primary)||void 0===T||null===(M=T.productCost)||void 0===M?void 0:M.rateId)!==e.id&&(e.buttonText="Supplement"),console.log(e)})))}),[n,t,l]);Object(p.useContext)(le.c);return y.a.createElement("section",{className:"room-type"},t&&(null===t||void 0===t?void 0:t.map((function(e){return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"query-product-card mb-12"},y.a.createElement("section",{className:"Avatar "},e.tag?y.a.createElement(r.a.Ribbon,{placement:"start",color:"#23a621",text:y.a.createElement("span",{className:"uppercase weight-500 text-11"},e.tag)}):null,y.a.createElement("img",{className:"product-avatar h-100 opacity-20",src:"/img/QueryIcons/product-avatar.jpg"})),y.a.createElement("section",{className:"Info ml-12"},y.a.createElement("section",{className:"product-info "},y.a.createElement("span",{className:"line-block bold text-14"},e.name),y.a.createElement("div",{className:"tags mt-8"},y.a.createElement("span",null,e.adultCostCurrency?e.adultCostCurrency.symbol?e.adultCostCurrency.symbol:e.adultCostCurrency.code:null," ",e.costPerAdult,"/Adult +"," ",e.adultCostCurrency?e.adultCostCurrency.symbol?e.adultCostCurrency.symbol:e.adultCostCurrency.code:null," ",e.costPerChild||0,"/Child")))),y.a.createElement("section",{className:"Pricing"},y.a.createElement("div",{className:"select-room"},y.a.createElement(ne.a,{onClick:function(){return I(e)},className:"Remove"!==e.buttonText?"room-select-btn mt-9":"room-remove-btn mt-9",type:"Remove"!==e.buttonText?"primary":"danger",disabled:!!e.disable},e.buttonText)))))}))),y.a.createElement(re.a,{product:"fb-services",visible:b,setVisible:h,edit:!0,data:C,close:a}))})),Ce=(a(3986),a(1047),function(e){var t=e.getBoundingClientRect().height,a=e.offsetTop;return{height:t,offsetTop:a,offsetBottom:a+t}}),De=function(e){e.scrollIntoView({behavior:"smooth",block:"start"})};var xe=Object(g.b)((function(e){var t=e.Queries,a=e.itenaryData;return{dateWiseContracts:t.hotel.dateWiseContracts,contractId:t.hotel.contractId,rateCardId:t.hotel.rateCardId,selectedDate:t.root.selectedDate,hotelRates:t.hotel.hotelRates,itenaryQueryDetails:a.itenaryQueryDetails,fbRateDetails:t.fb.dummyPriceData,fbPolicyDetails:t.fb.dummyPolicyData,mealType:t.fb.mealType}}),null)((function(e){var t,a,n,l,i=e.data,r=e.close,c=e.mealType,o=e.fbRateDetails,s=e.fbPolicyDetails,u=Object(p.useState)(),m=Object(v.a)(u,2),d=m[0],f=m[1],g=Object(p.useRef)(null),b=Object(p.useRef)(null),h=Object(p.useRef)(null),E=Object(p.useRef)(null),N=Object(p.useRef)(null),C=[{section:"About",ref:b},{section:"RoomTypes",ref:h},{section:"HotelAmeneties",ref:E},{section:"Policies",ref:N}];return Object(p.useEffect)((function(){var e=function(){var e=Ce(g.current).height,t=window.scrollY+e,a=C.find((function(e){e.section;var a=e.ref.current;if(a){var n=Ce(a),l=n.offsetBottom,i=n.offsetTop;return t>i&&t<l}}));a&&a.section!==d?f(a.section):!a&&d&&f(void 0)};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[d]),y.a.createElement("div",{className:"hotel-sticky-modal"},y.a.createElement("div",{className:"content"},y.a.createElement("div",{className:"sticky"},y.a.createElement("div",{className:"header",ref:g},y.a.createElement("button",{type:"button",className:"header_link  ".concat("About"===d?"selected":""),onClick:function(){De(b.current)}},"About"),y.a.createElement("button",{type:"button",className:"header_link ".concat("RoomTypes"===d?"selected":""," firstLetter "),onClick:function(){De(h.current)}},c," Options"),y.a.createElement("button",{type:"button",className:"header_link ".concat("Policies"===d?"selected":""),onClick:function(){De(N.current)}},"Cancellation Policies"))),y.a.createElement("div",{className:"section",id:"About",ref:b},y.a.createElement("div",{className:"hotel-description p-20 opacity-5 text-16 line-45"},null===i||void 0===i||null===(t=i.basicDetails)||void 0===t?void 0:t.description),y.a.createElement("div",{className:"flex justify-around p-20 items-center"},(null===i||void 0===i||null===(a=i.operationalInformation)||void 0===a?void 0:a.openingTime)&&(null===i||void 0===i||null===(n=i.operationalInformation)||void 0===n?void 0:n.closingTime)?y.a.createElement("span",{className:"hotel-about-details"},y.a.createElement("img",{className:"mr-8",src:"/img/QueryIcons/check-in.svg",alt:"check-in"}),y.a.createElement("b",null,S()(null===i||void 0===i?void 0:i.operationalInformation.openingTime,"HH:mm:ss").format("hh:mm A"))," ",y.a.createElement("b",null,S()(null===i||void 0===i?void 0:i.operationalInformation.closingTime,"HH:mm:ss").format("hh:mm A"))):null,(null===i||void 0===i||null===(l=i.operationalInformation)||void 0===l?void 0:l.liqourServed)?y.a.createElement("span",{className:"hotel-about-details opacity-20 items-center"},y.a.createElement("img",{className:"mr-8",src:"/img/QueryIcons/restaurant.svg",alt:"restaurant"}),"Liquor Served"):null)),y.a.createElement("div",{className:"section p-20",id:"RoomTypes",ref:h},y.a.createElement("span",{className:"text-14 weight-600 firstLetter"},c," Options"),y.a.createElement("section",{className:"mt-20"},o?y.a.createElement(Ne,{data:o,close:r}):null)),y.a.createElement("div",{className:"section p-20",id:"HotelAmeneties",ref:E},y.a.createElement("section",{className:"hotel-amenety mt-20"})),y.a.createElement("div",{className:"section p-20",id:"Policies",ref:N},y.a.createElement("span",{className:"text-14 weight-600"},"Terms and Conditions"),y.a.createElement("section",{className:"cancelletion-policies mt-20"},y.a.createElement("span",{className:"uppercase opacity-5 mb-10 text-11"},"Cancelletion Policies"),y.a.createElement("ul",{className:"text-14"},s.contractPolicy&&s.contractPolicy.cancellationPolicies.map((function(e){return y.a.createElement("li",null,"\u2022 ",e.amount,"% Cancellation charges apply if cancelled"," ",e.numDaysFrom," ",e.numDaysFrom<=1?"day":"days"," prior to booking date.")})))),y.a.createElement("section",{className:"advanced-payment-policies mt-20"},y.a.createElement("span",{className:"uppercase opacity-5 mb-10 text-11"},"Advanced Payment Policies"),y.a.createElement("ul",{className:"text-14"},s.contractPolicy&&s.contractPolicy.advancePaymentPolicies.map((function(e){return y.a.createElement("li",null,"\u2022 ",e.amount,"% advance required if booking"," ",e.numDaysFrom," ",e.numDaysFrom<=1?"day":"days"," prior to booking date.")})))))))})),ke=a(490);var Ie=Object(g.b)((function(e){var t=e.Queries,a=e.itenaryData;return{startDate:t.root.startDate,hotelRates:t.hotel.hotelRates,endDate:t.root.endDate,contractId:t.hotel.contractId,rateCardId:t.hotel.rateCardId,selectedDate:t.root.selectedDate,hotelDetails:t.hotel.hotelDetails,activityRateCard:t.activity.rateCardId,monumentContractId:t.monument.contractId,activityDetails:t.activity.activityDetails,monumentDetails:t.monument.monumentDetails,itenaryQueryDetails:a.itenaryQueryDetails,FbSelectedData:t.fb.selectedData,dummyBasicInfo:t.fb.dummyBasicInfo,fbRateDetails:t.fb.dummyPriceData,hotelFilters:t.hotel.hotelFilters}}),(function(e){return{getHotelDetails:Object(b.b)(h.d,e),clearHotelDetails:Object(b.b)(h.b,e),clearActivityDetails:Object(b.b)(E.d,e),clearMonumentDetails:Object(b.b)(N.b,e),getHotelRates:Object(b.b)(h.f,e),getActivityDetails:Object(b.b)(E.a,e),getMonumentDetails:Object(b.b)(N.d,e)}}))((function(e){var t=Object(p.useState)(!1),a=Object(v.a)(t,2),n=a[0],l=a[1],i=Object(p.useState)([]),r=Object(v.a)(i,2),c=r[0],o=r[1],s=Object(oe.q)(),u=s.get("city"),m=Object(p.useState)(""),d=Object(v.a)(m,2),g=d[0],b=d[1],h=Object(f.g)(),E=s.get("product"),N=!!s.get("excludeFSRC"),C=Object(p.useState)(0),D=Object(v.a)(C,2),x=D[0],k=D[1],O=Object(p.useState)({adult:0,child:0,childAge:[]}),A=Object(v.a)(O,2),P=A[0],F=A[1];Object(p.useEffect)((function(){if(s.get("product"))switch(e.product){case"hotel":b(s.get("hotel"));break;case"activity":b(s.get("activity"));break;case"monument":b(s.get("monument"));break;case"fb-services":b(s.get("fb-services"))}}),[]),Object(p.useEffect)((function(){var t,a;if(""!==g)switch(e.product){case"hotel":e.getHotelRates(g,{queryId:e.itenaryQueryDetails.id,languageCode:"en",city:u,from:e.startDate,to:e.endDate,customer:e.itenaryQueryDetails.basicInfo.customer,sourceMarket:e.itenaryQueryDetails.basicInfo.sourceMarket,mealPlan:null===(t=e.itenaryQueryDetails)||void 0===t||null===(a=t.travellers)||void 0===a?void 0:a.mealPlan,specialNeedPreference:[],themes:e.itenaryQueryDetails.preferences.tourThemes.map((function(e){return e.id})),adultCount:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.adultCount}),0),childCount:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.childCount}),0),childAge:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e.concat(t.childAge)}),[]),noOfGuestPerRoom:2,currencyCode:e.itenaryQueryDetails.basicInfo.currency,desiredHotelCategory:[e.itenaryQueryDetails.preferences.tciClassification],ratings:null,roomBreakDown:e.itenaryQueryDetails.travellers.roomBreakDown,roomType:null,priceRangeFrom:null,priceRangeTo:null,excludeFSRC:N});break;case"activity":e.getActivityDetails(g);break;case"monument":e.getMonumentDetails(g)}}),[g]),Object(p.useEffect)((function(){if(e.itenaryQueryDetails&&e.itenaryQueryDetails.travellers){var t=[];for(var a in e.itenaryQueryDetails.travellers.roomBreakDown)e.itenaryQueryDetails.travellers.roomBreakDown[a]>0&&t.push({label:ke.a[a],type:a,value:e.itenaryQueryDetails.travellers.roomBreakDown[a],adultCount:0,childCount:0});e.itenaryQueryDetails.travellers.roomConfigurations.forEach((function(e){t.find((function(t){return t.type===e.roomType})).adultCount=e.adultCount,t.find((function(t){return t.type===e.roomType})).childCount=e.childCount})),o(t)}}),[e.itenaryQueryDetails.travellers]),Object(p.useEffect)((function(){if(e.itenaryQueryDetails&&e.itenaryQueryDetails.travellers){var t=e.itenaryQueryDetails.travellers.roomConfigurations.length;k(t)}}),[e.itenaryQueryDetails.travellers]),Object(p.useEffect)((function(){if(e.itenaryQueryDetails.travellers){var t=e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.adultCount}),0),a=e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.childCount}),0),n=e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e.concat(t.childAge)}),[]);F({adult:t,child:a,childAge:n})}}),[e.itenaryQueryDetails.travellers]),Object(p.useEffect)((function(){"deactivated"===e.activityDetails.status&&"activity"===e.product&&Object(I.a)("error","This activity has been deactivated"),"deactivated"===e.monumentDetails.status&&"monument"===e.product&&Object(I.a)("error","This monument has been deactivated")}),[e.activityDetails.status,e.monumentDetails.status]);var j=y.a.createElement("ul",null,c.map((function(e){return y.a.createElement(te.a,{placement:"topLeft",title:"Adult : ".concat(e.adultCount," Child : ").concat(e.childCount)},y.a.createElement("li",{className:"mb-10 text-13 bold cursor-pointer"},e.label," : ",e.value))})));return y.a.createElement("div",{className:"query-product-details"},e.hotelDetails||e.activityDetails||e.monumentDetails||e.FbSelectedData?y.a.createElement("div",{className:"p-20"},y.a.createElement("img",{className:"back-btn",onClick:function(){e.showProductDetails(!1),(s.get("activity")||s.get("hotel")||s.get("monument"))&&h.goBack(),s.get("hotel")&&e.clearHotelDetails(),s.get("activity")&&e.clearActivityDetails(),s.get("monument")&&e.clearMonumentDetails()},src:"/img/QueryIcons/back-btn-black.svg"}),y.a.createElement("section",{className:"product-gallery mt-14 opacity-20"},y.a.createElement("div",{className:"Photo-1"},y.a.createElement("img",{className:"product-photo",src:"/img/QueryIcons/product-photo.jpg"})),y.a.createElement("div",{className:"Photo-2"},y.a.createElement("img",{className:"product-photo",src:"/img/QueryIcons/product-photo.jpg"})),y.a.createElement("div",{className:"Photo-3"},y.a.createElement("img",{className:"product-photo",src:"/img/QueryIcons/product-photo.jpg"})),y.a.createElement("div",{className:"Photo-Grid"},y.a.createElement("img",{className:"product-photo grid-photo-1",src:"/img/QueryIcons/product-photo.jpg"}),y.a.createElement("img",{className:"product-photo grid-photo-2",src:"/img/QueryIcons/product-photo.jpg"}))),y.a.createElement("section",{className:"product-details mt-20"},function(){switch(e.product){case"hotel":var t;return y.a.createElement(y.a.Fragment,null,Object.keys(e.hotelRates).length>0?y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"Product-Details flex flex-col"},y.a.createElement("div",{className:"flex justify-start items-center mr-20"},y.a.createElement("span",{className:"text-18 bold"},e.hotelRates.descriptions&&e.hotelRates.descriptions.map((function(e){return y.a.createElement("div",null,e.name)}))),y.a.createElement("span",{className:"line-block text-11 ml-8 special-offer-tag opacity-20"},y.a.createElement("img",{className:"mr-2",src:"/img/QueryIcons/tag-special.svg",alt:"special-tag"}),"Special Offer Available"),y.a.createElement("img",{className:"ml-8 opacity-20",src:"/img/QueryIcons/tci-icon.jpg",alt:"tci"}),y.a.createElement("div",{className:"tags ml-8"},e.hotelRates.themeScores&&e.hotelRates.themeScores.map((function(e){var t;return y.a.createElement("span",{className:"product-tag mr-8 text-12"},null===e||void 0===e||null===(t=e.tourCategory)||void 0===t?void 0:t.name)})))),y.a.createElement("span",{className:"product-tag mr-8 text-12 mt-10"},le.e[e.hotelRates.officialClassification]),e.hotelRates.address?y.a.createElement("p",{className:"mt-20 product-address"},y.a.createElement("img",{className:"mr-6",src:"/img/QueryIcons/location.svg",alt:"location"}),e.hotelRates.address.addressLine1?"".concat(e.hotelRates.address.addressLine1,", "):null,e.hotelRates.address.addressLine2?"".concat(e.hotelRates.address.addressLine2,", "):null,e.hotelRates.address.addressLine3?"".concat(e.hotelRates.address.addressLine3,", "):null,(null===(t=e.hotelRates.address.city)||void 0===t?void 0:t.name)?"".concat(e.hotelRates.address.city.name,", "):null,e.hotelRates.address.state.name?"".concat(e.hotelRates.address.state.name,", "):null,e.hotelRates.address.pinCode?"".concat(e.hotelRates.address.pinCode):null):null,y.a.createElement("div",{className:"mt-20"},e.hotelRates.sourceMarketScores?e.hotelRates.sourceMarketScores.map((function(t){var a,n,l;return(null===t||void 0===t||null===(a=t.sourceMarket)||void 0===a?void 0:a.code)===(null===(n=e.itenaryQueryDetails.basicInfo)||void 0===n?void 0:n.sourceMarket)?y.a.createElement(y.a.Fragment,null,y.a.createElement(Z.a,{className:"",width:40,type:"circle",format:function(e){return e},percent:10*(null===t||void 0===t?void 0:t.score)}),y.a.createElement("span",{className:"line-block ml-6 capitalize"},null===t||void 0===t||null===(l=t.sourceMarket)||void 0===l?void 0:l.name)):null})):null,e.hotelRates.customerScores&&e.hotelRates.customerScores.map((function(t){var a,n;return t.customer.name===(null===(a=e.itenaryQueryDetails)||void 0===a||null===(n=a.basicInfo)||void 0===n?void 0:n.customerName)?y.a.createElement(y.a.Fragment,null,y.a.createElement(Z.a,{width:40,type:"circle",format:function(e){return e},className:"ml-10",percent:t.score?10*t.score:0}),y.a.createElement("span",{className:"line-block ml-6 capitalize"},t.customer.name)):null}))),y.a.createElement("div",{className:"traveller-details-section mt-30"},y.a.createElement("span",{className:"block bold text-11 opacity-5 capitalize"},"Traveller Details"),y.a.createElement("div",{className:"traveller-details"},"hotel"===e.product&&y.a.createElement("span",{className:"line-block text-14 mr-12 traveller-text"},y.a.createElement("img",{className:"mr-4",src:"/img/QueryIcons/bed.svg",alt:"bed"}),y.a.createElement("span",null,"Rooms x ",x),y.a.createElement(K.a,{placement:"bottom",content:j,title:"Rooms Breakdown"},y.a.createElement("img",{className:"ml-8 cursor-pointer",src:"/img/QueryIcons/alert.svg"}))),y.a.createElement("span",{className:"line-block text-14 mr-12 traveller-text"},y.a.createElement("img",{className:"mr-4",src:"/img/QueryIcons/user.svg",alt:"user"}),y.a.createElement("span",null,P.adult," Adults ,"," ",P.child," Child"))))),y.a.createElement("div",{className:"Product-Cheapest-Card"},e.hotelRates&&e.hotelRates.queryMealPlanBaseRates&&e.hotelRates.queryMealPlanBaseRates.dateWiseRates&&e.hotelRates.queryMealPlanBaseRates.dateWiseRates.filter((function(t){return t.travelDate===S()(e.selectedDate).format("YYYY-MM-DD")})).map((function(t,a){var n,i,r,c,o,s,u,m,d,v,p,f,g,b,h,E;return t&&y.a.createElement(ce,{product:"hotel",data:e.hotelRates,roomDetails:e.hotelRates.queryMealPlanBaseRates,dateWiseRates:e.hotelRates.queryMealPlanBaseRates.dateWiseRates,name:e.hotelRates.descriptions&&e.hotelRates.descriptions.map((function(e){return e.name})),adultAge:{max:null===(n=e.hotelRates)||void 0===n?void 0:n.adultMaxAge,min:null===(i=e.hotelRates)||void 0===i?void 0:i.adultMinAge},areChildAllowed:null===(r=e.hotelRates)||void 0===r?void 0:r.areChildrenAllowed,childsAge:(null===(c=e.hotelRates)||void 0===c?void 0:c.areChildrenAllowed)?{max:null===(o=e.hotelRates)||void 0===o?void 0:o.childMaxAge,min:null===(s=e.hotelRates)||void 0===s?void 0:s.childMinAge}:null,areYoungChildAllowed:null===(u=e.hotelRates)||void 0===u?void 0:u.areYoungChildrenAllowed,youngChildAge:(null===(m=e.hotelRates)||void 0===m?void 0:m.areYoungChildrenAllowed)?{max:null===(d=e.hotelRates)||void 0===d?void 0:d.youngChildMaxAge,min:null===(v=e.hotelRates)||void 0===v?void 0:v.youngChildMinAge}:null,checkInTime:null===(p=e.hotelRates)||void 0===p?void 0:p.checkInTime,checkOutTime:null===(f=e.hotelRates)||void 0===f?void 0:f.checkOutTime,areInfantsAllowed:null===(g=e.hotelRates)||void 0===g?void 0:g.areInfantsAllowed,infantAge:(null===(b=e.hotelRates)||void 0===b?void 0:b.areInfantsAllowed)?{max:null===(h=e.hotelRates)||void 0===h?void 0:h.infantMaxAge,min:null===(E=e.hotelRates)||void 0===E?void 0:E.infantMinAge}:null,rateCards:e.hotelDetails.contracts&&e.hotelDetails.contracts.map((function(t){return t.id===e.contractId&&t.rateCards})),rateCardId:t.rateCardId,contractId:t.contractId,standardPricing:t.perRoomPerNightPrice,currency:t.currency,businessCode:e.hotelRates.businessCode,version:e.hotelRates.version,showAddNewProductModal:l})}))," ")):y.a.createElement(X.a,{active:!0}));case"activity":var a;return y.a.createElement(y.a.Fragment,null,Object.keys(e.activityDetails).length>0?y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"Product-Details flex flex-col"},y.a.createElement("div",{className:"flex justify-start items-center mr-20"},y.a.createElement("span",{className:"text-18 bold"},e.activityDetails.descriptions&&e.activityDetails.descriptions.filter((function(e){var t,a;return"en"===(null===e||void 0===e||null===(t=e.language)||void 0===t?void 0:t.code)||"ENG"===(null===e||void 0===e||null===(a=e.language)||void 0===a?void 0:a.code)})).map((function(e){return y.a.createElement("div",null,e.name)}))),y.a.createElement("img",{className:"ml-8 opacity-20",src:"/img/QueryIcons/tci-icon.jpg",alt:"tci"})),y.a.createElement("div",{className:"opacity-20 text-14 "},y.a.createElement("p",null,"by Travel New Delhi")),e.activityDetails.startPoint?y.a.createElement("p",{className:"mt-20 product-address"},y.a.createElement("img",{className:"mr-6",src:"/img/QueryIcons/location.svg",alt:"location"}),e.activityDetails.startPoint.addressLine1?"".concat(e.activityDetails.startPoint.addressLine1,", "):null,e.activityDetails.startPoint.addressLine2?"".concat(e.activityDetails.startPoint.addressLine2,", "):null,e.activityDetails.startPoint.addressLine3?"".concat(e.activityDetails.startPoint.addressLine3,", "):null,(null===(a=e.activityDetails.startPoint.city)||void 0===a?void 0:a.name)?"".concat(e.activityDetails.startPoint.city.name,", "):null,e.activityDetails.startPoint.state.name?"".concat(e.activityDetails.startPoint.state.name,", "):null,e.activityDetails.startPoint.pinCode?"".concat(e.activityDetails.startPoint.pinCode):null):null,y.a.createElement("div",{className:"mt-20"},e.activityDetails.sourceMarketScores?e.activityDetails.sourceMarketScores.map((function(t){var a,n,l;return(null===t||void 0===t||null===(a=t.sourceMarket)||void 0===a?void 0:a.code)===(null===(n=e.itenaryQueryDetails.basicInfo)||void 0===n?void 0:n.sourceMarket)?y.a.createElement(y.a.Fragment,null,y.a.createElement(Z.a,{className:"",width:40,type:"circle",format:function(e){return e},percent:10*(null===t||void 0===t?void 0:t.score)}),y.a.createElement("span",{className:"line-block ml-6 capitalize"},null===t||void 0===t||null===(l=t.sourceMarket)||void 0===l?void 0:l.name)):null})):null,e.activityDetails.customerScores&&e.activityDetails.customerScores.map((function(t){var a,n;return t.customer.name===(null===(a=e.itenaryQueryDetails)||void 0===a||null===(n=a.basicInfo)||void 0===n?void 0:n.customerName)?y.a.createElement(y.a.Fragment,null,y.a.createElement(Z.a,{width:40,type:"circle",format:function(e){return e},className:"ml-10",percent:t.score?10*t.score:0}),y.a.createElement("span",{className:"line-block ml-6 capitalize"},t.customer.name)):null})),e.activityDetails.rateCards&&e.activityDetails.rateCards.map((function(e,t){return 0===t&&["half-day","full-day"].includes(e.durationType)&&y.a.createElement("span",{className:"mt-20 distance line-block flex items-center"},y.a.createElement("img",{className:"mr-5",src:"/img/QueryIcons/near-me.svg",alt:"near-me"}),y.a.createElement("span",{className:"text-12 capitalize"},e.durationType," Activity"))}))),y.a.createElement("div",{className:"traveller-details-section mt-30"},y.a.createElement("span",{className:"block bold text-11 opacity-5 capitalize"},"Traveller Details"),y.a.createElement("div",{className:"traveller-details"},y.a.createElement("span",{className:"line-block text-14 mr-12 traveller-text"},y.a.createElement("img",{className:"mr-4",src:"/img/QueryIcons/user.svg",alt:"user"}),y.a.createElement("span",null,P.adult," Adults ,"," ",P.child," Child"))))),y.a.createElement("div",{className:"Product-Cheapest-Card"},e.activityDetails.rateCards&&e.activityDetails.rateCards.map((function(t,a){var n,i,r,c,o,s,u,m,d,v;return t.id===e.activityRateCard&&y.a.createElement(y.a.Fragment,null,"pax"===t.pricingType&&y.a.createElement(ce,{product:"activity",data:e.activityDetails,name:e.activityDetails.descriptions&&e.activityDetails.descriptions.filter((function(e){var t,a;return"en"===(null===e||void 0===e||null===(t=e.language)||void 0===t?void 0:t.code)||"ENG"===(null===e||void 0===e||null===(a=e.language)||void 0===a?void 0:a.code)})).map((function(e){return e.name})),adultAge:{max:null===(n=e.activityDetails)||void 0===n?void 0:n.adultMaxAge,min:null===(i=e.activityDetails)||void 0===i?void 0:i.adultMinAge},areChildAllowed:null===(r=e.activityDetails)||void 0===r?void 0:r.areChildrenAllowed,childsAge:(null===(c=e.activityDetails)||void 0===c?void 0:c.areChildrenAllowed)?{max:null===(o=e.activityDetails)||void 0===o?void 0:o.childMaxAge,min:null===(s=e.activityDetails)||void 0===s?void 0:s.childMinAge}:null,areInfantsAllowed:null===(u=e.activityDetails)||void 0===u?void 0:u.areInfantsAllowed,infantAge:(null===(m=e.activityDetails)||void 0===m?void 0:m.areInfantsAllowed)?{max:null===(d=e.activityDetails)||void 0===d?void 0:d.infantMaxAge,min:null===(v=e.activityDetails)||void 0===v?void 0:v.infantMinAge}:null,rateCardId:t.id,standardPricing:t.standardPricing,currency:t.currency,expertPricing:t.expertPricing,languagePricing:t.languagePricing,defaultLanguage:e.activityDetails.descriptions&&e.activityDetails.descriptions.map((function(e){return e.language})),timeSlots:t.timeSlots,showAddNewProductModal:l,contractType:t.contractType,rateCode:t.rateCode,coverCharge:t.coverCharge,durationInHours:t.durationInHours})," ")})))):y.a.createElement(X.a,{active:!0}));case"fb-services":var n,i,r,c,o,s;return y.a.createElement(y.a.Fragment,null,Object.keys(e.FbSelectedData).length>0?y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"Product-Details flex flex-col"},y.a.createElement("div",{className:"flex justify-start items-center mr-20"},y.a.createElement("span",{className:"text-18 bold"},y.a.createElement("div",null,e.FbSelectedData.name)),y.a.createElement("img",{className:"ml-8 opacity-20",src:"/img/QueryIcons/tci-icon.jpg",alt:"tci"})),y.a.createElement("span",{className:"mr-8 text-12 mt-10"},y.a.createElement(_.a,{allowHalf:!0,disabled:!0,defaultValue:Math.floor((null===(n=e.FbSelectedData)||void 0===n?void 0:n.sourceMarketScore)/2)})),(null===(i=e.dummyBasicInfo)||void 0===i||null===(r=i.basicDetails)||void 0===r?void 0:r.address)?y.a.createElement("p",{className:"mt-20 product-address"},y.a.createElement("img",{className:"mr-6",src:"/img/QueryIcons/location.svg",alt:"location"}),e.dummyBasicInfo.basicDetails.address.addressLine1?"".concat(e.dummyBasicInfo.basicDetails.address.addressLine1,", "):null,e.dummyBasicInfo.basicDetails.address.addressLine2?"".concat(e.dummyBasicInfo.basicDetails.address.addressLine2,", "):null,e.dummyBasicInfo.basicDetails.address.addressLine3?"".concat(e.dummyBasicInfo.basicDetails.address.addressLine3,", "):null,(null===(c=e.dummyBasicInfo.basicDetails.address.city)||void 0===c?void 0:c.name)?"".concat(e.dummyBasicInfo.basicDetails.address.city.name,", "):null,e.dummyBasicInfo.basicDetails.address.state.name?"".concat(e.dummyBasicInfo.basicDetails.address.state.name,", "):null,e.dummyBasicInfo.basicDetails.address.pinCode?"".concat(e.dummyBasicInfo.basicDetails.address.pinCode):null):null,y.a.createElement("div",{className:"mt-20"},e.FbSelectedData.sourceMarketScores?e.FbSelectedData.sourceMarketScores.map((function(t){var a,n,l;return(null===t||void 0===t||null===(a=t.sourceMarket)||void 0===a?void 0:a.code)===(null===(n=e.itenaryQueryDetails.basicInfo)||void 0===n?void 0:n.sourceMarket)?y.a.createElement(y.a.Fragment,null,y.a.createElement(Z.a,{className:"",width:40,type:"circle",format:function(e){return e},percent:10*(null===t||void 0===t?void 0:t.score)}),y.a.createElement("span",{className:"line-block ml-6 capitalize"},null===t||void 0===t||null===(l=t.sourceMarket)||void 0===l?void 0:l.name)):null})):null,e.FbSelectedData.customerScores&&e.FbSelectedData.customerScores.map((function(t){var a,n;return t.customer.name===(null===(a=e.itenaryQueryDetails)||void 0===a||null===(n=a.basicInfo)||void 0===n?void 0:n.customerName)?y.a.createElement(y.a.Fragment,null,y.a.createElement(Z.a,{width:40,type:"circle",format:function(e){return e},className:"ml-10",percent:t.score?10*t.score:0}),y.a.createElement("span",{className:"line-block ml-6 capitalize"},t.customer.name)):null}))),y.a.createElement("div",{className:"traveller-details-section mt-30"},y.a.createElement("span",{className:"block bold text-11 opacity-5 capitalize"},"Traveller Details"),y.a.createElement("div",{className:"traveller-details"},"hotel"===e.product&&y.a.createElement("span",{className:"line-block text-14 mr-12 traveller-text"},y.a.createElement("img",{className:"mr-4",src:"/img/QueryIcons/bed.svg",alt:"bed"})),y.a.createElement("span",{className:"line-block text-14 mr-12 traveller-text"},y.a.createElement("img",{className:"mr-4",src:"/img/QueryIcons/user.svg",alt:"user"}),y.a.createElement("span",null,null===(o=e.itenaryQueryDetails.travellers)||void 0===o?void 0:o.adultCount," ","Adults ,"," ",null===(s=e.itenaryQueryDetails.travellers)||void 0===s?void 0:s.childCount," ","Child"))))),y.a.createElement("div",{className:"Product-Cheapest-Card"},y.a.createElement(ce,{product:"fb-services",data:e.fbRateDetails,close:e.close,showAddNewProductModal:l}))):y.a.createElement(X.a,{active:!0}));case"monument":var u;return y.a.createElement(y.a.Fragment,null,Object.keys(e.monumentDetails).length>0?y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"Product-Details flex flex-col"},y.a.createElement("div",{className:"flex justify-start items-center mr-20"},y.a.createElement("span",{className:"text-18 bold"},e.monumentDetails.descriptions&&e.monumentDetails.descriptions.filter((function(e){var t,a;return"en"===(null===e||void 0===e||null===(t=e.language)||void 0===t?void 0:t.code)||"ENG"===(null===e||void 0===e||null===(a=e.language)||void 0===a?void 0:a.code)})).map((function(e){return y.a.createElement("div",null,e.name)}))),y.a.createElement("img",{className:"ml-8 opacity-20",src:"/img/QueryIcons/tci-icon.jpg",alt:"tci"}),y.a.createElement("div",{className:"tags ml-8"},y.a.createElement("span",{className:"product-tag mr-8 text-12"},"RECOMMENDED DURATION : ".concat(Math.floor(e.monumentDetails.recommendedDuration/60)," ").concat(Math.floor(e.monumentDetails.recommendedDuration/60)>1?"HRS":"HR"," ").concat(60*(e.monumentDetails.recommendedDuration/60-Math.floor(e.monumentDetails.recommendedDuration/60)).toFixed(2)," mins")))),e.monumentDetails.address?y.a.createElement("p",{className:"mt-20 product-address"},y.a.createElement("img",{className:"mr-6",src:"/img/QueryIcons/location.svg",alt:"location"}),e.monumentDetails.address.addressLine1?"".concat(e.monumentDetails.address.addressLine1,", "):null,e.monumentDetails.address.addressLine2?"".concat(e.monumentDetails.address.addressLine2,", "):null,e.monumentDetails.address.addressLine3?"".concat(e.monumentDetails.address.addressLine3,", "):null,(null===(u=e.monumentDetails.address.city)||void 0===u?void 0:u.name)?"".concat(e.monumentDetails.address.city.name,", "):null,e.monumentDetails.address.state.name?"".concat(e.monumentDetails.address.state.name,", "):null,e.monumentDetails.address.pinCode?"".concat(e.monumentDetails.address.pinCode):null):null,y.a.createElement("div",{className:"mt-20"},e.monumentDetails.sourceMarketScores?e.monumentDetails.sourceMarketScores.map((function(t){var a,n,l;return(null===t||void 0===t||null===(a=t.sourceMarket)||void 0===a?void 0:a.code)===(null===(n=e.itenaryQueryDetails.basicInfo)||void 0===n?void 0:n.sourceMarket)?y.a.createElement(y.a.Fragment,null,y.a.createElement(Z.a,{className:"",width:40,type:"circle",format:function(e){return e},percent:10*(null===t||void 0===t?void 0:t.score)}),y.a.createElement("span",{className:"line-block ml-6 capitalize"},null===t||void 0===t||null===(l=t.sourceMarket)||void 0===l?void 0:l.name)):null})):null,e.monumentDetails.customerScores&&e.monumentDetails.customerScores.map((function(t){var a,n;return t.customer.name===(null===(a=e.itenaryQueryDetails)||void 0===a||null===(n=a.basicInfo)||void 0===n?void 0:n.customerName)?y.a.createElement(y.a.Fragment,null,y.a.createElement(Z.a,{width:40,type:"circle",format:function(e){return e},className:"ml-10",percent:t.score?10*t.score:0}),y.a.createElement("span",{className:"line-block ml-6 capitalize"},t.customer.name)):null}))),y.a.createElement("div",{className:"traveller-details-section mt-30"},y.a.createElement("span",{className:"block bold text-11 opacity-5 capitalize"},"Traveller Details"),y.a.createElement("div",{className:"traveller-details"},y.a.createElement("span",{className:"line-block text-14 mr-12 traveller-text"},y.a.createElement("img",{className:"mr-4",src:"/img/QueryIcons/user.svg",alt:"user"}),y.a.createElement("span",null,P.adult," Adults ,"," ",P.child," Child"))))),y.a.createElement("div",{className:"Product-Cheapest-Card"},(e.monumentDetails.contracts||e.monumentDetails.asiCategory)&&e.monumentDetails.contracts.concat("asiCategory"in e.monumentDetails&&e.monumentDetails.asiCategory&&Object.keys(e.monumentDetails.asiCategory).length>0?e.monumentDetails.asiCategory.contracts:[]).map((function(t,a){var n,i,r,c,o,s,u,m,d,v,p;return t.id===e.monumentContractId&&y.a.createElement(y.a.Fragment,null,y.a.createElement(ce,{product:"monument",data:e.monumentDetails,name:e.monumentDetails.descriptions&&e.monumentDetails.descriptions.filter((function(e){var t,a;return"en"===(null===e||void 0===e||null===(t=e.language)||void 0===t?void 0:t.code)||"ENG"===(null===e||void 0===e||null===(a=e.language)||void 0===a?void 0:a.code)})).map((function(e){return e.name})),adultAge:{max:null===(n=e.monumentDetails)||void 0===n?void 0:n.adultMaxAge,min:null===(i=e.monumentDetails)||void 0===i?void 0:i.adultMinAge},areChildAllowed:null===(r=e.monumentDetails)||void 0===r?void 0:r.areChildrenAllowed,childsAge:(null===(c=e.monumentDetails)||void 0===c?void 0:c.areChildrenAllowed)?{max:null===(o=e.monumentDetails)||void 0===o?void 0:o.childMaxAge,min:null===(s=e.monumentDetails)||void 0===s?void 0:s.childMinAge}:null,areInfantsAllowed:null===(u=e.monumentDetails)||void 0===u?void 0:u.areInfantsAllowed,infantAge:(null===(m=e.monumentDetails)||void 0===m?void 0:m.areInfantsAllowed)?{max:null===(d=e.monumentDetails)||void 0===d?void 0:d.infantMaxAge,min:null===(v=e.monumentDetails)||void 0===v?void 0:v.infantMinAge}:null,contractId:t.id,standardRateCard:t.standardRateCard,currency:t.currency,supplements:t.supplements,showAddNewProductModal:l,bookingWebsite:null===(p=e.monumentDetails)||void 0===p?void 0:p.bookingWebsite,contractCode:t.contractCode}))})))):y.a.createElement(X.a,{active:!0}))}}())):y.a.createElement("p",null,"Loading ... "),y.a.createElement(re.a,{product:e.product,visible:n,setVisible:l,close:e.close,update:e.update,edit:!1,supplement:!1,key:"".concat(e.product).concat(g)}),y.a.createElement(le.c.Provider,{value:{showAddNewProductModal:l}},"hotel"===E&&y.a.createElement("div",{className:"hotel-details-container 123-container mt-16"},y.a.createElement(ve,{data:e.hotelRates})),"activity"===E&&y.a.createElement("div",{className:"hotel-details-container 123-container mt-16"},y.a.createElement(ge,{data:e.activityDetails})),"monument"===E&&y.a.createElement("div",{className:"hotel-details-container 123-container mt-16"},y.a.createElement(Ee,{data:e.monumentDetails})),"fb-services"===E&&y.a.createElement("div",{className:"hotel-details-container 123-container mt-16"},y.a.createElement(xe,{close:e.close,data:e.dummyBasicInfo}))))})),Oe=(a(1046),a(655)),Ae=a.n(Oe),Pe=(a(3987),a(27)),Fe=a(370);var je=Object(g.b)((function(e){var t,a=e.Queries,n=e.itenaryData,l=e.Loader;return{dayItinerary:a.root.dayItinerary,selectedIndex:a.root.selectedIndex,selectedDate:a.root.selectedDate,routeId:a.root.routeId,queryId:a.root.queryId,itenaryQueryDetails:n.itenaryQueryDetails,activityFilters:a.activity.activityFilters,monumentFilters:a.monument.monumentFilters,isLoading:null===(t=l.isLoading)||void 0===t?void 0:t[Pe.r.DAY_ITINERARY]}}),(function(e){return{resetRoute:Object(b.b)(D.m,e),getRouteItinerary:Object(b.b)(D.f,e),setActivitySelected:Object(b.b)(E.k,e),setMonumentEdit:Object(b.b)(N.g,e),setActivityFilters:Object(b.b)(E.i,e),setMonumentFilters:Object(b.b)(N.h,e)}}))((function(e){var t,a,n,l,i,r=e.productDetails,c=e.showProductDetails,s=e.product,u=e.data,f=e.activityList,g=e.themes,b=e.difficulties,h=e.monumentList,E=e.activityFilters,N=e.monumentFilters,C=e.defaultLevel,D=e.defaultTheme,x=e.close,k=e.cardClick,I=e.dayItinerary,A=e.selectedIndex,P=e.selectedDate,F=e.resetRoute,j=e.getRouteItinerary,R=e.routeId,w=e.queryId,T=e.deleteModal,M=(e.setActivitySelected,e.setActivityFilters),Q=e.setMonumentFilters,L=e.itenaryQueryDetails,Y=e.onProductChange,B=e.setMonumentEdit,H=e.isLoading,G=Ae.a.Panel,W=Object(p.useState)(""),z=Object(v.a)(W,2),_=z[0],U=z[1],X=Object(p.useState)("products"),J=Object(v.a)(X,2),K=J[0],$=J[1],Z=Object(p.useState)(!1),ee=Object(v.a)(Z,2),te=ee[0],ae=ee[1],le=Object(p.useState)(!1),ie=Object(v.a)(le,2),ce=ie[0],oe=ie[1],se=Object(p.useState)(-1),ue=Object(v.a)(se,2),me=ue[0],de=(ue[1],Object(p.useState)(!1)),ve=Object(v.a)(de,2),pe=ve[0],ye=ve[1],fe=Object(p.useState)(-1),ge=Object(v.a)(fe,2),be=ge[0],he=ge[1],Ee=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he(a),e.next=3,B(t.businessCode,t);case 3:ye(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ne=function(e){switch(e){case"activity":oe(!1),j(w,R,S()(P));break;case"monument":ye(!1),j(w,R,S()(P))}},Ce=function(e,t){for(var a=[],n=0;n<e.length;n++)a=a.concat(e[n][t]);return a};Object(p.useEffect)((function(){F(),ae(!1)}),[te]),Object(p.useEffect)((function(){U(s)}),[s]);var De=function(e){$(e),ae(!0)};return Object(p.useEffect)((function(){M({}),Q({})}),[]),y.a.createElement("div",{className:"modal-wrapper-activity"},r?y.a.createElement(Ie,{showProductDetails:c,product:s,close:x,update:function(e){return ae(e)}}):y.a.createElement("div",{className:"modal-details"},y.a.createElement("div",{className:"modal-header"},y.a.createElement("section",{className:"modal-header-buttons mt-30 ml-30"},y.a.createElement("span",null,[{name:"Activity",value:"activity"},{name:"Monuments",value:"monument"}].map((function(e,t){return y.a.createElement(ne.a,{className:e.value===_?"active":"",onClick:function(){U(e.value),Y(e.value)}},e.name)})))),y.a.createElement("section",{className:"modal-header-info ml-30 mt-10 mb-10 items-center"},y.a.createElement("div",{className:"modal-header-title"},y.a.createElement("p",{className:" bold text-12"},"in ",u.city," | Day ",A+1," |"," ",S()(P).format("ll"))),y.a.createElement("div",{className:"modal-header-search search-wrapper mr-20 flex items-center"},y.a.createElement(O.a,{className:"mr-10"}),y.a.createElement(o.a,{className:"query-product-search",placeholder:"Search for ".concat(null===_||void 0===_?void 0:_.toLowerCase())})))),y.a.createElement("div",{className:"modal-rest"},y.a.createElement("div",{className:"modal-filter p-30"},y.a.createElement(q,{product:_,key:A,themes:g,difficulties:b,defaultLevel:C,defaultTheme:D,activityFilters:E,monumentFilters:N})),y.a.createElement("div",{className:"modal-content mb-100 p-10"},"activity"===_?f&&0!==f.length?y.a.createElement(y.a.Fragment,null,y.a.createElement("section",{className:"modal-content-title mb-10 bold"},y.a.createElement("p",{className:"text-14"},"Suggesting ",f.length," ",f.length>1?"activities":"activity"," in"," ",u.city)),y.a.createElement("section",{className:"modal-product-list-wrapper suggested mb-20 p-10"},f.map((function(e,t){return y.a.createElement(V.a,{key:t,product:_,click:function(){return k(s,e.businessCode)},data:e})})))):"activity"===_?y.a.createElement("div",{className:"modal-content pt-20 pb-20 flex flex-col"},y.a.createElement("section",{className:"top-header"},y.a.createElement("section",{className:"bold modal-content-title-info "},y.a.createElement("p",null,"No data available for the above city and date.")))):null:null,"monument"===_&&h&&0!==h.length?y.a.createElement(y.a.Fragment,null,y.a.createElement("section",{className:"modal-content-title mb-10 bold"},y.a.createElement("p",{className:"text-14"},"Suggesting ",h.length," ",h.length>1?"monuments":"monument"," in"," ",u.city)),y.a.createElement("section",{className:"modal-product-list-wrapper suggested mb-20 p-10"},h.map((function(e,t){return y.a.createElement(V.a,{key:t,product:_,click:function(){return k(s,e.businessCode)},data:e})})))):"monument"===_?y.a.createElement("div",{className:"modal-content pt-20 pb-20 flex flex-col"},y.a.createElement("section",{className:"top-header"},y.a.createElement("section",{className:"bold modal-content-title-info "},y.a.createElement("p",null,"No data available for the above city and date.")))):null))),y.a.createElement("div",{className:"modal-plan"},y.a.createElement("div",{className:"modal-plan-title"},y.a.createElement("p",{className:"mt-30 text-16 ml-20 bold"},"Plan for Day"," ",S()(P).diff(S()((null===L||void 0===L||null===(t=L.stayDetails)||void 0===t?void 0:t.finalSchedule)?null===L||void 0===L||null===(a=L.stayDetails)||void 0===a||null===(n=a.finalSchedule)||void 0===n?void 0:n.arrivalDate:null===L||void 0===L||null===(l=L.stayDetails)||void 0===l||null===(i=l.flexibleSchedule)||void 0===i?void 0:i.startDate),"days")+1),y.a.createElement("p",{className:"ml-20 mt-4 mb-2 opacity-2"},S()(P).format("dddd, MMMM D, YYYY")),y.a.createElement("div",{className:"modal-plan-sort mr-20"},y.a.createElement("p",{className:"mt-20 ml-20 text-14"}," Sort by:"),y.a.createElement("p",{className:"mt-20 ml-20 text-14 text-right"}," ",y.a.createElement("span",{className:"make-primary",onClick:function(){return De("products")}},"Products")," ","|"," ",y.a.createElement("span",{className:"make-primary",onClick:function(){return De("time")}},"Time")," "))),"products"===K?y.a.createElement("div",{className:"modal-plan-details"},H?y.a.createElement(Fe.a,{className:"ml-20 mr-20 pt-40"}):y.a.createElement(y.a.Fragment,null,[{name:"ACTIVITIES",subname:"Activity",key:"activities"},{name:"MONUMENTS",subname:"Monument",key:"monuments"}].map((function(e,t){return y.a.createElement("div",null,y.a.createElement(Ae.a,{expandIconPosition:"right",ghost:!0,defaultActiveKey:["activities","monuments"]},y.a.createElement(G,{header:e.name,key:e.key},y.a.createElement(y.a.Fragment,null,console.log(I,R,e.key),I&&Object.keys(I).length>0&&I.hasOwnProperty(R)&&I[R].length>0&&Ce(I[R],e.key).length>0?y.a.createElement(y.a.Fragment,null,Ce(I[R],e.key).sort((function(e,t){return Date.parse("01/01/2011 ".concat(e.primary.startTime))>Date.parse("01/01/2011 ".concat(t.primary.startTime))?1:-1})).filter((function(e){return null!==e.primary})).map((function(t,a){return y.a.createElement("div",{className:"activity-card mb-10"},y.a.createElement("div",{className:"activity-card-type"},y.a.createElement("div",null,y.a.createElement("span",{className:"flex"},"activities"===e.key&&y.a.createElement("img",{src:"/img/QueryIcons/newProductIcons/activities.svg"}),"monuments"===e.key&&y.a.createElement("img",{src:"/img/QueryIcons/newProductIcons/monuments.svg"}),y.a.createElement("p",{className:"ml-6 text-12"},e.subname))),y.a.createElement("div",null,"activities"===e.key&&y.a.createElement("div",{className:"activity-icons"},y.a.createElement("input",{type:"image",className:"btnImage mr-12",src:"/img/QueryIcons/builderPageIcons/trash.svg",alt:"trash",onClick:function(){return T("activity",t.primary.id,!0,"","",t.primary)}})),"monuments"===e.key&&y.a.createElement("div",{className:"activity-icons"},y.a.createElement("input",{type:"image",className:"btnImage mr-12",src:"/img/QueryIcons/builderPageIcons/trash.svg",alt:"trash",onClick:function(){return T("monument",t.primary.id,!0)}}),y.a.createElement("input",{type:"image",className:"btnImage mr-6",src:"/img/QueryIcons/builderPageIcons/edit.svg",alt:"trash",onClick:function(){return Ee(t.primary,a)}})))),y.a.createElement("p",{className:"activity-card-title ml-15 mt-5 mb-5 text-15"},t.primary.name),"activities"===e.key&&y.a.createElement("p",{className:"activity-card-by ml-15 mt-5 text-12 opacity-20"},"by Delhi tours and travellers"),y.a.createElement("div",{className:"activity-card-duration mt-10 mb-10"},t.primary.language?y.a.createElement("span",{className:"product-tag mr-8 text-11"},"Language - ".concat(t.primary.language.name)):null),t.primary.isOptional?y.a.createElement("span",{className:"ml-8 product-tag mr-8 text-11"},"OPTIONAL"):null,y.a.createElement("div",{className:"activity-card-duration mt-24"},y.a.createElement("div",{className:"duration"},y.a.createElement("span",{className:"flex items-center "},y.a.createElement("img",{src:"/img/QueryIcons/clock.svg"}),y.a.createElement("p",{className:"ml-6 text-12"},S()(t.primary.startTime,"HH:mm").format("hh:mm A")))),y.a.createElement("div",null,"activities"===e.key&&y.a.createElement("p",{className:"currency bold ml-6 text-18"},t.primary.currency.symbol?t.primary.currency.symbol:t.primary.currency.code," ",Number(t.primary&&t.primary.proposedCost.perPersonCost).toFixed(2)),"monuments"===e.key&&y.a.createElement("p",{className:"currency bold ml-6 text-18"},t.primary.currency.symbol?t.primary.currency.symbol:t.primary.currency.code," ",Number(t.primary.proposedCost.perPersonCost).toFixed(2)))))}))):y.a.createElement("div",{className:"flex flex-col items-center "},y.a.createElement("img",{src:"/img/QueryIcons/empty-activities.svg"}),y.a.createElement("p",{className:"mt-4 text-12 opacity-2"},"No ",e.name.toLowerCase()," added to plan"))))))})))):null,"time"===K?y.a.createElement("div",{className:"modal-plan-details p-10"},H?y.a.createElement(Fe.a,{className:"ml-20 mr-20 pt-40"}):y.a.createElement(y.a.Fragment,null,I&&Object.keys(I).length>0&&I.hasOwnProperty(R)&&I[R].length>0&&(Ce(I[R],"activities").length>0||Ce(I[R],"monuments").length>0)?y.a.createElement(y.a.Fragment,null,Ce(I[R],"activities").concat(Ce(I[R],"monuments")).sort((function(e,t){return Date.parse("01/01/2011 ".concat(e.primary.startTime))>Date.parse("01/01/2011 ".concat(t.primary.startTime))?1:-1})).filter((function(e){return null!==e.primary})).map((function(e){return y.a.createElement("div",{className:"activity-card mb-10"},y.a.createElement("div",{className:"activity-card-type"},y.a.createElement("div",null,y.a.createElement("span",{className:"flex"},e.primary&&e.primary.businessCode.startsWith("A")&&y.a.createElement("img",{src:"/img/QueryIcons/newProductIcons/activities.svg"}),e.primary&&e.primary.businessCode.startsWith("M")&&y.a.createElement("img",{src:"/img/QueryIcons/newProductIcons/monuments.svg"}),e.primary&&e.primary.businessCode.startsWith("A")&&y.a.createElement("p",{className:"ml-6 text-12"},"Activity"),e.primary&&e.primary.businessCode.startsWith("M")&&y.a.createElement("p",{className:"ml-6 text-12"},"Monument"))),y.a.createElement("div",null,e.primary.businessCode.startsWith("A")&&y.a.createElement("div",{className:"activity-icons"},y.a.createElement("input",{type:"image",className:"btnImage mr-12",src:"/img/QueryIcons/builderPageIcons/trash.svg",alt:"trash",onClick:function(){return T("activity",e.primary.id,!0,"","",e.primary)}})),e.primary.businessCode.startsWith("M")&&y.a.createElement("div",{className:"activity-icons"},y.a.createElement("input",{type:"image",className:"btnImage mr-12",src:"/img/QueryIcons/builderPageIcons/trash.svg",alt:"trash",onClick:function(){return T("monument",e.primary.id,!0)}}),y.a.createElement("input",{type:"image",className:"btnImage mr-6",src:"/img/QueryIcons/builderPageIcons/edit.svg",alt:"trash",onClick:function(){return Ee(e.primary)}})))),y.a.createElement("p",{className:"activity-card-title ml-15 mt-5 mb-5 text-15"},e.primary.name),e.primary.businessCode.startsWith("A")&&y.a.createElement("p",{className:"activity-card-by ml-15 mt-5 text-12 opacity-20"},"by Delhi tours and travellers"),y.a.createElement("div",{className:"activity-card-duration mt-10"}),e.primary.isOptional?y.a.createElement("span",{className:"ml-8 product-tag mr-8 text-11"},"OPTIONAL"):null,y.a.createElement("div",{className:"activity-card-duration mt-24"},y.a.createElement("div",{className:"duration"},y.a.createElement("span",{className:"flex items-center "},y.a.createElement("img",{src:"/img/QueryIcons/clock.svg"}),y.a.createElement("p",{className:"ml-6 text-12"},S()(e.primary.startTime,"HH:mm").format("HH:mm A")))),y.a.createElement("div",null,e.primary.businessCode.startsWith("A")&&y.a.createElement("p",{className:"currency bold ml-6 text-18"},e.primary.currency.symbol?e.primary.currency.symbol:e.primary.currency.code," ",Number(e.primary&&e.primary.proposedCost.perPersonCost).toFixed(2)),e.primary.businessCode.startsWith("M")&&y.a.createElement("p",{className:"currency bold ml-6 text-18"},e.primary.currency.symbol?e.primary.currency.symbol:e.primary.currency.code," ",Number(e.primary.proposedCost.perPersonCost).toFixed(2)))))}))):y.a.createElement("div",{className:"flex flex-col items-center "},y.a.createElement("img",{src:"/img/QueryIcons/empty-activities.svg"}),y.a.createElement("p",{className:"mt-4 text-12 opacity-2"},"Nothing added to plan")))):null),y.a.createElement(re.a,{product:"activity",visible:ce,setVisible:oe,close:function(e){return Ne(e)},edit:!0,key:"activity"+me}),y.a.createElement(re.a,{product:"monument",visible:pe,setVisible:ye,close:function(e){return Ne(e)},edit:!0,key:"monument"+be}))}));var Re=Object(g.b)((function(e){var t=e.Queries,a=e.itenaryData,n=e.Language;return{hotelList:t.hotel.hotelPreviews,hotelFilters:t.hotel.hotelFilters,activityFilters:t.activity.activityFilters,monumentFilters:t.monument.monumentFilters,themes:t.activity.themes,difficulties:t.activity.difficulties,activityList:t.activity.activityPreviews,monumentList:t.monument.monumentPreviews,guideList:t.guide.guidePreviews,guideFilters:t.guide.guideFilters,startDate:t.root.startDate,endDate:t.root.endDate,selectedDate:t.root.selectedDate,selectedGuide:t.guide.selectedGuide,selectedIndex:t.root.selectedIndex,itenaryQueryDetails:a.itenaryQueryDetails,itenaryForQueryData:a.itenaryForQueryData,routeId:t.root.routeId,dayItinerary:t.root.dayItinerary,guideRateId:t.guide.guideRateId,languages:n.languageList,fbFilters:t.fb.fbFilters,fbList:t.fb.fbList,fbService:t.fb.fbItineraryData,fbOptionalService:t.fb.fbOptionalItineraryData}}),(function(e){return{getRouteItinerary:Object(b.b)(D.i,e),getHotelList:Object(b.b)(h.e,e),getActivityList:Object(b.b)(E.b,e),getActivityFilters:Object(b.b)(E.f,e),getMonumentList:Object(b.b)(N.e,e),setHotelFilters:Object(b.b)(h.j,e),setActivityFilters:Object(b.b)(E.i,e),setMonumentFilters:Object(b.b)(N.h,e),getGuideList:Object(b.b)(C.i,e),getGuideDetails:Object(b.b)(C.j,e),setEditMode:Object(b.b)(D.q,e),getLanguageList:Object(b.b)(x.a,e),setSelectedGuideRateCardId:Object(b.b)(C.p,e),setSelectedGuideRateId:Object(b.b)(C.q,e),getPriceBreakdown:Object(b.b)(D.e,e),getItinerary:Object(b.b)(D.c,e),getFbList:Object(b.b)(k.a,e),setMealType:Object(b.b)(k.l,e),setGuideFilters:Object(b.b)(C.l,e),setRateCardIndex:Object(b.b)(C.n,e),setRateIdIndex:Object(b.b)(C.o,e),deleteFb:Object(b.b)(k.c,e),setFbItineraryData:Object(b.b)(k.j,e),setFbOptionalItineraryData:Object(b.b)(k.k,e)}}))((function(e){var t,a,n,i,c,u,g,b,h,E,N,C=Object(f.g)(),D=(null===(t=e.itenaryForQueryData)||void 0===t||t.length,Object(oe.q)()),x=D.get("city"),k=D.get("product"),I=Object(p.useState)(""),A=Object(v.a)(I,2),P=A[0],F=A[1],j=Object(p.useContext)(le.c),R=Object(p.useState)(!1),w=Object(v.a)(R,2),T=w[0],M=w[1],Q=Object(p.useState)(!1),L=Object(v.a)(Q,2),Y=L[0],B=L[1],H=Object(p.useState)(!1),G=Object(v.a)(H,2),W=G[0],z=G[1],_=Object(p.useState)({adult:0,child:0,childAge:[]}),U=Object(v.a)(_,2),X=(U[0],U[1]);Object(p.useEffect)((function(){if(e.itenaryQueryDetails.travellers){var t=e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.adultCount}),0),a=e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.childCount}),0),n=e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e.concat(t.childAge)}),[]);X({adult:t,child:a,childAge:n})}}),[e.itenaryQueryDetails.travellers]);var J={queryId:e.itenaryQueryDetails.id,languageCode:"en",city:x,from:e.startDate,to:e.endDate,customer:e.itenaryQueryDetails.basicInfo.customer,mealPlan:e.itenaryQueryDetails.travellers.mealPlan,sourceMarket:e.itenaryQueryDetails.basicInfo.sourceMarket,specialNeedPreference:[],themes:e.itenaryQueryDetails.preferences.tourThemes.map((function(e){return e.id})),adultCount:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.adultCount}),0),childCount:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.childCount}),0),childAge:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e.concat(t.childAge)}),[]),noOfGuestPerRoom:2,currencyCode:e.itenaryQueryDetails.basicInfo.currency},K={queryId:e.itenaryQueryDetails.id,languageCode:"en",startPointCity:x,endPointCity:x,customer:e.itenaryQueryDetails.basicInfo.customer,sourceMarket:e.itenaryQueryDetails.basicInfo.sourceMarket,specialNeedPreference:[],adultCount:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.adultCount}),0),childCount:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.childCount}),0),childAge:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e.concat(t.childAge)}),[]),currencyCode:e.itenaryQueryDetails.basicInfo.currency,filterByTCIScore:!0,filterByThemeScore:!0},$={city:x,customer:e.itenaryQueryDetails.basicInfo.customer,sourceMarket:e.itenaryQueryDetails.basicInfo.sourceMarket,adultCount:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.adultCount}),0),childCount:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.childCount}),0),childAge:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e.concat(t.childAge)}),[]),currencyCode:e.itenaryQueryDetails.basicInfo.currency,nationality:null===(a=e.itenaryQueryDetails)||void 0===a||null===(n=a.travellers)||void 0===n||null===(i=n.travellers)||void 0===i?void 0:i.map((function(e){return e.nationality}))},Z={city:x,from:e.startDate,to:e.endDate,customer:e.itenaryQueryDetails.basicInfo.customer,sourceMarket:e.itenaryQueryDetails.basicInfo.sourceMarket,noOfGuest:e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.adultCount}),0)+e.itenaryQueryDetails.travellers.roomConfigurations.reduce((function(e,t){return e+t.childCount}),0)},ee={city:x,date:S()(e.selectedDate).format("YYYY-MM-DD"),customer:e.itenaryQueryDetails.basicInfo.customer,sourceMarket:e.itenaryQueryDetails.basicInfo.sourceMarket},te=j.type;Object(p.useEffect)((function(){var t;if(j.type&&(e.dayItinerary[e.routeId]&&(null===(t=e.dayItinerary[e.routeId][0])||void 0===t?void 0:t.foodAndBeverages))){var a,n,l,i,r=null===(a=e.dayItinerary[e.routeId][0])||void 0===a||null===(n=a.foodAndBeverages)||void 0===n?void 0:n.filter((function(e){var t,a;return(null===e||void 0===e||null===(t=e.primary)||void 0===t?void 0:t.mealType)==j.type&&!1===(null===e||void 0===e||null===(a=e.primary)||void 0===a?void 0:a.isOptional)})),c=null===(l=e.dayItinerary[e.routeId][0])||void 0===l||null===(i=l.foodAndBeverages)||void 0===i?void 0:i.filter((function(e){var t,a;return(null===e||void 0===e||null===(t=e.primary)||void 0===t?void 0:t.mealType)==j.type&&!0===(null===e||void 0===e||null===(a=e.primary)||void 0===a?void 0:a.isOptional)}));console.log(c,"op"),e.setFbItineraryData(r),e.setFbOptionalItineraryData(c)}}),[j.type]),console.log(e.fbService,"fb");var ae=function(){var t=Object(d.a)(m.a.mark((function t(a,n,l,i,r){var c,o,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F(n),console.log(a,n,l,i,"producys"),t.t0=a,t.next="hotel"===t.t0?5:"activity"===t.t0?8:"fb-services"===t.t0?12:"monument"===t.t0?14:"guide"===t.t0?17:38;break;case 5:return C.push({search:"".concat(C.location.search,"&hotel=").concat(n).concat(W?"&excludeFSRC=true":"")}),M(!0),t.abrupt("break",39);case 8:return console.log("route"),C.push({search:"".concat(C.location.search,"&activity=").concat(n)}),M(!0),t.abrupt("break",39);case 12:return M(!0),t.abrupt("break",39);case 14:return C.push({search:"".concat(C.location.search,"&monument=").concat(n)}),M(!0),t.abrupt("break",39);case 17:return t.next=19,e.setEditMode(!1);case 19:return t.next=21,e.setSelectedGuideRateCardId(l);case 21:return t.next=23,e.setSelectedGuideRateId(i);case 23:return t.next=25,e.getGuideDetails(n,"issued");case 25:if(!(c=t.sent)){t.next=37;break}return o=c.rateCards.findIndex((function(e){return e.id===l})),s="accompanying"!==r.serviceType?c.rateCards[o].localRate.standardRates.findIndex((function(e){return e.id===i})):c.rateCards[o].accompanyingRates.findIndex((function(e){return e.id===i})),t.next=31,e.setRateCardIndex(o);case 31:return t.next=33,e.setRateIdIndex(s);case 33:return t.next=35,C.push({search:"".concat(C.location.search,"&guide=").concat(n)});case 35:return t.next=37,B(!0);case 37:case 38:return t.abrupt("break",39);case 39:case"end":return t.stop()}}),t)})));return function(e,a,n,l,i){return t.apply(this,arguments)}}(),ne=function(){switch(k){case"hotel":e.setVisible(!1),C.push({search:"?tab=builder-mode"}),M(!1);break;case"guide":e.setEditMode(!1),e.setVisible(!1),C.push({search:"?tab=builder-mode"});break;case"fb-services":e.setVisible(!1),M(!1),e.menuModalClose(!1),C.push({search:"?tab=builder-mode"});break;case"activity":case"monument":C.goBack(),M(!1)}};Object(p.useEffect)((function(){var t,a,n,l,i;if(x)switch(k){case"hotel":e.getHotelList(Object(s.a)(Object(s.a)({},J),{},{desiredHotelCategory:e.hotelFilters.rooms?e.hotelFilters.rooms:[e.itenaryQueryDetails.preferences.tciClassification],ratings:e.hotelFilters.stars?e.hotelFilters.stars:null,roomBreakDown:e.itenaryQueryDetails.travellers.roomBreakDown,roomType:null,priceRangeFrom:null,priceRangeTo:null,excludeFSRC:W}));break;case"guide":e.getLanguageList(),e.getGuideList(Object(s.a)(Object(s.a)({},Z),{},{languagePreferences:e.guideFilters.language?e.guideFilters.language:[],durations:e.guideFilters.type?e.guideFilters.type:[],priceFrom:e.guideFilters.priceRange?e.guideFilters.priceRange[0]:null,priceTo:e.guideFilters.priceRange?e.guideFilters.priceRange[1]:null}));break;case"activity":e.getActivityFilters(),e.getActivityList(Object(s.a)(Object(s.a)({},K),{},{from:S()(e.selectedDate).format("YYYY-MM-DD"),to:S()(e.selectedDate).format("YYYY-MM-DD"),difficultyLevel:e.activityFilters.levels?e.activityFilters.levels:(null===(t=e.itenaryQueryDetails.preferences)||void 0===t||null===(a=t.difficultyLevel)||void 0===a?void 0:a.id)?[null===(n=e.itenaryQueryDetails.preferences)||void 0===n||null===(l=n.difficultyLevel)||void 0===l?void 0:l.id]:[],themes:e.activityFilters.themes?e.activityFilters.themes:null===(i=e.itenaryQueryDetails.preferences)||void 0===i?void 0:i.tourThemes.map((function(e){return e.id})),specializationsList:[],priceRangeFrom:e.activityFilters.price?e.activityFilters.price[0]:null,priceRangeTo:e.activityFilters.price?e.activityFilters.price[1]:null,isRangeExtended:!(!e.activityFilters.price||5e4!==e.activityFilters.price[1]),filterByPrice:!!e.activityFilters.price}));break;case"fb-services":te&&(e.setMealType(te),e.getFbList(Object(s.a)(Object(s.a)({},ee),{},{priceFrom:e.fbFilters.mealPrice?e.fbFilters.mealPrice[0]:0,priceTo:e.fbFilters.mealPrice?e.fbFilters.mealPrice[1]:1e5,mealType:te,restaurantTypes:[],isPartOfHotel:!1})));break;case"monument":e.getMonumentList(Object(s.a)(Object(s.a)({},$),{},{from:S()(e.selectedDate).format("YYYY-MM-DD"),to:S()(e.selectedDate).format("YYYY-MM-DD"),priceRangeFrom:e.monumentFilters.price?e.monumentFilters.price[0]:null,priceRangeTo:e.monumentFilters.price?e.monumentFilters.price[1]:null,isRangeExtended:!(!e.monumentFilters.price||5e4!==e.monumentFilters.price[1]),recommendedDurationFrom:e.monumentFilters.duration?e.monumentFilters.duration[0]:null,recommendedDurationTo:e.monumentFilters.duration?e.monumentFilters.duration[1]:null,recommendedDurationRangeExceeded:!(!e.monumentFilters.duration||5!==e.monumentFilters.duration[1]),bestTimeToVisit:e.monumentFilters.time?e.monumentFilters.time:[]}),1)}}),[x,k]),Object(p.useEffect)((function(){var t,a,n;("hotel"===k&&"rooms"in e.hotelFilters&&e.getHotelList(Object(s.a)(Object(s.a)({},J),{},{desiredHotelCategory:e.hotelFilters.rooms?e.hotelFilters.rooms:[e.itenaryQueryDetails.preferences.tciClassification],ratings:e.hotelFilters.stars?e.hotelFilters.stars:null,roomBreakDown:e.itenaryQueryDetails.travellers.roomBreakDown,roomType:null,priceRangeFrom:e.hotelFilters.price?e.hotelFilters.price[0]:null,priceRangeTo:e.hotelFilters.price?e.hotelFilters.price[1]:null,excludeFSRC:W})),"activity"===k)&&("themes"in e.activityFilters&&e.getActivityList(Object(s.a)(Object(s.a)({},K),{},{from:S()(e.selectedDate).format("YYYY-MM-DD"),to:S()(e.selectedDate).format("YYYY-MM-DD"),difficultyLevel:e.activityFilters.levels?e.activityFilters.levels:[null===(t=e.itenaryQueryDetails.preferences)||void 0===t||null===(a=t.difficultyLevel)||void 0===a?void 0:a.id],themes:e.activityFilters.themes?e.activityFilters.themes:null===(n=e.itenaryQueryDetails.preferences)||void 0===n?void 0:n.tourThemes.map((function(e){return e.id})),specializationsList:[],priceRangeFrom:e.activityFilters.price?e.activityFilters.price[0]:null,priceRangeTo:e.activityFilters.price?e.activityFilters.price[1]:null,isRangeExtended:!(!e.activityFilters.price||5e4!==e.activityFilters.price[1]),filterByPrice:!0})));"monument"===k&&"price"in e.monumentFilters&&e.getMonumentList(Object(s.a)(Object(s.a)({},$),{},{from:S()(e.selectedDate).format("YYYY-MM-DD"),to:S()(e.selectedDate).format("YYYY-MM-DD"),priceRangeFrom:e.monumentFilters.price?e.monumentFilters.price[0]:null,priceRangeTo:e.monumentFilters.price?e.monumentFilters.price[1]:null,isRangeExtended:!(!e.monumentFilters.price||5e4!==e.monumentFilters.price[1]),recommendedDurationFrom:e.monumentFilters.duration?e.monumentFilters.duration[0]:null,recommendedDurationTo:e.monumentFilters.duration?e.monumentFilters.duration[1]:null,recommendedDurationRangeExceeded:!(!e.monumentFilters.duration||300!==e.monumentFilters.duration[1]),bestTimeToVisit:e.monumentFilters.time?e.monumentFilters.time:[]}),1),"guide"===k&&"type"in e.guideFilters&&e.getGuideList(Object(s.a)(Object(s.a)({},Z),{},{languagePreferences:e.guideFilters.language?e.guideFilters.language:[],durations:e.guideFilters.type?e.guideFilters.type:[],priceFrom:e.guideFilters.priceRange?e.guideFilters.priceRange[0]:null,priceTo:e.guideFilters.priceRange?e.guideFilters.priceRange[1]:null})),"fb-services"===k&&"mealPrice"in e.fbFilters&&te&&e.getFbList(Object(s.a)(Object(s.a)({},ee),{},{priceFrom:e.fbFilters.mealPrice?e.fbFilters.mealPrice[0]:0,priceTo:e.fbFilters.mealPrice?e.fbFilters.mealPrice[1]:1e5,mealType:te,restaurantTypes:[],isPartOfHotel:!1}))}),[e.hotelFilters,e.activityFilters,e.monumentFilters,e.guideFilters,e.fbFilters]);var ie=function(){var t=Object(d.a)(m.a.mark((function t(a){var n,l,i,r,c,o,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=[],(null===(n=e.fbService[0])||void 0===n?void 0:n.primary.businessCode)&&c.push(e.fbService[0].primary.id),(null===(l=e.fbService[0])||void 0===l||null===(i=l.supplements[0])||void 0===i?void 0:i.businessCode)&&c.push(e.fbService[0].supplements[0].id),(null===(r=e.fbOptionalService[0])||void 0===r?void 0:r.primary.businessCode)==a&&c.push(null===(o=e.fbOptionalService[0])||void 0===o?void 0:o.primary.id),!c||"undefined"===c){t.next=14;break}s=0;case 6:if(!(s<c.length)){t.next=12;break}return t.next=9,e.deleteFb(e.itenaryQueryDetails.id,e.routeId,c[s]);case 9:s++,t.next=6;break;case 12:return t.next=14,e.getRouteItinerary(e.itenaryQueryDetails.id,e.routeId,S()(e.selectedDate));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function ce(e,t,a,n,l,i){return y.a.createElement(V.a,{key:e,click:function(){return ae(t,a.businessCode)},tag:n,product:"fb-services",data:a,fbDelete:ie,buttonType:l,buttonText:i})}return y.a.createElement(l.a,{className:"query-product-modal-"+j.size,visible:e.visible,onCancel:function(){return e.setVisible(!1)},footer:null,width:"large"===j.size?"100%":"small"===j.size?"80%":"70%",style:{top:0},bodyStyle:{height:"100%"},closeIcon:y.a.createElement("img",{src:"/img/QueryIcons/cancel-circle.svg",alt:"close",onClick:function(){e.setVisible(!1),e.setActivityFilters({}),e.setMonumentFilters({}),e.setHotelFilters({}),C.push({search:"?tab=builder-mode"})},afterClose:function(){return M(!1)}})},("Activity"===j.title||"Monument"===j.title)&&y.a.createElement(je,{productDetails:T,showProductDetails:M,product:k,cityCode:x,data:j,close:function(){return ne()},deleteModal:e.deleteModal,cardClick:ae,activityList:e.activityList,themes:e.themes,difficulties:e.difficulties,monumentList:e.monumentList,defaultLevel:null===(c=e.itenaryQueryDetails.preferences)||void 0===c||null===(u=c.difficultyLevel)||void 0===u?void 0:u.id,defaultTheme:null===(g=e.itenaryQueryDetails.preferences)||void 0===g?void 0:g.tourThemes.map((function(e){return e.id})),onProductChange:function(e){switch(e){case"activity":C.push({search:"?tab=builder-mode&product=activity&city=".concat(x)});break;case"monument":C.push({search:"?tab=builder-mode&product=monument&city=".concat(x)})}}}),"Hotel"===j.title&&y.a.createElement("div",{className:"modal-wrapper"},!T&&y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"modal-filter p-30"},e.hotelList&&y.a.createElement(q,{product:k,key:e.selectedIndex,hotelCategory:null===(b=e.itenaryQueryDetails)||void 0===b||null===(h=b.preferences)||void 0===h?void 0:h.tciClassification,hotelClassification:null===(E=e.itenaryQueryDetails)||void 0===E||null===(N=E.preferences)||void 0===N?void 0:N.officialClassification,hotelFilters:e.hotelFilters,setExcludeFSRC:z})),y.a.createElement("div",{className:"modal-content p-20 flex flex-col"},y.a.createElement("section",{className:"top-header"},y.a.createElement("section",{className:"bold modal-content-title-info mb-20"},y.a.createElement("p",{className:"text-16"},"Add ",j.title),y.a.createElement("p",{className:"text-12"},"in ",j.city,"|"," ",S()(null===e||void 0===e?void 0:e.endDate).diff(S()(null===e||void 0===e?void 0:e.startDate),"days"),"N |"," ",e.startDate?S()(e.startDate).format("ll"):"N/A","-",e.endDate?S()(e.endDate).format("ll"):"N/A")),y.a.createElement("section",{className:"modal-content-search search-wrapper mb-20 flex items-center opacity-20"},y.a.createElement(O.a,{className:"mr-10"}),y.a.createElement(o.a,{className:"query-product-search",placeholder:"Search for a ".concat(j.title.toLowerCase())}))),e.hotelList&&0!==e.hotelList.length?y.a.createElement(y.a.Fragment,null,y.a.createElement("section",{className:"modal-content-title mb-20 bold"},y.a.createElement("p",{className:"text-14"},"Suggesting ",e.hotelList.length," ",e.hotelList.length>1?"hotels":"hotel"," in"," ",j.city)),y.a.createElement("section",{className:"modal-product-list-wrapper suggested mb-20 p-10"},e.hotelList.map((function(t,a){var n,l=y.a.createElement(V.a,{key:a,click:function(){return ae(k,t.businessCode)},product:"hotel",data:t});return"file-spc"==(null===(n=t.dateWiseContracts.find((function(t){return t.travelDate===S()(e.selectedDate).format("YYYY-MM-DD")})))||void 0===n?void 0:n.contractType)?y.a.createElement(r.a.Ribbon,{text:"FSRC",color:"green",placement:"start"},l):l}))),y.a.createElement("section",null)):y.a.createElement("div",{className:"modal-content pt-20 pb-20 flex flex-col"},y.a.createElement("section",{className:"top-header"},y.a.createElement("section",{className:"bold modal-content-title-info "},y.a.createElement("p",null,"No data available for the above city and date."))))))),"F&B Services"===j.title&&y.a.createElement("div",{className:"modal-wrapper"},!T&&y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"modal-filter p-30"},e.hotelList&&y.a.createElement(q,{product:k,key:e.selectedIndex,hotelFilters:e.hotelFilters})),y.a.createElement("div",{className:"modal-content p-20 flex flex-col"},y.a.createElement("section",{className:"top-header"},y.a.createElement("section",{className:"bold modal-content-title-info mb-20"},y.a.createElement("p",{className:"text-16"},"Add ",j.title),y.a.createElement("p",{className:"text-12"},"in ",j.city,"|"," ",y.a.createElement("span",{className:"firstLetter"},te)," |"," ",e.startDate?S()(e.startDate).format("ll"):"N/A","-",e.endDate?S()(e.endDate).format("ll"):"N/A")),y.a.createElement("section",{className:"modal-content-search search-wrapper mb-20 flex items-center opacity-20"},y.a.createElement(O.a,{className:"mr-10"}),y.a.createElement(o.a,{className:"query-product-search",placeholder:"Search for a ".concat(j.title.toLowerCase())}))),e.fbList&&0!==e.fbList.length?y.a.createElement(y.a.Fragment,null,y.a.createElement("section",{className:"modal-content-title mb-20 bold"},y.a.createElement("p",{className:"text-14"},"Suggesting ",e.fbList.length," ",e.fbList.length>1?"outlets":"outlet"," in"," ",j.city)),y.a.createElement("section",{className:"modal-product-list-wrapper suggested mb-20 p-10"},e.fbList&&e.fbList.map((function(t,a){var n,l,i,r,c,o,s,u,m,d,v,p,f,g,b,h;return void 0!==e.fbService[0]&&(null===(n=e.fbService[0])||void 0===n?void 0:n.primary)||void 0!==e.fbOptionalService[0]&&(null===(l=e.fbOptionalService[0])||void 0===l?void 0:l.primary)?t.businessCode==(null===(i=e.fbService[0])||void 0===i||null===(r=i.primary)||void 0===r?void 0:r.businessCode)?ce(a,k,t,"Primary","edit"):t.businessCode==(null===(c=e.fbOptionalService[0])||void 0===c||null===(o=c.primary)||void 0===o?void 0:o.businessCode)?ce(a,k,t,"Optional","edit"):t.businessCode==(null===(s=e.fbService[0])||void 0===s||null===(u=s.supplements[0])||void 0===u?void 0:u.businessCode)?ce(a,k,t,"Supplement","edit"):(null===(m=e.fbService[0])||void 0===m?void 0:m.primary)&&(null===(d=e.fbOptionalService[0])||void 0===d?void 0:d.primary)?y.a.createElement(V.a,{key:a,click:function(){return ae(k,t.businessCode)},product:"fb-services",data:t,buttonType:"normal",buttonText:"Add As Supplement",disable:0!==(null===(f=e.fbService[0])||void 0===f||null===(g=f.supplements)||void 0===g?void 0:g.length)}):!(null===(v=e.fbService[0])||void 0===v?void 0:v.primary)&&(null===(p=e.fbOptionalService[0])||void 0===p?void 0:p.primary)?ce(a,k,t,"","normal","Add To Plan"):y.a.createElement(V.a,{key:a,click:function(){return ae(k,t.businessCode)},product:"fb-services",data:t,buttonType:"normal",buttonText:"Add As Supplement",disable:0!==(null===(b=e.fbService[0])||void 0===b||null===(h=b.supplements)||void 0===h?void 0:h.length)}):ce(a,k,t,"","normal","Add To Plan")}))),y.a.createElement("section",null)):y.a.createElement("div",{className:"modal-content pt-20 pb-20 flex flex-col"},y.a.createElement("section",{className:"top-header"},y.a.createElement("section",{className:"bold modal-content-title-info "},y.a.createElement("p",null,"No data available for the above city and date."))))))),"Guide"===j.title&&y.a.createElement("div",{className:"modal-wrapper"},y.a.createElement("div",{className:"modal-filter p-20"},y.a.createElement(q,{guideFilterDefault:e.guideFilterDefault,product:k,guideFilters:e.guideFilters})),y.a.createElement("div",{className:"modal-content p-20 flex flex-col"},y.a.createElement("section",{className:"top-header"},y.a.createElement("section",{className:"bold modal-content-title-info mb-20"},y.a.createElement("p",{className:"text-16"},"Add ",j.title),y.a.createElement("p",{className:"text-12"},"in ",j.city,"|"," ",S()(e.endDate).add(1,"days").diff(S()(e.startDate),"days"),"D |"," ",e.startDate?S()(e.startDate).format("ll"):"N/A","-",e.endDate?S()(e.endDate).format("ll"):"N/A")),y.a.createElement("section",{className:"modal-content-search search-wrapper mb-20 flex items-center opacity-20"},y.a.createElement(O.a,{className:"mr-10"}),y.a.createElement(o.a,{className:"query-product-search",placeholder:"Search for a ".concat(j.title.toLowerCase())}))),e.guideList&&e.guideList.length?y.a.createElement(y.a.Fragment,null,y.a.createElement("section",{className:"modal-content-title mb-20 bold"},y.a.createElement("p",{className:"text-14"},"Suggesting ",e.guideList.length," ",e.guideList.length>1?"guides":"guide"," in"," ",j.city)),y.a.createElement("section",{className:"modal-product-list-wrapper suggested mb-20 p-10"},e.guideList.map((function(e,t){return y.a.createElement(V.a,{key:t,click:function(){ae(k,e.businessCode,e.rateCardId,e.rateId,e)},data:e,product:"guide"})})))):y.a.createElement("div",{className:"modal-content pt-20 pb-20 flex flex-col"},y.a.createElement("section",{className:"top-header"},y.a.createElement("section",{className:"bold modal-content-title-info "},y.a.createElement("p",null,"No data available for the above city and date.")))))),y.a.createElement(re.a,{close:ne,product:k,edit:!1,visible:Y,key:e.guideRateId,setVisible:B}),T&&y.a.createElement(Ie,{showProductDetails:M,product:k,key:P,close:ne}))}));t.default=Re}}]);