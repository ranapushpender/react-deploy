(this["webpackJsonpatko-mvp-frontend"]=this["webpackJsonpatko-mvp-frontend"]||[]).push([[13],{3951:function(e,a,t){},3952:function(e,a,t){},3953:function(e,a,t){},3954:function(e,a,t){},3955:function(e,a,t){},3997:function(e,a,t){"use strict";t.r(a);t(38);var l=t(21),n=t.n(l),r=(t(204),t(52)),i=t.n(r),c=(t(118),t(54)),m=t.n(c),o=t(19),s=t(2),u=t(1),d=t.n(u),f=t(6),b=t(8),p=(t(149),t(69)),v=t.n(p),g=t(0),E=t.n(g),h=t(57),N=t(15),y=t.n(N),C=t(13),O=t(28),T=t(10),x=(t(3951),t(22)),j=t(11),P=(t(159),t(93)),S=t.n(P),w=(t(3952),t(25)),D=w.f().shape({salutation:w.g().nullable().required("Salutation is required"),firstName:w.g().nullable().required("First name is required").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field"),lastName:w.g().nullable().required("Last name is required").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),nationality:w.g().nullable().required("Nationality is required"),middleNameOne:w.g().matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),middleNameTwo:w.g().matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field ")}),A=v.a.Text,k=function(e){var a=e.setShowTravellerModal,t=e.onTravellerSave,l=e.getAllNationalitiesListData,r=function(e){l(1,e)},c=[{name:"King Bed",value:"king"},{name:"Twin Bed",value:"twin"}];function m(e){return e&&e>y()().endOf("day")}return E.a.createElement(S.a,{visible:!0,keyboard:!1,footer:null,width:"1000px",centered:!0,className:"add-new-traveller-modal",closeIcon:E.a.createElement("img",{onClick:function(){return a(!1)},alt:"close",src:"/img/black-cancel-circle.svg"})},E.a.createElement("div",{id:"new-traveller-modal"},E.a.createElement(C.e,{enableReinitialize:!0,initialValues:{salutation:"",firstName:"",middleNameOne:"",middleNameTwo:"",lastName:"",nationality:"",dateOfBirth:"",passportNumber:"",bedTypePreference:"",specialNeedPreference:[]},validationSchema:D,onSubmit:function(l,n){n.setSubmitting;var r=l.dateOfBirth?y()(l.dateOfBirth).format("YYYY-MM-DD"):"",i=l.specialNeedPreference.map((function(a){return{id:e.specialNeeds.find((function(e){return e.id===a})).id,name:e.specialNeeds.find((function(e){return e.id===a})).name}})),c=""!==l.bedTypePreference?l.bedTypePreference:null,m=Object(s.a)(Object(s.a)({},l),{},{dateOfBirth:r,specialNeedPreference:i,bedTypePreference:c});t(m),a(!1)}},(function(a){var t=a.setFieldValue,l=a.isSubmitting,o=a.values;return E.a.createElement(E.a.Fragment,null,E.a.createElement(C.d,null,E.a.createElement("div",{className:""},E.a.createElement(A,{className:"bold text-26"},"Add Traveller Details")),E.a.createElement("div",{className:"mt-20"},E.a.createElement("div",{className:"mb-10 flex justify-start"},E.a.createElement("label",null,E.a.createElement(C.b,{as:i.a,type:"radio",name:"salutation",value:"Mr."}),"Mr"),E.a.createElement("label",{className:"ml-40"},E.a.createElement(C.b,{as:i.a,type:"radio",name:"salutation",value:"Ms."}),"Ms"),E.a.createElement("label",{className:"ml-40"},E.a.createElement(C.b,{as:i.a,type:"radio",name:"salutation",value:"Dr."}),"Dr"),E.a.createElement("label",{className:"ml-40"},E.a.createElement(C.b,{as:i.a,type:"radio",name:"salutation",value:"Child"}),"Child")),E.a.createElement("div",{className:"mb-10"},E.a.createElement(C.a,{name:"salutation",render:function(e){return E.a.createElement(A,{type:"danger"},e)}}))),E.a.createElement("div",{className:"form-grid grid-4"},E.a.createElement(C.b,{component:x.b,label:"First Name *",value:o.firstName,name:"firstName",type:"firstName",autoComplete:"off"}),E.a.createElement(C.b,{component:x.b,label:"Middle Name 1",value:o.middleNameOne,name:"middleNameOne",type:"middleNameOne",autoComplete:"off"}),E.a.createElement(C.b,{component:x.b,label:"Middle Name 2",value:o.middleNameTwo,name:"middleNameTwo",type:"middleNameTwo",autoComplete:"off"}),E.a.createElement(C.b,{component:x.b,label:"Last Name *",value:o.lastName,name:"lastName",type:"lastName",autoComplete:"off"})),E.a.createElement("div",{className:"form-grid grid-3"},E.a.createElement(C.b,{component:x.d,label:"Nationality *",value:o.nationality,name:"nationality",getPopupContainer:function(){return document.getElementById("new-traveller-modal")},selectOptions:e.nationalities,showSearch:!0,filterOption:!1,onSearch:r,onChange:function(e){return function(e,a){a("nationality",e)}(e,t)}}),E.a.createElement(C.b,{component:x.a,label:"DOB",value:o.dateOfBirth?y()(o.dateOfBirth):"",format:"LL",disabledDate:m,name:"dateOfBirth"}),E.a.createElement(C.b,{component:x.b,label:"Passport Number",value:o.passportNumber,name:"passportNumber",type:"passportNumber",autoComplete:"off"})),E.a.createElement(A,{className:"bold text-14 mb-10"},"Stay Preferences"),E.a.createElement("div",{className:"form-grid grid-2 mt-10"},E.a.createElement(C.b,{component:x.d,label:"Bed Type",value:o.bedTypePreference,name:"bedTypePreference",getPopupContainer:function(){return document.getElementById("new-traveller-modal")},selectOptions:c}),E.a.createElement(C.b,{component:x.d,mode:"multiple",label:"Any Special Needs? ",value:o.specialNeedPreference,name:"specialNeedPreference",selectOptions:e.specialNeeds,optionFilterProp:"name",getPopupContainer:function(){return document.getElementById("new-traveller-modal")}})),E.a.createElement("div",{className:"mt-30 flex justify-flex-start"},E.a.createElement(n.a,{loading:l,type:"primary",htmlType:"submit"},l?"Saving...":"Save Details"))))}))))},B=t(212),F=(t(3953),w.f().shape({salutation:w.g().nullable().required("Salutation is required"),firstName:w.g().nullable().required("First name is required"),lastName:w.g().nullable().required("Last name is required"),nationality:w.g().nullable().required("Nationality is required")})),M=v.a.Text;function q(e){return e&&e>y()().endOf("day")}var R=function(e){var a=e.setShowEditModal,t=e.travellers,l=e.setTravellers,r=e.selectedTraveller,c=[{name:"King Bed",value:"king"},{name:"Twin Bed",value:"twin"}];return E.a.createElement(S.a,{visible:!0,keyboard:!1,footer:null,width:"1000px",centered:!0,className:"add-new-traveller-modal",closeIcon:E.a.createElement("img",{onClick:function(){return a(!1)},alt:"close",src:"/img/black-cancel-circle.svg"})},E.a.createElement("div",{id:"new-traveller-modal"},E.a.createElement(C.e,{enableReinitialize:!0,initialValues:r,validationSchema:F,onSubmit:function(n,i){i.setSubmitting;var c=n.dateOfBirth?y()(n.dateOfBirth).format("YYYY-MM-DD"):"",m=n.specialNeedPreference.map((function(a){return{id:e.specialNeeds.find((function(e){return e.id===a})).id,name:e.specialNeeds.find((function(e){return e.id===a})).name}})),o=Object(s.a)(Object(s.a)({},n),{},{dateOfBirth:c,specialNeedPreference:m}),u=t.findIndex((function(e){return e.firstName===r.firstName}));t[u]=o,l(t),a(!1)}},(function(a){a.setFieldValue;var t=a.isSubmitting,l=a.values;return E.a.createElement(E.a.Fragment,null,E.a.createElement(C.d,null,E.a.createElement("div",{className:""},E.a.createElement(M,{className:"bold text-26"},"Edit Traveller Details")),E.a.createElement("div",{className:"mt-20"},E.a.createElement("div",{className:"mb-10 flex justify-start"},E.a.createElement("label",null,E.a.createElement(C.b,{as:i.a,type:"radio",name:"salutation",value:"Mr."}),"Mr"),E.a.createElement("label",{className:"ml-40"},E.a.createElement(C.b,{as:i.a,type:"radio",name:"salutation",value:"Ms."}),"Ms"),E.a.createElement("label",{className:"ml-40"},E.a.createElement(C.b,{as:i.a,type:"radio",name:"salutation",value:"Dr."}),"Dr"),E.a.createElement("label",{className:"ml-40"},E.a.createElement(C.b,{as:i.a,type:"radio",name:"salutation",value:"Child"}),"Child")),E.a.createElement("div",{className:"mb-10"},E.a.createElement(C.a,{name:"salutation",render:function(e){return E.a.createElement(M,{type:"danger"},e)}}))),E.a.createElement("div",{className:"form-grid grid-4"},E.a.createElement(C.b,{component:x.b,label:"First Name *",value:l.firstName,name:"firstName",type:"firstName",autoComplete:"off"}),E.a.createElement(C.b,{component:x.b,label:"Middle Name 1",value:l.middleNameOne,name:"middleNameOne",type:"middleNameOne",autoComplete:"off"}),E.a.createElement(C.b,{component:x.b,label:"Middle Name 2",value:l.middleNameTwo,name:"middleNameTwo",type:"middleNameTwo",autoComplete:"off"}),E.a.createElement(C.b,{component:x.b,label:"Last Name *",value:l.lastName,name:"lastName",type:"lastName",autoComplete:"off"})),E.a.createElement("div",{className:"form-grid grid-3"},E.a.createElement(C.b,{component:x.d,label:"Nationality *",value:l.nationality,name:"nationality",getPopupContainer:function(){return document.getElementById("new-traveller-modal")},selectOptions:e.nationalities}),E.a.createElement(C.b,{component:x.a,label:"DOB",value:l.dateOfBirth,format:"LL",disabledDate:q,name:"dateOfBirth"}),E.a.createElement(C.b,{component:x.b,label:"Passport Number",value:l.passportNumber,name:"passportNumber",type:"passportNumber"})),E.a.createElement(M,{className:"bold text-14 mb-10"},"Stay Preferences"),E.a.createElement("div",{className:"form-grid grid-2 mt-10"},E.a.createElement(C.b,{component:x.d,label:"Bed Type",value:l.bedTypePreference,name:"bedTypePreference",getPopupContainer:function(){return document.getElementById("new-traveller-modal")},selectOptions:c}),E.a.createElement(C.b,{component:x.d,mode:"multiple",label:"Any Special Needs? ",value:l.specialNeedPreference,name:"specialNeedPreference",selectOptions:e.specialNeeds,optionFilterProp:"name",getPopupContainer:function(){return document.getElementById("new-traveller-modal")}})),E.a.createElement("div",{className:"mt-30 flex justify-flex-start"},E.a.createElement(n.a,{loading:t,type:"primary",htmlType:"submit"},t?"Saving...":"Save Details"))))}))))},I=[{name:"MAP",value:"map",disabled:!1},{name:"EP",value:"ep",disabled:!1},{name:"AP",value:"ap",disabled:!1},{name:"CP",value:"cp",disabled:!1},{name:"MJP",value:"mjp",disabled:!1},{name:"JP",value:"jp",disabled:!1},{name:"MDP",value:"mdp",disabled:!1},{name:"DP",value:"dp",disabled:!1},{name:"AI",value:"ai",disabled:!1}],L=Array.from(Array(4).keys()),z=[{label:"Single",type:"radio",value:"single"},{label:"Double",type:"radio",value:"double"},{label:"Triple",type:"radio",value:"triple"},{label:"Child w/o extra bed",type:"radio",value:"extra-bed"}],V=(t(141),t(77)),Y=t.n(V),G=(t(3954),v.a.Text),Q=function(e){var a=e.setShowRoomConfigModal,t=e.setRoomConfigurations,l=e.setTotalTravellers,r=Object(g.useState)([]),c=Object(b.a)(r,2),m=c[0],s=c[1],u=Object(g.useState)([]),p=Object(b.a)(u,2),v=p[0],h=p[1],N=Object(g.useState)(""),y=Object(b.a)(N,2);y[0],y[1];Object(g.useEffect)((function(){h(Object(o.a)(function(){var e=Array.from(Array(18).keys()),a=[];return e.map((function(e){a.push({name:e,value:e})})),a}()))}),[]);var O=function(e,a,t){var l=Object(o.a)(t.childAge);if(e<l.length){var n=Object(o.a)(l).slice(0,e);a("childAge",n),s(n)}else{for(;l.length<e;)l.push("");s(l),a("childAge",l)}},T=function(){var e=Object(f.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={roomType:n.roomType,adultCount:n.adultCount,childCount:n.childCount,childAges:n.childAge},e.next=3,t((function(e){return[].concat(Object(o.a)(e),[r])}));case 3:return e.next=5,l((function(e){return{adult:e.adult+n.adultCount,child:e.child+n.childAge.length}}));case 5:a(!1);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return E.a.createElement(S.a,{visible:!0,keyboard:!1,footer:null,width:"660px",centered:!0,className:"add-new-room-config-modal",id:"add-new-room-config-modal",onCancel:function(){return a(!1)}},E.a.createElement(C.e,{enableReinitialize:!0,initialValues:{roomType:"double",adultCount:"",childCount:"",childAge:[]},onSubmit:function(e){return T(e)}},(function(e){var a=e.setFieldValue,t=e.isSubmitting,l=e.values;return E.a.createElement(E.a.Fragment,null,E.a.createElement(C.d,null,E.a.createElement("div",{className:""},E.a.createElement(G,{className:"bold mt-10 text-18"},"Add Room")),E.a.createElement("div",{className:"mb-20 mt-30",id:"room-configs"},E.a.createElement("div",null,E.a.createElement(G,{className:"text-14 bold mb-15"},"Room Type")),E.a.createElement("div",{className:"flex justify-start mt-20"},z.map((function(e){return E.a.createElement(E.a.Fragment,null,E.a.createElement("label",null,E.a.createElement(C.b,{as:i.a,type:e.type,name:"roomType",value:e.value,validate:function(e){if(!e)return"Room type is required"}},e.label)))}))),E.a.createElement(C.a,{name:"roomType",render:function(e){return E.a.createElement(G,{className:"text-11",type:"danger"},e)}}),E.a.createElement("div",{className:"flex mt-20 travellers-wrapper"},E.a.createElement("div",{className:"flex flex-col mr-10 mt-10"},E.a.createElement(G,{className:"bold text-14 mb-10"},"Adults"),E.a.createElement(C.b,{component:x.c,type:"number",value:l.adultCount,name:"adultCount",maxLength:1,parser:function(e){return e.substring(0,1)},validate:function(e){if(Math.abs(e),!e)return"Number of adults is required";if(e)switch(l.roomType){case"double":if(e+l.childCount>2)return"Total Passengers should be less than 2";break;case"single":if(e+l.childCount>1)return"Total Passengers should be less than 1";break;case"triple":case"extra-bed":if(e+l.childCount>3)return"Total Passengers should be less than 3"}},onChange:function(e){e>0&&e<10&&a("adultCount",e)}})),E.a.createElement("div",{className:"flex flex-col mt-10"},E.a.createElement(G,{className:"bold text-14 mb-10"},"Children"),"single"===l.roomType?E.a.createElement(Y.a,{title:"Children cannot be added for single rooms",placement:"right"},E.a.createElement(C.b,{component:x.c,disabled:"single"===l.roomType,value:l.childCount,min:1,max:9,type:"number",name:"childCount",onChange:function(e){a("childCount",e),e>0?O(e,a,l):a("childAge",[])}})):E.a.createElement(C.b,{component:x.c,value:l.childCount,type:"number",name:"childCount",parser:function(e){return e.substring(0,1)},validate:function(e){if(0===e)return"Number of children is required";if(0!==e)switch(l.roomType){case"double":if(l.adultCount+e>2)return"Total Passengers should be less than 2";break;case"single":if(l.adultCount+e>1)return"Total Passengers should be less than 1";break;case"triple":case"extra-bed":if(l.adultCount+e>3)return"Total Passengers should be less than 3"}},onChange:function(e){a("childCount",e),e>0?O(e,a,l):a("childAge",[])}}))),0!==(null===l||void 0===l?void 0:l.childCount)&&(null===l||void 0===l?void 0:l.childCount)>0&&E.a.createElement("div",{className:"form-grid"},E.a.createElement(G,{className:"bold text-14"},"Child Ages"),E.a.createElement("div",{className:"form-grid grid-3 child-age mt-10"},m.map((function(e,a){return E.a.createElement("div",{className:"form-grid grid-1"},E.a.createElement(C.b,{key:"child-".concat(a),component:x.d,label:"Child ".concat(a+1," Age *"),value:l.childAge[a],name:"childAge[".concat(a,"]"),validate:function(e){var t="";return e||(t="Child ".concat(a+1,"'s age is required")),t},getPopupContainer:function(){return document.getElementById("room-configs")},selectOptions:v}),E.a.createElement(C.a,{name:"childAge[".concat(a,"]"),render:function(e){return E.a.createElement(G,{className:"text-11",type:"danger"},e)}}))}))))),E.a.createElement("div",{className:"mt-10 flex justify-end confirm-traveller-details"},E.a.createElement(n.a,{loading:t,type:"primary",htmlType:"submit"},t?"Confirming...":"Confirm"))))})))},J=(t(3955),v.a.Text),Z=function(e){var a=e.cardData,t=e.deleteRoomConfig;return E.a.createElement("div",{className:"flex items-center justify-between room-card p-10 mr-10 mb-10"},E.a.createElement("div",{className:"flex flex-col"},E.a.createElement(J,{className:"bold text-14 capitalize"},a.roomType),E.a.createElement(J,{className:"text-12 weight-500 opacity-5"},a.adultCount," Adult,"," ",a.childCount?a.childCount:0," Child")),E.a.createElement("span",{onClick:function(){return t(a)},className:"cursor-pointer bold text-14 delete-room-config"},"\u2715"))},$=v.a.Text;var K=Object(O.b)((function(e){return{queryId:e.QueryDetails.queryId,travellerDetails:e.QueryDetails.travellerDetails,nationalities:e.QueryDetails.nationalities,specialNeeds:e.QueryDetails.specialNeeds}}),(function(e){return{getAllQueryDetailsData:Object(T.b)(B.h,e),getTravellerDetailsData:Object(T.b)(B.s,e),getAllNationalitiesListData:Object(T.b)(B.f,e),getAllSpecialNeedsListData:Object(T.b)(B.j,e),setTravellerDetailsData:Object(T.b)(B.A,e)}}))((function(e){var a=Object(h.g)(),t=Object(j.q)().get("id"),l=Object(g.useState)({isFamilyTour:"",isShoppingTour:"",mealPlan:"cp",guideCount:1,vehicleCount:1,custom:{guideCount:"",vehicleCount:""}}),r=Object(b.a)(l,2),c=r[0],u=r[1],p=Object(g.useState)(!1),v=Object(b.a)(p,2),N=v[0],O=v[1],T=Object(g.useState)(!1),P=Object(b.a)(T,2),S=P[0],w=P[1],D=Object(g.useState)(!1),A=Object(b.a)(D,2),B=A[0],F=A[1],M=Object(g.useState)([]),q=Object(b.a)(M,2),z=q[0],V=q[1],Y=Object(g.useState)({}),G=Object(b.a)(Y,2),J=G[0],K=G[1],U=Object(g.useState)({adult:0,child:0}),H=Object(b.a)(U,2),W=H[0],X=H[1],_=Object(g.useState)([]),ee=Object(b.a)(_,2),ae=ee[0],te=ee[1];Object(g.useEffect)((function(){var a,l;e.getTravellerDetailsData(t),0===(null===(a=e.nationalities)||void 0===a?void 0:a.length)&&e.getAllNationalitiesListData(),0===(null===(l=e.specialNeeds)||void 0===l?void 0:l.length)&&e.getAllSpecialNeedsListData(),e.setVisitedForms((function(e){return e.concat("traveller-details")}))}),[]),Object(g.useEffect)((function(){if(null!==e.travellerDetails){var a=e.travellerDetails;a.vehicleCount>3?(a.custom.vehicleCount=a.vehicleCount,a.vehicleCount=null):a.custom.vehicleCount=null,a.guideCount>3?(a.custom.guideCount=a.guideCount,a.guideCount=null):a.custom.guideCount=null,V(a.travellers),te(a.roomConfigurations);var t=a.roomConfigurations.reduce((function(e,a){return e+a.adultCount}),0),l=a.roomConfigurations.reduce((function(e,a){return e+a.childCount}),0);X({adult:t,child:l}),u(a)}}),[e.travellerDetails]);var le=function(){var l=Object(f.a)(d.a.mark((function l(n){var r;return d.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return z.map((function(a){var t=a.specialNeedPreference.map((function(a){return e.specialNeeds.find((function(e){return e.id===a.id})).id}));return a.specialNeedPreference=t,a})),r={isFamilyTour:n.isFamilyTour,isShoppingTour:n.isShoppingTour,roomConfigurations:ae,travellers:z,vehicleCount:n.vehicleCount||n.custom.vehicleCount,guideCount:n.guideCount||n.custom.guideCount,mealPlan:n.mealPlan},l.next=4,e.setTravellerDetailsData(t,r);case 4:l.sent&&(a.push({search:"?id=".concat(t,"&tab=stay-details")}),e.setCompletedForms((function(e){return e.concat("traveller-details")})),e.setActiveTab("stay-details"));case 6:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}(),ne=function(e){V([].concat(Object(o.a)(z),[e]))},re=function(e){var a=Object(o.a)(ae);a.splice(a.findIndex((function(a){return a===e})),1),te(a),X((function(a){return{adult:a.adult-e.adultCount,child:e.childCount>0?a.child-e.childCount:a.child}}))};return E.a.createElement("div",{"data-test":"traveller-details",className:"traveller-details",id:"traveller-details"},E.a.createElement("div",null,E.a.createElement("div",null,E.a.createElement("div",null,E.a.createElement(C.e,{enableReinitialize:!0,initialValues:c,onSubmit:function(e){return le(e)}},(function(a){var t,l,r=a.setFieldValue,c=a.isSubmitting,u=a.values;a.setFieldTouched;return E.a.createElement(E.a.Fragment,null,E.a.createElement(C.d,null,E.a.createElement("div",{className:"flex justify-between items-center"},E.a.createElement($,{className:"bold text-14"},"Room Configuration"," ",ae.length?"(".concat(W.adult," adults, ").concat(W.child," ").concat(W.child>1?"children":"child",")"):null),E.a.createElement("div",null,E.a.createElement("label",{className:"mr-12"},E.a.createElement(C.b,{name:"isFamilyTour",as:m.a,type:"checkbox",checked:u.isFamilyTour}),E.a.createElement("span",{className:"capitalize ml-10"},"FAM Tour")),E.a.createElement("label",{className:"mr-12"},E.a.createElement(C.b,{name:"isShoppingTour",as:m.a,type:"checkbox",checked:u.isShoppingTour}),E.a.createElement("span",{className:"capitalize ml-10"},"No Shopping Tour")))),E.a.createElement("div",{className:"w-full mt-10 ".concat(ae.length?"flex flex-wrap justify-even items-start":null)},ae.map((function(e,a){return E.a.createElement(Z,{cardData:e,deleteRoomConfig:re,key:"room-config ".concat(e," ").concat(a)})})),E.a.createElement("div",{className:"button-dashed-blue ".concat(ae.length?"p-30 w-20":null),onClick:function(){return w(!0)}},E.a.createElement("img",{className:"mr-10",src:"/img/add-blue.svg"}),E.a.createElement("p",null,"Add Room"))),E.a.createElement("div",{className:"form-grid mt-30 mb-20"},E.a.createElement($,{className:"bold text-14"},"Traveller Details (",null===z||void 0===z?void 0:z.length,"/",W.adult+W.child,")"),E.a.createElement($,null,"If these details are not known right, you can"," ",E.a.createElement(C.b,null,(function(){return E.a.createElement("span",{onClick:function(){return V([]),le(u)},className:"cursor-pointer color-blue"},"skip")}))),z.length?E.a.createElement("div",{className:"form-grid mt-30 mb-20 traveller-list"},E.a.createElement("section",{className:"traveller-list-header"},E.a.createElement("span",null,"Traveller Name (AGE)"),E.a.createElement("span",null,"Nationality"),E.a.createElement("span",null,"PASSPORT NUMBER"),E.a.createElement("span",null,"Room Type"),E.a.createElement("span",null,"Special NEEDS")),E.a.createElement("section",{className:"traveller-list-item mt-20"},z.map((function(a,t){return E.a.createElement(E.a.Fragment,null,E.a.createElement("span",{className:"text-14"},"Child"!==a.salutation?a.salutation:null," ","".concat(a.firstName," ").concat(a.lastName)," ",E.a.createElement("p",{className:"block"},a.dateOfBirth?"(".concat(y()().diff(y()(a.dateOfBirth),"years"),")"):"-")),E.a.createElement("span",{className:"text-12"},a.nationality),E.a.createElement("span",{className:"uppercase text-12"},a.passportNumber||E.a.createElement("span",{className:"text-center"},"-")),E.a.createElement("span",{className:"capitalize text-12"},a.bedTypePreference||"-"),E.a.createElement("ul",{className:"text-12"},a.specialNeedPreference.length?a.specialNeedPreference.map((function(e){return E.a.createElement("li",null,e.name)})):"-"),E.a.createElement("div",null,E.a.createElement("img",{src:"/img/edit-blue.svg",onClick:function(){return function(e,a){var t=e.specialNeedPreference.map((function(e){return a.find((function(a){return a.id===e.id})).id})),l=Object(s.a)(Object(s.a)({},e),{},{dateOfBirth:e.dateOfBirth?y()(e.dateOfBirth):"",specialNeedPreference:t});F(!0),K(l)}(a,e.specialNeeds)},className:"cursor-pointer"}),E.a.createElement("img",{src:"/img/trash-blue.svg",onClick:function(){!function(e){var a=Object(o.a)(z);a.splice(e,1),V(a)}(t)},className:"cursor-pointer ml-10"})))})))):null,E.a.createElement("div",{className:"w-full mt-10"},0!==(null===z||void 0===z?void 0:z.length)&&(null===z||void 0===z?void 0:z.length)==W.adult+W.child?null:E.a.createElement("div",{className:"button-dashed-blue",onClick:function(){return O(!0)}},E.a.createElement("img",{className:"mr-10",src:"/img/add-blue.svg"}),E.a.createElement("p",null,"Add Traveller Details")))),E.a.createElement("div",{className:"mt-30 mb-30"},E.a.createElement("div",null,E.a.createElement($,{className:"bold mt-10"},"Vehicles & Guides")),E.a.createElement("div",{className:"mt-10 mb-20 form-grid grid-2"},E.a.createElement("div",{className:"form-grid"},E.a.createElement($,null,"Vehicles"),E.a.createElement("div",{className:"flex items-center justify-start room-types"},E.a.createElement("div",{className:"mr-10 border-right"},E.a.createElement(C.b,{name:"vehicleCount"},(function(){return E.a.createElement(E.a.Fragment,null,E.a.createElement(i.a.Group,{value:u.vehicleCount,buttonStyle:"solid",onChange:function(e){r("vehicleCount",e.target.value),r("custom.vehicleCount",null)}},L.map((function(e){return E.a.createElement(i.a.Button,{value:e},e)}))))}))),E.a.createElement(C.b,{component:x.b,label:"Custom",value:u.custom.vehicleCount,name:"custom.vehicleCount",type:"number",parser:function(e){return e.substring(0,2)},validate:function(e){var a="";return e<0&&(a="Invalid number"),e>99&&(a="Number should be 2 digits"),a},onChange:function(e){r("custom.vehicleCount",e.target.value),r("vehicleCount",null)}})),E.a.createElement(C.a,{name:"vehicleCount",render:function(e){return E.a.createElement($,{className:"text-11",type:"danger"},e)}})),E.a.createElement("div",{className:"form-grid"},E.a.createElement($,null,"Guides"),E.a.createElement("div",{className:"flex items-center justify-start room-types"},E.a.createElement("div",{className:"mr-10 border-right"},E.a.createElement(C.b,{name:"guideCount"},(function(){return E.a.createElement(E.a.Fragment,null,E.a.createElement(i.a.Group,{value:u.guideCount,buttonStyle:"solid",onChange:function(e){r("guideCount",e.target.value),r("custom.guideCount",null)}},L.map((function(e){return E.a.createElement(i.a.Button,{value:e},e)}))))}))),E.a.createElement(C.b,{component:x.b,label:"Custom",value:u.custom.guideCount,name:"custom.guideCount",type:"number",validate:function(e){var a="";return e<0&&(a="Invalid number"),e>99&&(a="Number should be 2 digits"),a},onChange:function(e){r("custom.guideCount",e.target.value),r("guideCount",null)}})),E.a.createElement(C.a,{name:"guideCount",render:function(e){return E.a.createElement($,{className:"text-11",type:"danger"},e)}}))),E.a.createElement("div",{className:"mt-10 mb-20 form-grid grid-1"},E.a.createElement($,{className:"bold",strong:!0},"Meal Plans"),E.a.createElement("div",{className:"mt-10 flex"},E.a.createElement(C.b,{name:"mealPlan"},(function(){return E.a.createElement(E.a.Fragment,null,E.a.createElement(i.a.Group,{value:u.mealPlan,onChange:function(e){r("mealPlan",e.target.value)}},I.map((function(e){return E.a.createElement(i.a,{value:e.value},e.name)}))))}))),E.a.createElement(C.a,{name:"mealPlan",render:function(e){return E.a.createElement($,{className:"text-11",type:"danger"},e)}}))),N&&E.a.createElement(k,{setShowTravellerModal:O,getAllNationalitiesListData:e.getAllNationalitiesListData,onTravellerSave:ne,nationalities:e.nationalities,specialNeeds:e.specialNeeds,travellers:z}),S&&E.a.createElement(Q,{setShowRoomConfigModal:w,setRoomConfigurations:te,setTotalTravellers:X}),B&&E.a.createElement(R,{setShowEditModal:F,setTravellers:V,nationalities:e.nationalities,specialNeeds:e.specialNeeds,selectedTraveller:J,travellers:z,totalAdultTravellers:W.adult,totalTravellers:null===z||void 0===z?void 0:z.length}),Object(j.m)(null===e||void 0===e||null===(t=e.basic)||void 0===t||null===(l=t.info)||void 0===l?void 0:l.status)?E.a.createElement(E.a.Fragment,null):E.a.createElement("div",{className:"flex flex-start mb-20"},E.a.createElement(n.a,{loading:c,type:"primary",htmlType:"submit"},c?"Saving...":"Save & continue"))))}))))))}));a.default=K}}]);