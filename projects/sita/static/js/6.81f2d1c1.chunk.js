(this["webpackJsonpatko-mvp-frontend"]=this["webpackJsonpatko-mvp-frontend"]||[]).push([[6],{3874:function(e,t,a){},3875:function(e,t,a){"use strict";a(0),a(3874)},3880:function(e,t,a){},3881:function(e,t,a){},3882:function(e,t,a){"use strict";a(159);var n=a(93),r=a.n(n),i=(a(38),a(21)),l=a.n(i),c=(a(118),a(54)),o=a.n(c),s=(a(180),a(104)),u=a.n(s),d=a(19),m=a(2),v=a(1),p=a.n(v),b=a(6),f=a(8),g=(a(149),a(69)),h=a.n(g),E=a(13),O=a(0),y=a.n(O),j=a(28),S=a(57),x=a(10),k=a(142),N=a(677),T=a(11),w=a(22),C=a(323),A=(a(3881),a(25)),D=A.f().shape({servingCity:A.g().required("Serving City is required"),headOffice:A.f().shape({addressLine1:A.g().min(2,"Too Short!").max(1e3,"Address should be less than 1000 characters").required("Address is required"),country:A.g().required("Country is required"),state:A.g().required("State is required"),city:A.g().required("City is required"),pinCode:A.g().matches(/^[0-9]{6}$/,"Invalid Pincode").required("Pincode is required")})}),L=h.a.Text;h.a.Link,h.a.Title;var P=Object(j.b)((function(e){return{}}),(function(e){return{createServingLocation:Object(x.b)(N.c,e),getCityListNoParams:Object(x.b)(k.b,e)}}))((function(e){var t,a=e.setShowModal,n=e.onSubmit,i=e.currentContactInEdit,c=e.editLocationOptions,s=Object(S.i)(),v=(s.id,s.productType,Object(O.useState)({})),g=Object(f.a)(v,2),h=g[0],j=g[1],x=!!(null===i||void 0===i||null===(t=i.servingCity)||void 0===t?void 0:t.code),k=Object(O.useState)([]),N=Object(f.a)(k,2),A=N[0],P=N[1],I=Object(O.useState)({countryList:[],stateList:[],cityList:[]}),M=Object(f.a)(I,2),q=M[0],V=M[1],z=Object(T.d)(Object(b.a)(p.a.mark((function t(){var a,n,r=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:"",t.next=3,e.getCityListNoParams(a);case 3:n=t.sent,P(null===n||void 0===n?void 0:n.content);case 5:case"end":return t.stop()}}),t)}))),300);Object(O.useEffect)((function(){var e,t,a,n;x?(j(Object(m.a)(Object(m.a)({},i),{},{servingCity:null===(e=i.servingCity)||void 0===e?void 0:e.code,headOffice:Object(m.a)(Object(m.a)({},i.headOffice),{},{country:null===(t=i.headOffice.country)||void 0===t?void 0:t.code,state:null===(a=i.headOffice.state)||void 0===a?void 0:a.code,city:null===(n=i.headOffice.city)||void 0===n?void 0:n.code})})),P(Object(d.a)(c.servingLocationOptions)),V(Object(m.a)(Object(m.a)({},q),{},{countryList:Object(d.a)(c.address.countryList),stateList:Object(d.a)(c.address.stateList),cityList:Object(d.a)(c.address.cityList)}))):(j(Object(m.a)({},i)),z());z()}),[]);return y.a.createElement(r.a,{visible:!0,keyboard:!1,footer:null,width:"926px",className:"add-new-serving-location-modal",closeIcon:y.a.createElement("img",{onClick:function(){return a(!1)},alt:"close",src:"/img/black-cancel-circle.svg"})},y.a.createElement("div",{id:"new-serving-location-modal"},y.a.createElement(E.e,{enableReinitialize:!0,validationSchema:D,initialValues:h,onSubmit:function(e,t){var a=t.setSubmitting;return n(e,a)}},(function(t){var a=t.setFieldValue,n=t.isSubmitting,r=t.values;t.errors;return y.a.createElement(y.a.Fragment,null,y.a.createElement(E.d,null,x?y.a.createElement("p",{className:"capitalize bold text-26"},"Edit city details"):y.a.createElement("p",{className:"capitalize bold text-26"},"Add city details"),y.a.createElement(u.a,null),y.a.createElement("div",{className:"mt-20 mb-30"},y.a.createElement("div",{className:"form-grid grid-2"},y.a.createElement(E.b,{component:w.d,name:"servingCity",allowClear:!0,onClear:function(){z()},label:"Select Serving City *",value:Object(T.g)(r,"servingCity"),getPopupContainer:function(){return document.getElementById("new-serving-location-modal")},optionValueKey:"code",showSearch:!0,selectOptions:A,filterOption:!1,onSearch:function(e){z(e)}}))),y.a.createElement(L,{className:"black-bold bold",strong:!0},"Office Address"),y.a.createElement("div",{className:"mt-10 mb-40"},y.a.createElement(C.a,{values:r,parentKey:"headOffice",popupContainerId:"new-serving-location-modal",setFieldValue:a,addressOptions:q,setAddressOptions:V})),y.a.createElement("div",null,(null===h||void 0===h?void 0:h.isPrimary)&&y.a.createElement("div",null,y.a.createElement("label",null,y.a.createElement(E.b,{name:"isPrimary",valuePropName:"checked",as:o.a}),y.a.createElement("span",{className:"capitalize ml-10"},"is Primary?")))),"transport"!==e.source?y.a.createElement(y.a.Fragment,null,y.a.createElement(L,{className:"black-bold bold mb-10",strong:!0},"Other Details"),y.a.createElement("div",{className:"mt-10 mb-40"},y.a.createElement("div",{className:"form-grid grid-2"},y.a.createElement(E.b,{label:"Team Size *",type:"text",component:w.b,name:"teamSize",value:Object(T.g)(r,"teamSize"),validate:function(e){return function(e){var t;return e>250?t="Team size cannot exceed more than 250":e<1?t="Team size cannot be less than 1":/^[0-9]*$/.test(e)||(t="Invalid number"),t}(e)}}),"activity"!=e.type&&y.a.createElement(E.b,{label:"No. of Airport passes *",type:"text",component:w.b,name:"noOfAirportPasses",value:Object(T.g)(r,"noOfAirportPasses"),validate:function(e){return function(e){var t;return e>250?t="Number of airport passes cannot exceed more than 250":e<1?t="Number of airport passes cannot be less than 1":/^[0-9]*$/.test(e)||(t="Invalid number"),t}(e)}})))):y.a.createElement(y.a.Fragment,null),y.a.createElement("div",{className:"flex mb-20"},y.a.createElement(l.a,{block:!0,type:"primary",loading:n,htmlType:"submit",className:"btn-save-primary"},n?"Saving...":"Save city"))))}))))}));t.a=P},3883:function(e,t,a){"use strict";a(159);var n=a(93),r=a.n(n),i=(a(38),a(21)),l=a.n(i),c=(a(118),a(54)),o=a.n(c),s=(a(204),a(52)),u=a.n(s),d=(a(180),a(104)),m=a.n(d),v=a(1),p=a.n(v),b=a(6),f=a(8),g=(a(149),a(69)),h=a.n(g),E=a(13),O=a(0),y=a.n(O),j=a(28),S=a(57),x=a(11),k=a(25),N=a(22),T=(a(3880),h.a.Text);h.a.Link,h.a.Title;var w=Object(j.b)((function(e){return{}}),(function(e){return{}}))((function(e){var t=Object(S.i)(),a=(t.id,t.productType,Object(O.useState)(!1)),n=Object(f.a)(a,2),i=(n[0],n[1],k.f().shape({firstName:k.g().min(2,"Too Short!").max(250,"Too Long!").required("First name is required"),lastName:k.g().min(2,"Too Short!").max(250,"Too Long!").required("Last name is required"),telephone:k.g().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid").required("Phone number required"),email:k.g().email().required("Email is required"),department:k.g().required("Department is required"),gender:k.g().required("Gender is required"),title:k.g().required("Title is required")})),c=(e.activePoc,e.setShowModal),s=(e.designation,e.onSubmit),d=e.initialValues,v=e.inEditMode;return y.a.createElement(r.a,{visible:!0,keyboard:!1,footer:null,width:"926px",className:"add-new-serving-location-modal",closeIcon:y.a.createElement("img",{onClick:function(){return c(!1)},alt:"close",src:"/img/black-cancel-circle.svg"})},y.a.createElement("div",{className:"modal-poc",id:"new-serving-location-modal"},y.a.createElement(E.e,{validateOnChange:!0,enableReinitialize:!0,validationSchema:i,initialValues:d,onSubmit:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,e.next=3,s(t);case 3:n(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){e.setFieldValue;var t=e.isSubmitting,a=e.values;return y.a.createElement(y.a.Fragment,null,y.a.createElement(E.d,null,Object(x.e)(a),y.a.createElement("p",{className:"capitalize bold text-26"},"Add POC"),y.a.createElement(m.a,null),y.a.createElement("div",{className:"mt-0 mb-10"},y.a.createElement("div",{className:"form-grid grid-2"},y.a.createElement(E.b,{component:N.d,name:"department",label:"Select Department *",value:a.department,getPopupContainer:function(){return document.getElementById("new-serving-location-modal")},selectOptions:[{name:"Finance",value:"finance"},{name:"Reservation",value:"reservation"},{name:"Sales",value:"sales"},{name:"Management",value:"management"}]}),y.a.createElement(E.b,{type:"text",component:N.b,validate:function(e){if(!e)return"Enter Designation"},name:"designation",value:a.designation,label:"Designation *"}))),y.a.createElement("p",{className:"bold mt-18 mb-6"},"Salutation"),y.a.createElement("div",{className:"mt-10 mb-20"},y.a.createElement("div",{className:"form-grid grid-2"},y.a.createElement("div",null,y.a.createElement("label",{style:{color:"#0d1319"}},y.a.createElement(E.b,{className:"black-bold",as:u.a,type:"radio",name:"title",value:"mr"}),"Mr"),y.a.createElement("label",{style:{color:"#0d1319"},className:"ml-20"},y.a.createElement(E.b,{className:"black",as:u.a,type:"radio",name:"title",value:"mrs"}),"Mrs"),y.a.createElement("label",{className:"ml-40"},y.a.createElement(E.b,{as:u.a,type:"radio",name:"title",value:"ms"}),"Ms"),y.a.createElement("label",{className:"ml-40"},y.a.createElement(E.b,{as:u.a,type:"radio",name:"title",value:"dr"}),"Dr"))),y.a.createElement(E.a,{name:"title",render:function(e){return y.a.createElement(T,{type:"danger"},e)}})),y.a.createElement("p",{className:"bold mt-18 mb-6"},"Gender"),y.a.createElement("div",{className:"mb-6 form-grid grid-2"},y.a.createElement("div",null,y.a.createElement("label",null,y.a.createElement(E.b,{as:u.a,type:"radio",name:"gender",value:"male"}),"Male"),y.a.createElement("label",{className:"ml-40"},y.a.createElement(E.b,{as:u.a,type:"radio",name:"gender",value:"female"}),"Female"),y.a.createElement("label",{className:"ml-40"},y.a.createElement(E.b,{as:u.a,type:"radio",name:"gender",value:"other"}),"Other"))),y.a.createElement("div",{className:"mb-18"},y.a.createElement(E.a,{name:"gender",render:function(e){return y.a.createElement(T,{type:"danger"},e)}})),y.a.createElement("div",{className:"mt-10 mb-20"},y.a.createElement("div",{className:"form-grid grid-3"},y.a.createElement(E.b,{component:N.b,label:"First Name *",value:a.firstName,name:"firstName",type:"text"}),y.a.createElement(E.b,{component:N.b,label:"Middle Name",value:a.middleName,name:"middleName",type:"text"}),y.a.createElement(E.b,{component:N.b,label:"Last Name *",value:a.lastName,name:"lastName",type:"text"})),y.a.createElement("div",{className:"form-grid grid-2"},y.a.createElement(E.b,{component:N.b,label:"Contact Number *",value:a.telephone,name:"telephone",type:"text"}),y.a.createElement(E.b,{component:N.b,label:"Email *",value:a.email,name:"email",type:"email"}))),y.a.createElement(E.b,{className:"black",name:"isPrimary",valuePropName:"checked",as:o.a,type:"checkbox",checked:a.isPrimary}),y.a.createElement(T,{style:{marginLeft:"10px",color:"#0d1319"},strong:!0},"Primary Contact"),y.a.createElement("div",{className:"flex mt-30 mb-20"},y.a.createElement(l.a,{className:"btn-save-primary",block:!0,loading:t,type:"primary",htmlType:"submit"},v?t?"Updating...":"Update Contact":t?"Saving...":"Save Contact"))))}))))}));t.a=w},3884:function(e,t,a){},3934:function(e,t,a){},3935:function(e,t,a){},3936:function(e,t,a){},3937:function(e,t,a){},3938:function(e,t,a){},3939:function(e,t,a){},3940:function(e,t,a){},3941:function(e,t,a){},3942:function(e,t){e.exports="data:image/png;base64,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"},3943:function(e,t,a){},3944:function(e,t,a){},3945:function(e,t,a){},3946:function(e,t,a){},3947:function(e,t,a){},3948:function(e,t,a){},3991:function(e,t,a){"use strict";a.r(t);var n=a(8),r=(a(140),a(63)),i=a.n(r),l=a(0),c=a.n(l),o=a(10),s=a(57),u=a(28),d=a(1),m=a.n(d),v=a(6),p=(a(3884),a(19)),b=(a(38),a(21)),f=a.n(b),g=a(2),h=(a(151),a(66)),E=a.n(h),O=(a(3934),a(141),a(77)),y=a.n(O),j=(a(3935),function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"14",viewBox:"0 0 15 14"},c.a.createElement("g",{fill:"none","fill-rule":"evenodd"},c.a.createElement("g",{fill:"#3362FA"},c.a.createElement("g",null,c.a.createElement("path",{d:"M7.13 3c.326 0 .508.046.67.134.164.087.292.215.379.378.087.163.133.344.133.67v4.505h4.506c.326 0 .507.047.67.134.163.087.291.215.378.378.088.163.134.345.134.67v.261c0 .326-.046.508-.134.67-.087.164-.215.292-.378.379-.163.087-.344.133-.67.133H8.312v4.506c0 .326-.046.507-.133.67-.087.163-.215.291-.378.378-.163.088-.345.134-.67.134H6.87c-.326 0-.508-.046-.67-.134-.164-.087-.292-.215-.379-.378-.087-.163-.133-.344-.133-.67l-.001-4.506H1.182c-.326 0-.507-.046-.67-.133-.163-.087-.291-.215-.378-.378-.088-.163-.134-.345-.134-.67V9.87c0-.326.046-.508.134-.67.087-.164.215-.292.378-.379.163-.087.344-.133.67-.133l4.505-.001V4.182c0-.326.047-.507.134-.67.087-.163.215-.291.378-.378.163-.088.345-.134.67-.134h.261z",transform:"translate(-571 -396) translate(571.5 393)"})))))}),S=function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"11",viewBox:"0 0 13 11"},c.a.createElement("g",{fill:"none","fill-rule":"evenodd"},c.a.createElement("g",{fill:"#3EB040","fill-rule":"nonzero"},c.a.createElement("path",{d:"M1235.544 602.301c-.552-.46-1.372-.385-1.832.167l-5.754 6.905-2.929-1.953c-.386-.261-.883-.296-1.302-.09-.42.206-.696.62-.724 1.086-.03.466.193.912.584 1.168l4.873 3.25 7.25-8.701c.46-.552.385-1.372-.166-1.832z",transform:"translate(-1223 -602)"}))))},x=function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10"},c.a.createElement("g",{fill:"none","fill-rule":"evenodd"},c.a.createElement("g",{fill:"#D74F4F","fill-rule":"nonzero"},c.a.createElement("path",{d:"M1256.767 607l2.867-2.866c.488-.488.488-1.28 0-1.768-.489-.488-1.28-.488-1.768 0l-2.866 2.866-2.866-2.866c-.488-.488-1.28-.488-1.768 0s-.488 1.28 0 1.768l2.866 2.866-2.866 2.866c-.316.316-.439.776-.323 1.207.115.432.452.768.883.884.432.116.892-.008 1.208-.323l2.866-2.867 2.866 2.867c.488.488 1.28.488 1.768 0 .488-.489.488-1.28 0-1.768l-2.867-2.866z",transform:"translate(-1250 -602)"}))))},k=function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},c.a.createElement("g",{fill:"none","fill-rule":"evenodd"},c.a.createElement("g",{fill:"#0D1319","fill-rule":"nonzero"},c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M12.303 0H1.23C.55 0 0 .576 0 1.286v12.865c0 .71.55 1.286 1.23 1.286h11.073c.679 0 1.23-.576 1.23-1.286V1.286c0-.71-.551-1.286-1.23-1.286zM6.15 12.221H3.076c-.34 0-.615-.288-.615-.643 0-.355.275-.643.615-.643H6.15c.34 0 .615.288.615.643 0 .355-.275.643-.615.643zm4.306-3.86H3.076c-.34 0-.615-.287-.615-.642 0-.356.275-.644.615-.644h7.381c.34 0 .615.288.615.644 0 .355-.275.643-.615.643zm0-3.859H3.076c-.34 0-.615-.287-.615-.643 0-.355.275-.643.615-.643h7.381c.34 0 .615.288.615.643 0 .356-.275.643-.615.643z",transform:"translate(-559 -345) translate(30 276) translate(383.5) translate(145.5 69)"})))))))},N=function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"15",viewBox:"0 0 12 15"},c.a.createElement("g",{fill:"none","fill-rule":"evenodd"},c.a.createElement("g",{fill:"#3362FA","fill-rule":"nonzero"},c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M1.105 13.595c.037.65.553 1.157 1.176 1.156h7.194c.623 0 1.138-.506 1.175-1.156l.518-8.678H.588l.517 8.678zM11.168 2.458H9.404v-.614C9.404.826 8.614 0 7.641 0H4.114c-.973 0-1.763.826-1.763 1.844v.614H.588c-.325 0-.588.276-.588.615 0 .34.263.615.588.615h10.58c.324 0 .587-.275.587-.615 0-.34-.263-.615-.587-.615zm-2.94 0H3.528v-.614c0-.34.263-.615.587-.615h3.527c.325 0 .588.275.588.615v.614z",transform:"translate(-817 -442) translate(396 131) translate(35 294) translate(386 17)"})))))))},T=function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"14",viewBox:"0 0 16 14"},c.a.createElement("g",{fill:"none","fill-rule":"evenodd"},c.a.createElement("g",{fill:"#E63C3C"},c.a.createElement("path",{d:"M673 429L657.533 429 673 442.502z",transform:"translate(-657 -429)"}))))},w=(a(3936),function(e){var t;return c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{overlayClassName:"validator-tooltip",title:null===(t=e.errors)||void 0===t?void 0:t.concat("\n")},c.a.createElement("div",{className:e.errors&&e.errors.length>0?"field-validator-design":""},e.errors&&e.errors.length>0?c.a.createElement("div",{className:"kite"},c.a.createElement(T,null)):null,e.children)))}),C=(E.a,function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"17",viewBox:"0 0 22 17"},c.a.createElement("g",{fill:"none","fill-rule":"evenodd"},c.a.createElement("g",{fill:"#3362FA","fill-rule":"nonzero"},c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M215.707 41.35c0-3.507-2.72-6.35-6.074-6.35-3.354 0-6.073 2.843-6.073 6.35-2.635.126-4.675 2.461-4.555 5.217.12 2.756 2.353 4.888 4.989 4.763h3.904v-3.629h-2.247c-.351-.001-.666-.224-.8-.563-.132-.34-.057-.73.193-.988l4.59-4.8 4.589 4.8c.25.258.325.648.192.988-.133.34-.449.562-.8.563h-2.247v3.63h3.905c2.635.124 4.869-2.008 4.989-4.764.12-2.756-1.92-5.091-4.555-5.216z",transform:"translate(-630 -293) translate(396 131) translate(35 127)"}))))))}),A=function(e){var t=Object(g.a)({},e);return"object"==typeof t.value&&"value"in t.value&&(t.value=t.value.value),"object"==typeof e.value&&Array.isArray(e.value)&&(t.maxTagCount=0,t.maxTagPlaceholder=function(){return"".concat(e.value.length," Selected")},t.disabled=!1,t.dropdownClassName="transport-multiselect-dropdown",t.showSearch=!1),c.a.createElement(w,{errors:e.errors},c.a.createElement("div",{style:{minWidth:e.minWidth?e.minWidth:"100%",width:"100%",overflow:"hidden"}},"has-upload"==e.type?c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement(E.a,Object.assign({},t,{className:"table-select-box table-form-item"}),e.children),e.editMode?c.a.createElement(y.a,{title:"".concat(e.fileName?e.fileName:"")},c.a.createElement(f.a,{disabled:e.disabled,style:{height:"100%",padding:"0px",paddingRight:"5px",border:"none",margin:"5px"},onClick:e.onUpload},e.file?c.a.createElement("div",{style:{paddingRight:"5px"}},c.a.createElement(k,null)):c.a.createElement(C,null))):e.file?c.a.createElement("a",{target:"_blank",href:"".concat(e.file)},c.a.createElement(y.a,{title:"".concat(e.fileName?e.fileName:"")},c.a.createElement("div",{style:{paddingRight:"5px"}},c.a.createElement(k,null)))):c.a.createElement(C,null)):c.a.createElement(E.a,Object.assign({},t,{onChange:function(t){("multiple"!=e.mode||e.editMode)&&e.onChange(t)},className:"table-select-box table-form-item"}),e.children.sort())))},D=(a(679),a(537)),L=a.n(D),P=(a(3937),function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"17",viewBox:"0 0 22 17"},c.a.createElement("g",{fill:"none","fill-rule":"evenodd"},c.a.createElement("g",{fill:"#3362FA","fill-rule":"nonzero"},c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M215.707 41.35c0-3.507-2.72-6.35-6.074-6.35-3.354 0-6.073 2.843-6.073 6.35-2.635.126-4.675 2.461-4.555 5.217.12 2.756 2.353 4.888 4.989 4.763h3.904v-3.629h-2.247c-.351-.001-.666-.224-.8-.563-.132-.34-.057-.73.193-.988l4.59-4.8 4.589 4.8c.25.258.325.648.192.988-.133.34-.449.562-.8.563h-2.247v3.63h3.905c2.635.124 4.869-2.008 4.989-4.764.12-2.756-1.92-5.091-4.555-5.216z",transform:"translate(-630 -293) translate(396 131) translate(35 127)"}))))))}),I=function(e){return c.a.createElement(w,{errors:e.errors},c.a.createElement("div",{style:{width:"100%",overflow:"hidden"}},"has-upload"==e.type?c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement(L.a,Object.assign({format:"DD, MMM, YYYY"},e,{width:"100",className:"table-picker"})),e.editMode?c.a.createElement(y.a,{title:"".concat(e.fileName?e.fileName:"")},c.a.createElement(f.a,{disabled:e.disabled,style:{height:"100%",padding:"0px",paddingRight:"0px",border:"none",margin:"5px"},onClick:e.onUpload},e.file?c.a.createElement("div",{style:{paddingRight:"5px",paddingTop:"2px"}},c.a.createElement(k,null)):c.a.createElement(P,null))):e.file?c.a.createElement("a",{target:"_blank",href:"".concat(e.file)},c.a.createElement(y.a,{title:"".concat(e.fileName?e.fileName:"")},c.a.createElement("div",{style:{paddingRight:"10px"}},c.a.createElement(k,null)))):c.a.createElement("div",{style:{paddingRight:"5px"}},c.a.createElement(P,null))):c.a.createElement(L.a,Object.assign({format:"DD, MMM, YYYY"},e,{style:{width:"100%"},className:"table-picker"}))))},M=(a(118),a(54)),q=a.n(M),V=(a(3938),function(e){return c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(q.a,Object.assign({className:"transport-checkbox"},e)))}),z=(a(150),a(71)),F=a.n(z),U=(a(3939),a(78)),B=function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"17",viewBox:"0 0 22 17"},c.a.createElement("g",{fill:"none","fill-rule":"evenodd"},c.a.createElement("g",{fill:"#3362FA","fill-rule":"nonzero"},c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M215.707 41.35c0-3.507-2.72-6.35-6.074-6.35-3.354 0-6.073 2.843-6.073 6.35-2.635.126-4.675 2.461-4.555 5.217.12 2.756 2.353 4.888 4.989 4.763h3.904v-3.629h-2.247c-.351-.001-.666-.224-.8-.563-.132-.34-.057-.73.193-.988l4.59-4.8 4.589 4.8c.25.258.325.648.192.988-.133.34-.449.562-.8.563h-2.247v3.63h3.905c2.635.124 4.869-2.008 4.989-4.764.12-2.756-1.92-5.091-4.555-5.216z",transform:"translate(-630 -293) translate(396 131) translate(35 127)"}))))))},H=function(e){Object(U.debounce)(e.onChange,500);return c.a.createElement(w,{errors:e.errors},c.a.createElement("div",{style:{width:"150px",overflow:"hidden"}},"has-upload"==e.type?c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement(F.a,Object.assign({},e,{className:"table-input",onChange:function(t){return e.onChange(t.target.value)}})),e.editMode?c.a.createElement(y.a,{title:"".concat(e.fileName?e.fileName:"")},c.a.createElement(f.a,{disabled:e.disabled,style:{height:"100%",padding:"0px",paddingRight:"0px",border:"none",margin:"5px"},onClick:e.onUpload},e.file?c.a.createElement("div",{style:{paddingRight:"5px",paddingTop:"2px"}},c.a.createElement(k,null)):c.a.createElement(B,null))):e.file?c.a.createElement("a",{target:"_blank",href:"".concat(e.file)},c.a.createElement(y.a,{title:"".concat(e.fileName?e.fileName:"")},c.a.createElement("div",{style:{paddingRight:"10px",paddingTop:"-1px"}},c.a.createElement(k,null)))):c.a.createElement("div",{style:{paddingRight:"5px"}},c.a.createElement(B,null))):c.a.createElement(F.a,Object.assign({},e,{className:"table-input"}))))},R=(a(284),a(129)),J=a.n(R),K=(a(3940),function(e){return c.a.createElement(J.a,Object.assign({className:"supplier-transport-table"},e))}),G=(a(159),a(93)),Q=a.n(G),W=(a(447),a(254)),Z=a.n(W),Y=(a(1041),a(685)),X=a.n(Y),_=(a(3941),a(3853)),$=a(7),ee=a(402),te=a.n(ee),ae=X.a.Dragger,ne=c.a.createElement(_.a,{style:{fontSize:24},spin:!0}),re=function(){return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"17",viewBox:"0 0 22 17"},c.a.createElement("g",{fill:"none","fill-rule":"evenodd"},c.a.createElement("g",{fill:"#3362FA","fill-rule":"nonzero"},c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M215.707 41.35c0-3.507-2.72-6.35-6.074-6.35-3.354 0-6.073 2.843-6.073 6.35-2.635.126-4.675 2.461-4.555 5.217.12 2.756 2.353 4.888 4.989 4.763h3.904v-3.629h-2.247c-.351-.001-.666-.224-.8-.563-.132-.34-.057-.73.193-.988l4.59-4.8 4.589 4.8c.25.258.325.648.192.988-.133.34-.449.562-.8.563h-2.247v3.63h3.905c2.635.124 4.869-2.008 4.989-4.764.12-2.756-1.92-5.091-4.555-5.216z",transform:"translate(-630 -293) translate(396 131) translate(35 127)"}))))))},ie=function(e){var t,a,r,i=Object(l.useState)({url:null===(t=e.currentData)||void 0===t?void 0:t.file,remarks:null===(a=e.currentData)||void 0===a?void 0:a.remarks,name:null===(r=e.currentData)||void 0===r?void 0:r.name}),o=Object(n.a)(i,2),s=o[0],u=o[1],d=Object(l.useState)(!1),p=Object(n.a)(d,2),b=p[0],h=p[1],E=Object(l.useState)(""),O=Object(n.a)(E,2),y=O[0],j=O[1],S=Object(l.useRef)("");S.current=y;var x={beforeUpload:function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,e.prev=1,e.next=4,$.a.get("file-upload?fileNames=".concat(a));case 4:n=e.sent,console.log("response",n),j(n.data[0].putUrl),u(Object(g.a)(Object(g.a)({},s),{},{url:n.data[0].getUrl,name:a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),name:"file",multiple:!1,action:S.current,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"uploading"===t&&h(!0),"done"===t?(console.log("UPLOADED",e.file),h(!1),console.log(e)):"error"===t&&(h(!1),console.log("ERROR"))}};return console.log("FILEINFO",s),c.a.createElement(Q.a,{visible:e.visible,wrapClassName:"transport-upload-modal",onCancel:e.onClose,onClose:e.onClose},c.a.createElement("h1",null,"Upload"),c.a.createElement("h5",null,"Supports png, pdf, jpeg. Max size 5MB"),c.a.createElement(ae,Object.assign({},e,x,{disabled:!!(e.file||s.url||b),className:"mt-40",customRequest:function(e){var t=e.onSuccess,a=e.onError,n=e.file,r=e.action;te.a.put(r,n).then((function(e){t(e,n)})).catch((function(e){a(e)}))}}),c.a.createElement("p",{className:"ant-upload-drag-icon"},c.a.createElement(re,null)),c.a.createElement("p",{className:"ant-upload-text"},"Drag & drop files here or ",c.a.createElement("span",{className:"blue"},"browse"))),b?c.a.createElement(Z.a,{indicator:ne,className:"mt-16"}):null,s.url?c.a.createElement("div",null,c.a.createElement("p",{className:"uploaded-count"},"Uploaded 1/1"),c.a.createElement("div",{className:"file-list-item flex justify-between items-center"},c.a.createElement("div",{className:"flex justify-center items-center"},c.a.createElement(k,null),c.a.createElement("a",{target:"_blank",href:"".concat(s.url)},c.a.createElement("span",null,s.name))),c.a.createElement("div",{onClick:function(){u(Object(g.a)(Object(g.a)({},s),{},{url:null})),console.log("DELETE FILE",Object(g.a)(Object(g.a)({},s),{},{url:""}))}},c.a.createElement(N,null)))):null,c.a.createElement("div",{style:{position:"relative"}},c.a.createElement(F.a,{onChange:function(e){return u(Object(g.a)(Object(g.a)({},s),{},{remarks:e.target.value}))},value:s.remarks,className:"mt-20 remarks-input",placeholder:"eg. \u2018This will expire soon, will update this later.\u2019"}),c.a.createElement("span",{className:"input-placeholder-remarks"},"Additional Remarks")),c.a.createElement(f.a,{className:"save-button",onClick:function(){return!b&&e.onUploadComplete(s.url,s.remarks,s.name)}},"Save Details"))},le=a(15),ce=a.n(le),oe=a(11),se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},ue=a(80),de=function(e,t){return l.createElement(ue.a,Object.assign({},e,{ref:t,icon:se}))};de.displayName="DeleteFilled";var me=l.forwardRef(de),ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"},pe=function(e,t){return l.createElement(ue.a,Object.assign({},e,{ref:t,icon:ve}))};pe.displayName="EditFilled";var be=l.forwardRef(pe),fe=a(14),ge=a(70),he=(a(74),a(3942)),Ee=a.n(he),Oe=(a(3943),function(e){return c.a.createElement("div",{className:"empty-container"},c.a.createElement("div",{className:"empty-state mt-20"},e.showEmptyTest(e.testParam)?c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{src:Ee.a}),c.a.createElement("h3",{className:"mt-10"},e.title),c.a.createElement("p",null,e.description),e.onClick?c.a.createElement(f.a,{className:"mt-18",onClick:e.onClick},e.buttonText):null):null),c.a.createElement("div",{className:"".concat(e.showEmptyTest(e.testParam)?"invisible":"")},e.children))}),ye=a(160),je=a(27),Se=i.a.TabPane,xe=E.a.Option,ke=function(e){var t=Object(l.useState)([]),a=Object(n.a)(t,2),r=a[0],o=a[1],u=Object(l.useState)(!1),d=Object(n.a)(u,2),b=d[0],h=d[1],E=Object(l.useState)(null),O=Object(n.a)(E,2),y=O[0],k=O[1],N=Object(s.i)().id,T=Object(l.useState)([-1,{}]),w=Object(n.a)(T,2),C=(w[0],w[1],Object(l.useState)({})),D=Object(n.a)(C,2),L=D[0],P=D[1],M=Object(l.useState)([]),q=Object(n.a)(M,2),z=q[0],F=q[1],B=Object(l.useState)([]),R=Object(n.a)(B,2),J=R[0],G=R[1],Q=Object(l.useState)(!1),W=Object(n.a)(Q,2),Z=W[0],Y=W[1],X=e.sampleColumns,_=e.newRecord,$=e.getPayload,ee=e.mapPropsToState,te=(e.empanel,e.empanelAll,Object(l.useState)(-1)),ae=Object(n.a)(te,2),ne=ae[0],re=ae[1],le=Object(l.useRef)({}),se=Object(l.useRef)({}),ue=Object(l.useRef)(!1),de={visible:ne>=0,heading:" Are you sure?",subHeading:"This action will delete the vehicle",submit:function(){ke(ne),re(-1)}};le.current=z,se.current=J,ue.current=Z,Object(l.useEffect)((function(){Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getServingLocations(N,e.stage);case 2:case"end":return t.stop()}}),t)})))()}),[e.tabStatus]),Object(l.useEffect)((function(){o(X.map((function(t){return{title:"Empanel"!==t.title?t.title:c.a.createElement("div",null,c.a.createElement(V,{disabled:"published"==e.tabStatus||e.areProductsApproved,defaultChecked:!1,checked:ue.current,onChange:function(){Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.empanelAll(N,y,{isEmpanelled:!ue.current});case 2:return t.next=4,e.getTableData(N,y,e.stage);case 4:case"end":return t.stop()}}),t)})))()}}),c.a.createElement("p",null,"Empanel")),dataIndex:t.key,key:t.key,minWidth:t.minWidth,width:t.width,render:function(e,a,n){return pe(t.type,e,a,n,t.key,t.hasUpload)}}})))}),[y,e.sampleColumns,e.tableData,Z]),Object(l.useEffect)((function(){return N&&y&&Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableData(N,y,e.stage,"dsadasdasdas");case 2:case"end":return t.stop()}}),t)})))(),Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.clearTransportData();case 1:case"end":return t.stop()}}),t)})))}),[y]),Object(l.useEffect)((function(){var t,a=null===(t=e.tableData)||void 0===t?void 0:t.map((function(e,t){return ee(e,t)}));(null===a||void 0===a?void 0:a.length)<=0?F([Object(g.a)({},_)]):F(a),Y(!!(a&&a.length>0)&&!(null===a||void 0===a?void 0:a.find((function(e){return!1===e.empanelled}))))}),[e.tableData]),Object(l.useEffect)((function(){}),[z]),Object(l.useEffect)((function(){var t;(null===(t=e.servingLocations)||void 0===t?void 0:t.length)>0&&k(e.servingLocations[0].id)}),[e.servingLocations]);var ve=function(){var e;Y(!!(le.current&&le.current.length>0)&&!(null===(e=le.current)||void 0===e?void 0:e.find((function(e){return!1===e.empanelled}))))},pe=function(t,a,n,r,i,l){var o,s,u,d,m,v,p,b,g,E=l?{type:"has-upload"}:null,O={},y=e.sampleColumns.find((function(e){return i==e.key}));switch(null!=(O=fe(n,i,t))&&void 0!=O||(O={}),n.editThis||(O.disabled=!0),t){case"empty":return"";case"add":return n.editThis&&c.a.createElement(f.a,{className:"operation-button",onClick:function(){return he(r)}},c.a.createElement(S,null))||c.a.createElement(f.a,{className:"operation-button",onClick:function(){return re(r)}},c.a.createElement(me,{style:{color:"#d74f4f"}}));case"delete":return n.editThis&&c.a.createElement(f.a,{className:"operation-button",onClick:function(){return ke(r)}},c.a.createElement(x,null))||c.a.createElement(f.a,{className:"operation-button",onClick:function(){return Ee(r)}},c.a.createElement(be,null));case"empanelled":return c.a.createElement(V,{disabled:"published"==e.tabStatus||e.areProductsApproved,onChange:function(e){Ne(r,e.target.checked)},checked:n.empanelled});case"date":return c.a.createElement(I,Object.assign({file:null===(o=n[i])||void 0===o?void 0:o.file,errors:null===(s=n[i])||void 0===s?void 0:s.errors,editMode:n.editThis,fileName:null===(u=n[i])||void 0===u?void 0:u.name,placeholder:y.placeholder,onUpload:function(){h([r,i])}},O,{uploadKey:i},E,{disabledDate:y.disabledDate,onChange:function(e){return Te(e,r,i)},onUploadComplete:function(e,t){var a=Object(U.cloneDeep)(L);a[i].file=e,a[i].value=t,P(a)}}));case"select":var j=Object(oe.g)(y,"options",[]);return c.a.createElement(A,Object.assign({minWidth:y.minWidth,file:null===(d=n[i])||void 0===d?void 0:d.file,errors:null===(m=n[i])||void 0===m?void 0:m.errors,editMode:n.editThis,fileName:null===(v=n[i])||void 0===v?void 0:v.name,uploadKey:i,showSearch:y.showSearch,onSearch:function(t){return e.onSearch(i,t)},placeholder:y.placeholder,mode:y.mode},O,E,{onUpload:function(){h([r,i])},onChange:function(e){return Te(e,r,i)},onUploadComplete:function(e,t){var a=Object(U.cloneDeep)(L);a[i].file=e,a[i].value=t,P(a)},filterOption:function(e,t){return!0}}),j.map((function(e){return c.a.createElement(xe,{value:e.value},e.name)})));case"input":return c.a.createElement(H,Object.assign({errors:null===(p=n[i])||void 0===p?void 0:p.errors,editMode:n.editThis,file:null===(b=n[i])||void 0===b?void 0:b.file,fileName:null===(g=n[i])||void 0===g?void 0:g.name,uploadKey:i,onChange:function(e){return Te(e,r,i)},onUpload:function(){h([r,i])}},E,{value:O.value,disabled:O.disabled,placeholder:y.placeholder}));case"checkbox":return c.a.createElement(V,{disabled:"published"==e.tabStatus||!n.editThis||e.areProductsApproved,onChange:function(e){return Te(e,r,i,"checkbox")},checked:O.value})}},fe=function(e,t,a){var n,r;if("delete"===t||"add"===t)return null;var i,l=null;(null===(n=e[t])||void 0===n?void 0:n.value)?l=null===(i=e[t])||void 0===i?void 0:i.value:l=e[t];return void 0!==(null===(r=l)||void 0===r?void 0:r.value)&&(l=l.value),"date"===a&&l&&(l=ce()(l)),{value:l||void 0}},he=function(){var t=Object(v.a)(m.a.mark((function t(a){var n,r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(U.cloneDeep)(le.current),t.prev=1,t.next=4,e.validationSchema.validate(n[a],{abortEarly:!1});case 4:if(!n[a].isNew){t.next=11;break}return t.next=7,e.createData(N,y,$(n,a));case 7:r=t.sent,n[a].id=Object(oe.g)(r,"id",void 0),t.next=13;break;case 11:return t.next=13,e.updateData(N,y,n[a].id,$(n,a));case 13:n[a].editThis=!1,n[a].isNew=!1,t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),null===t.t0||void 0===t.t0||null===(i=t.t0.inner)||void 0===i?void 0:i.forEach((function(e){n[a][e.path.split(".")[0]].errors=e.errors}));case 20:F(n);case 21:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(e){return t.apply(this,arguments)}}(),Ee=function(e){var t=Object(U.cloneDeep)(le.current);t[e].editThis=!0;var a=Object(p.a)(se.current);a[e]=Object(U.cloneDeep)(t[e]),G(a),F(t)},ke=function(t){if(le.current[t].isNew)F([].concat(Object(p.a)(le.current.slice(0,t)),Object(p.a)(le.current.slice(t+1))));else if(le.current[t].editThis){var a=Object(U.cloneDeep)(le.current);a[t]=Object(U.cloneDeep)(se.current[t]),a[t].editThis=!1,F(a)}else Object(v.a)(m.a.mark((function a(){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(U.cloneDeep)(le.current),a.next=3,e.deleteData(N,y,n[t].id);case 3:F([].concat(Object(p.a)(le.current.slice(0,t)),Object(p.a)(le.current.slice(t+1))));case 4:case"end":return a.stop()}}),a)})))()},Ne=function(t,a){var n=Object(U.cloneDeep)(le.current);n[t].editThis=!1,Object(v.a)(m.a.mark((function r(){var i,l;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.empanel(N,y,n[t].id,{isEmpanelled:a});case 2:l=r.sent,n[t].empanelled=null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.empanelled,F(n),ve();case 6:case"end":return r.stop()}}),r)})))()},Te=function(){var e=Object(v.a)(m.a.mark((function e(t,a,n,r){var i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=Object(U.cloneDeep)(le.current))[a].editThis||((l=Object(p.a)(se.current))[a]=Object(U.cloneDeep)(i[a]),l[a][n].errors=null,G(l),i[a].editThis=!0),i[a][n]&&"object"==typeof i[a][n]&&"value"in i[a][n]?i[a][n].value=t.target?t.target.value:t:i[a][n]=t.target?t.target.value:t,"checkbox"==r&&(i[a][n].value=t.target.checked),i[a][n].errors=null,F(i);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}();Object(U.debounce)(Te,500);e.servingLocations&&e.servingLocations.length;var we,Ce=b||[0,""],Ae=Object(n.a)(Ce,2),De=Ae[0],Le=Ae[1],Pe=e.sampleColumns.find((function(e){return"add"==e.key}))?"has-add-delete":"";return c.a.createElement(Oe,{testParam:e.servingLocations,showEmptyTest:function(e){return!e||e.length<=0},title:e.emptyTitle,description:e.emptyDescription,onClick:null},c.a.createElement("div",{className:"supplier-transport flex-row-reverse space-between ".concat(Pe," ").concat("draft"==e.tabStatus||""==e.tabStatus?"reduce-last-column-padding":"")},b?c.a.createElement(ie,{currentData:z[De][Le],onUploadComplete:function(e,t,a){var n=Object(U.cloneDeep)(z);if(!n[b[0]].editThis){var r=Object(p.a)(se.current);r[b[0]]=Object(U.cloneDeep)(n[b[0]]),G(r),n[b[0]].editThis=!0}void 0===n[b[0]][b[1]]&&(n[b[0]][b[1]]={}),"string"===typeof n[b[0]][b[1]]&&(n[b[0]][b[1]]={value:n[b[0]][b[1]]}),n[b[0]][b[1]].file=e,n[b[0]][b[1]].remarks=t,n[b[0]][b[1]].name=a,F(n),h(!1)},visible:!0,onClose:function(){h(!1)},onOk:null}):null,c.a.createElement(ge.a,{cancelConfirmationModal:function(){return re(-1)},confirmationModalSpecs:de}),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container veritcal-scroll-box"},c.a.createElement(i.a,{className:"tabs-dark",onChange:function(e){k(e)},centered:!0},function(){var t;return null===(t=e.servingLocations)||void 0===t?void 0:t.map((function(e){var t;return c.a.createElement(Se,{tab:null===(t=e.servingCity)||void 0===t?void 0:t.name,key:e.id})}))}()),c.a.createElement(ye.a,{loadingKey:je.r.SUPPLIER_TRANSPORT_TABLE,type:"shimmer"},c.a.createElement(K,{dataSource:(we=e.tableData,we?z:[]),columns:r,pagination:!1})),c.a.createElement("div",{className:"w-100 center mt-20"},c.a.createElement(f.a,{className:"add-new-btn",disabled:"draft"!=e.tabStatus&&""!=e.tabStatus&&"deactivated"!=e.tabStatus&&"publish-rejected"!=e.tabStatus,onClick:function(){return function(e){var t;z&&(null===(t=le.current[le.current.length-1])||void 0===t?void 0:t.isNew)||F([].concat(Object(p.a)(le.current),[Object(g.a)({},_)]))}()}},c.a.createElement("div",{className:"flex items-center justify-center"},c.a.createElement(j,null),c.a.createElement("span",{className:"ml-6"},e.addText?e.addText:"Add New Vehicle"))))),c.a.createElement("div",{className:"center"},"draft"==e.tabStatus||""==e.tabStatus||"deactivated"==e.tabStatus||"publish-rejected"==e.tabStatus||"need-publish-approval"==e.tabStatus?c.a.createElement(f.a,{onClick:Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getServingLocations(N,e.stage);case 2:e.toNext();case 3:case"end":return t.stop()}}),t)}))),className:"save-button"},"Save & Continue"):null)),c.a.createElement("div",null),c.a.createElement("div",null)))},Ne=a(25),Te=[{key:"vehicle-type",type:"select",title:"Vehicle Type",minWidth:"200px",width:"150px",placeholder:"Select Vehicle Type",showSearch:!0,validationSchema:Ne.f().shape({value:Ne.g().required()}),options:[{name:"Tata",value:1},{name:"Maruti",value:2}]},{key:"reg-no",type:"input",title:"Registration Number",width:"150px",hasUpload:!0,placeholder:"Enter Number",validationSchema:Ne.f().shape({value:Ne.g().required()})},{key:"pollution",type:"date",title:"Pollution",width:"100px",hasUpload:!0,placeholder:"Valid Till",disabledDate:function(e){return e&&e<ce()().endOf("day")},validationSchema:Ne.f().shape({value:Ne.g().required()})},{key:"insurance",type:"date",title:"Insurance",width:"150px",hasUpload:!0,placeholder:"Valid Till",disabledDate:function(e){return e&&e<ce()().endOf("day")},validationSchema:Ne.f().shape({value:Ne.g().required()})},{key:"auth-permit",type:"date",title:"Authorization Permit",width:"150px",placeholder:"Valid Till",disabledDate:function(e){return e&&e<ce()().endOf("day")},validationSchema:Ne.f().shape({value:Ne.g().required()})},{key:"yom",type:"select",title:"Year Of Manufacture",width:"150px",placeholder:"Select Year",options:function(){for(var e=new Date,t=[],a=1999;a<=e.getFullYear();a++)t.push({name:"".concat(a),value:a});return t}(),validationSchema:Ne.f().shape({value:Ne.e().required()})},{key:"fitness",type:"date",title:"Fitness",width:"150px",hasUpload:!0,placeholder:"Valid Till",disabledDate:function(e){return e&&e<ce()().endOf("day")},validationSchema:Ne.f().shape({value:Ne.g().required()})},{key:"empanelled",type:"empanelled",width:"2%",title:"Empanel",align:"right"},{key:"add",type:"add",width:"10px",title:"Add"},{key:"delete",type:"delete",width:"10px",title:"Delete"}],we={key:0,editThis:!0,isNew:!0,"vehicle-type":{value:""},"reg-no":{value:"",file:""},pollution:{value:"",file:""},insurance:{value:"",file:""},"auth-permit":{value:""},yom:{value:""},fitness:{value:""}},Ce=Ne.f().shape({"vehicle-type":Ne.f({value:Ne.g().required("Vehicle type cannot be blank")}),"reg-no":Ne.f({value:Ne.g().test("len","Registraton number must be less than 15 characters",(function(e){return e&&e.length<=15})).required("Registration number cannot be blank")}),pollution:Ne.f({value:Ne.g().required("Pollution info cannot be blank")}),insurance:Ne.f({value:Ne.g().required("Insurance number cannot be blank")}),"auth-permit":Ne.f({value:Ne.g().required("Expiry date must be selected")}),yom:Ne.f({value:Ne.e().typeError("Year of manufacture must be selected").required("Year of manufacture must be selected")}),fitness:Ne.f({value:Ne.g().required("Fitness ceritificate expiry date must be provided")})}),Ae=a(675),De=a(1048),Le=a(32),Pe=function(e,t){var a,n,r,i,l,c,o,s,u,d,m,v,p,b;return{vehicleType:e[t]["vehicle-type"].value,registrationCertificate:{idn:(null===(a=e[t]["reg-no"])||void 0===a?void 0:a.value)||"",url:(null===(n=e[t]["reg-no"])||void 0===n?void 0:n.file)||"",remarks:(null===(r=e[t]["reg-no"])||void 0===r?void 0:r.remarks)||"",name:(null===(i=e[t]["reg-no"])||void 0===i?void 0:i.name)||""},pollutionCertificate:{expiryDate:Object(oe.h)(e[t].pollution)||"",url:(null===(l=e[t].pollution)||void 0===l?void 0:l.file)||"",remarks:(null===(c=e[t].pollution)||void 0===c?void 0:c.remarks)||"",name:(null===(o=e[t].pollution)||void 0===o?void 0:o.name)||""},insuranceDocument:{expiryDate:Object(oe.h)(e[t].insurance)||"",url:(null===(s=e[t].insurance)||void 0===s?void 0:s.file)||"",remarks:(null===(u=e[t].insurance)||void 0===u?void 0:u.remarks)||"",name:(null===(d=e[t].insurance)||void 0===d?void 0:d.name)||""},authorizationPermitExpirydate:Object(oe.h)(e[t]["auth-permit"]),fitnessCertificate:{expiryDate:Object(oe.h)(e[t].fitness)||"",remarks:(null===(m=e[t].fitness)||void 0===m?void 0:m.remarks)||"",url:(null===(v=e[t].fitness)||void 0===v?void 0:v.file)||"",name:(null===(p=e[t].fitness)||void 0===p?void 0:p.name)||""},yearOfManufacture:(null===(b=e[t].yom)||void 0===b?void 0:b.value)||0}},Ie=function(e,t){var a,n,r,i,l,c,o,s,u,d,m,v,p,b,f,g,h,E,O;return{key:t,editThis:!1,vehicleName:null===e||void 0===e||null===(a=e.vehicleType)||void 0===a?void 0:a.name,"vehicle-type":{value:null===e||void 0===e||null===(n=e.vehicleType)||void 0===n?void 0:n.id},id:e.id,"reg-no":{value:null===(r=e.registrationCertificate)||void 0===r?void 0:r.idn,file:null===(i=e.registrationCertificate)||void 0===i?void 0:i.url,remarks:null===(l=e.registrationCertificate)||void 0===l?void 0:l.remarks,name:null===(c=e.registrationCertificate)||void 0===c?void 0:c.name},pollution:{value:(null===(o=e.pollutionCertificate)||void 0===o?void 0:o.expiryDate)?ce()(null===(s=e.pollutionCertificate)||void 0===s?void 0:s.expiryDate):"",file:null===(u=e.pollutionCertificate)||void 0===u?void 0:u.url,remarks:null===(d=e.pollutionCertificate)||void 0===d?void 0:d.remarks,name:null===(m=e.pollutionCertificate)||void 0===m?void 0:m.name},insurance:{value:(null===(v=e.insuranceDocument)||void 0===v?void 0:v.expiryDate)?ce()(null===(p=e.insuranceDocument)||void 0===p?void 0:p.expiryDate):"",file:null===(b=e.insuranceDocument)||void 0===b?void 0:b.url,remarks:null===(f=e.insuranceDocument)||void 0===f?void 0:f.remarks,name:null===(g=e.insuranceDocument)||void 0===g?void 0:g.name},"auth-permit":{value:e.authorizationPermitExpirydate?ce()(e.authorizationPermitExpirydate):""},yom:{value:e.yearOfManufacture},fitness:{remarks:null===(h=e.registrationCertificate)||void 0===h?void 0:h.remarks,value:(null===(E=e.fitnessCertificate)||void 0===E?void 0:E.expiryDate)?ce()(null===(O=e.fitnessCertificate)||void 0===O?void 0:O.expiryDate):"",file:e.fitnessCertificate.url,name:e.fitnessCertificate.name},empanelled:e.empanelled}},Me=Object(u.b)((function(e){var t,a,n,r,i=e.Suppliers,l=e.Vehicle,c=i.transport,o=i.root.tabStatus.status;return{vehicleTypes:l.vehicleTypes,servingLocations:(null===(t=c.servingLocations)||void 0===t?void 0:t.data)?null===(a=c.servingLocations)||void 0===a?void 0:a.data:[],tableData:c.vehicles.data.vehicles,tabStatus:o,areProductsApproved:null===i||void 0===i||null===(n=i.basicDetails)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.areProductsApproved}}),(function(e){return{getServingLocations:Object(o.b)(Ae.q,e),updateData:Object(o.b)(Ae.A,e),createData:Object(o.b)(Ae.c,e),getTableData:Object(o.b)(Ae.r,e),LoadWrapper:Object(o.b)(Le.a,e),getVehicleTypes:Object(o.b)(De.a,e),deleteData:Object(o.b)(Ae.g,e),empanel:Object(o.b)(Ae.m,e),empanelAll:Object(o.b)(Ae.k,e),clearTransportData:Object(o.b)(Ae.a,e),getSupplierTransportVehiclesLoad:Object(o.b)(Ae.s,e),getTransportServingLocationsLoad:Object(o.b)(Ae.w,e)}}))((function(e){var t,a=Object(oe.q)().get("stage");e.setActiveKycSubTab;Object(l.useEffect)((function(){Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getVehicleTypes();case 2:console.log(e);case 3:case"end":return t.stop()}}),t)})))()}),[]);var n=Object(oe.f)(Te);return n[0].options=Object(oe.n)(e.vehicleTypes||[],(null===e||void 0===e||null===(t=e.tableData)||void 0===t?void 0:t.map((function(e){return e.vehicleType})))||[],"id").map((function(e){return{name:e.name,value:e.id}})),n="need-publish-approval"==e.tabStatus?n.filter((function(e){return"add"!=e.key&&"delete"!=e.key})):"draft"==e.tabStatus||"deactivated"==e.tabStatus||"publish-rejected"==e.tabStatus||""==e.tabStatus?n.filter((function(e){return"empanelled"!==e.key})):n.filter((function(e){return"add"!=e.key&&"delete"!=e.key})),c.a.createElement("div",{className:"edit-table"},c.a.createElement(ke,{sampleColumns:n,newRecord:we,addText:"Add New Vehicle",tableData:e.tableData,servingLocations:e.servingLocations,getServingLocations:e.getTransportServingLocationsLoad,updateData:e.updateData,createData:e.createData,getTableData:e.getSupplierTransportVehiclesLoad,getPayload:Pe,mapPropsToState:Ie,deleteData:e.deleteData,empanel:e.empanel,empanelAll:e.empanelAll,onSearch:Object(oe.d)((function(t,a){Object(v.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t,n.next="vehicle-type"===n.t0?3:6;break;case 3:return n.next=5,e.getVehicleTypes(a);case 5:return n.abrupt("break",6);case 6:case"end":return n.stop()}}),n)})))()}),300),stage:a,toNext:e.toNext,tabStatus:e.tabStatus,validationSchema:Ce,emptyTitle:"Add Cities First",emptyDescription:"You\u2019ll be able to add vehicles once you\u2019ve added serving locations.",clearTransportData:e.clearTransportData,areProductsApproved:e.areProductsApproved}))})),qe=a(18),Ve=(a(3944),{commercial:"Commercial","non-commercial":"Non-Commercial",LMV:"LMV",HMV:"HMV"}),ze=[{title:"Driver name",dataIndex:"name",key:"name",type:"input",width:"15%",placeholder:"Enter Driver Name"},{title:"Mobile Number",dataIndex:"telephone",key:"telephone",type:"input",width:"15%",placeholder:"Enter Mobile Number"},{title:"Alternate Number",dataIndex:"alternateTelephone",key:"alternateTelephone",type:"input",width:"15%",placeholder:"Alternate Number"},{title:"License Type",dataIndex:"drivingLicenceTypes",key:"drivingLicenceTypes",width:"20%",type:"select",mode:"multiple",placeholder:"Select License Type",options:Object.keys(Ve).map((function(e){return{name:Ve[e],value:e}}))},{title:"License",dataIndex:"drivingLicence",key:"drivingLicence",width:"15%",hasUpload:!0,type:"date",placeholder:"Valid Till",disabledDate:function(e){return e&&e<ce()().endOf("day")}},{title:"Badge Number",dataIndex:"badgeNumber",key:"badgeNumber",width:"15%",hasUpload:!0,type:"date",placeholder:"Valid Till",disabledDate:function(e){return e&&e<ce()().endOf("day")}},{title:"Police Verification",dataIndex:"policeVerification",key:"policeVerification",width:"15%",hasUpload:!0,type:"date",placeholder:"Issuance Date",disabledDate:function(e){return e&&e>ce()().endOf("day")}},{title:"Medical Certificate",dataIndex:"medicalCertificate",key:"medicalCertificate",width:"20%",hasUpload:!0,type:"date",placeholder:"Issuance Date",disabledDate:function(e){return e&&e>ce()().endOf("day")}},{title:"Covid Vaccinated",dataIndex:"isCovidVaccinated",key:"isCovidVaccinated",width:"20%",hasUpload:!1,type:"checkbox",placeholder:""},{key:"empanelled",type:"empanelled",width:"2%",title:"Empanel",align:"right"},{key:"add",type:"add",width:"2%",title:"Add"},{key:"delete",type:"delete",width:"2%",title:"Delete"}],Fe={key:Date.now(),editThis:!0,isNew:!0,name:{value:""},telephone:{value:""},alternateTelephone:{value:""},drivingLicenceTypes:[],drivingLicence:{value:"",url:""},badgeNumber:{value:"",url:""},policeVerification:{value:"",file:""},medicalCertificate:{value:"",url:""},isCovidVaccinated:{value:!1}},Ue=Ne.f().shape({name:Ne.f({value:Ne.g().required("Name is required")}),telephone:Ne.f({value:Ne.e().test("ph_no2","Invalid phone number",(function(e){return(e+"").toString().match(/^[0-9]{10}$/)})).required("Phone number is required")}),alternateTelephone:Ne.f({value:Ne.g().test("ph_no","Invalid phone number",(function(e){return!e||(e+"").toString().match(/^[0-9]{10}$/)}))}),drivingLicence:Ne.f({value:Ne.g().required("Driving license information is required")}),badgeNumber:Ne.f({value:Ne.g().required("Badge number is required")}),policeVerification:Ne.f({value:Ne.g().required("Police verification required")}),medicalCertificate:Ne.f({value:Ne.g().required("Medical certificate is required")}),drivingLicenceTypes:Ne.a().typeError("License type cannot be empty").test("arr_len","License types is mandatory",(function(e){return e&&e.length>0}))}),Be=function(e,t){return{alternateTelephone:Object(oe.g)(e[t],"alternateTelephone.value"),name:Object(oe.g)(e[t],"name.value",""),telephone:Object(oe.g)(e[t],"telephone.value",""),drivingLicenceTypes:Object(oe.g)(e[t],"drivingLicenceTypes",[]),isCovidVaccinated:Object(oe.g)(e[t],"isCovidVaccinated.value",!1),drivingLicence:{expiryDate:Object(oe.h)(Object(oe.g)(e[t],"drivingLicence","")),url:Object(oe.g)(e[t],"drivingLicence.file",""),remarks:Object(oe.g)(e[t],"drivingLicence.remarks",""),name:Object(oe.g)(e[t],"drivingLicence.name","")},badgeNumber:{expiryDate:Object(oe.h)(Object(oe.g)(e[t],"badgeNumber","")),url:Object(oe.g)(e[t],"badgeNumber.file",""),remarks:Object(oe.g)(e[t],"badgeNumber.remarks",""),name:Object(oe.g)(e[t],"badgeNumber.name","")},policeVerification:{issuanceDate:Object(oe.h)(Object(oe.g)(e[t],"policeVerification","")),expiryDate:"",url:Object(oe.g)(e[t],"policeVerification.file",""),remarks:Object(oe.g)(e[t],"policeVerification.remarks",""),name:Object(oe.g)(e[t],"policeVerification.name","")},medicalCertificate:{issuanceDate:Object(oe.h)(Object(oe.g)(e[t],"medicalCertificate","")),expiryDate:"",url:Object(oe.g)(e[t],"medicalCertificate.file",""),remarks:Object(oe.g)(e[t],"medicalCertificate.remarks",""),name:Object(oe.g)(e[t],"medicalCertificate.name","")}}},He=function(e,t){return{key:t,editThis:!1,id:Object(oe.g)(e,"id",null),name:{value:Object(oe.g)(e,"name","")},telephone:{value:Object(oe.g)(e,"telephone","")},alternateTelephone:{value:Object(oe.g)(e,"alternateTelephone","")},isCovidVaccinated:{value:Object(oe.g)(e,"isCovidVaccinated",!1)},drivingLicenceTypes:Object(oe.g)(e,"drivingLicenceTypes",[])||[],drivingLicence:{value:Object(oe.g)(e,"drivingLicence.expiryDate",""),name:Object(oe.g)(e,"drivingLicence.name",""),file:Object(oe.g)(e,"drivingLicence.url",""),remarks:Object(oe.g)(e,"drivingLicence.remarks","")},badgeNumber:{value:Object(oe.g)(e,"badgeNumber.expiryDate",""),name:Object(oe.g)(e,"badgeNumber.name",""),file:Object(oe.g)(e,"badgeNumber.url",""),remarks:Object(oe.g)(e,"badgeNumber.remarks","")},policeVerification:{value:Object(oe.g)(e,"policeVerification.issuanceDate",Object(oe.h)("")),name:Object(oe.g)(e,"policeVerification.name",""),file:Object(oe.g)(e,"policeVerification.url",""),remarks:Object(oe.g)(e,"policeVerification.remarks","")},medicalCertificate:{value:Object(oe.g)(e,"medicalCertificate.issuanceDate",Object(oe.h)("")),name:Object(oe.g)(e,"medicalCertificate.name",""),file:Object(oe.g)(e,"medicalCertificate.url",""),remarks:Object(oe.g)(e,"medicalCertificate.remarks","")},empanelled:e.empanelled}},Re=Object(u.b)((function(e){var t,a,n,r,i=e.Suppliers;e.Drivers;return{servingLocations:(null===(t=i.transport.servingLocations)||void 0===t?void 0:t.data)?null===(a=i.transport.servingLocations)||void 0===a?void 0:a.data:[],tableData:i.transport.drivers.data,tabStatus:Object(oe.g)(i,"root.tabStatus.status",[]),areProductsApproved:null===i||void 0===i||null===(n=i.basicDetails)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.areProductsApproved}}),(function(e){return{getServingLocations:Object(o.b)(Ae.q,e),getTableData:Object(o.b)(Ae.o,e),createData:Object(o.b)(Ae.b,e),updateData:Object(o.b)(Ae.z,e),deleteData:Object(o.b)(Ae.f,e),empanel:Object(o.b)(Ae.l,e),empanelAll:Object(o.b)(Ae.j,e),clearTransportData:Object(o.b)(Ae.a,e),LoadWrapper:Object(o.b)(Le.a,e),getSupplierTransportDriversLoad:Object(o.b)(Ae.p,e),getTransportServingLocationsLoad:Object(o.b)(Ae.w,e)}}))((function(e){var t,a=Object(oe.q)().get("stage"),n=Object(U.cloneDeep)(ze);return n="need-publish-approval"==e.tabStatus?n.filter((function(e){return"add"!=e.key&&"delete"!=e.key})):"draft"==e.tabStatus||"deactivated"==e.tabStatus||"publish-rejected"==e.tabStatus||""==e.tabStatus?n.filter((function(e){return"empanelled"!==e.key})):n.filter((function(e){return"add"!=e.key&&"delete"!=e.key})),c.a.createElement("div",{className:"edit-table"},c.a.createElement(ke,(t={tabStatus:e.tabStatus,sampleColumns:n,newRecord:Fe,addText:"Add New Driver",tableData:e.tableData,servingLocations:e.servingLocations,getServingLocations:e.getTransportServingLocationsLoad,updateData:function(t,a,n,r){return new Promise((function(i,l){e.updateData(t,a,n,r).then((function(e){e&&(Object(fe.a)("success","Driver Updated"),i(e)),l()})).catch((function(e){Object(fe.a)(e,"Driver Update Error"),l(e)}))}))},createData:function(t,a,n){return new Promise((function(r,i){e.createData(t,a,n).then((function(e){e&&(Object(fe.a)("success","Driver Added","Added Successfully!"),r(e)),i()})).catch((function(e){Object(fe.a)(e,"Creation Error"),i(e)}))}))},getTableData:e.getSupplierTransportDriversLoad,getPayload:Be,mapPropsToState:He,empanel:function(t,a,n,r){return new Promise((function(i,l){e.empanel(t,a,n,r).then((function(e){e&&i(e),l()})).catch((function(e){Object(fe.a)(e,"Driver Empanel Error"),l(e)}))}))},empanelAll:function(t,a,n){return new Promise((function(r,i){e.empanelAll(t,a,n).then((function(e){e&&r(e),i()})).catch((function(e){Object(fe.a)(e,"All Drivers empanelled Error"),i(e)}))}))},deleteData:function(t,a,n){return new Promise((function(r,i){e.deleteData(t,a,n).then((function(e){Object(fe.a)("success","Driver Deleted","Deleted Successfully!"),r(e)})).catch((function(e){Object(fe.a)(e,"Driver Delete Error"),i(e)}))}))},validate:function(e){var t=!0;return Object.keys(e).forEach((function(a){var n;"key"!==a&&"isNew"!==a&&"editThis"!==a&&"empanelled"!==a&&("object"===typeof e[a]?""===(null===(n=e[a])||void 0===n?void 0:n.value)&&(t=!1):e[a]||(t=!1))})),t||Object(fe.a)("error","Please don't leave any fields blank"),t},stage:a,toNext:e.toNext},Object(qe.a)(t,"tabStatus",e.tabStatus),Object(qe.a)(t,"validationSchema",Ue),Object(qe.a)(t,"emptyTitle","Add Cities First"),Object(qe.a)(t,"emptyDescription","You\u2019ll be able to add drivers once you\u2019ve added serving locations."),Object(qe.a)(t,"clearTransportData",e.clearTransportData),Object(qe.a)(t,"areProductsApproved",e.areProductsApproved),t)))})),Je=(a(204),a(52)),Ke=a.n(Je),Ge=(a(149),a(69)),Qe=a.n(Ge),We=a(13),Ze=a(22),Ye=a(286),Xe=Ne.f({hasInsurance:Ne.g().required("Please select something"),hasTransporterLicence:Ne.g().required("Please select something"),amount:Ne.g().trim().matches(/^[0-9]*$/,"Invalid amount").nullable(),description:Ne.g().min(2,"Description cannot be less than 2 characters").max(250,"Description cannot exceed more than 250 characters").nullable()}),_e=(a(3945),Qe.a.Text);var $e=Object(u.b)((function(e){var t=e.Suppliers,a=t.transport,n=t.root,r=a.regulatory.data;return{tabStatus:n.tabStatus.status,transport:a,formValues:r}}),(function(e){return{updateTransportRegulatory:Object(o.b)(Ae.C,e)}}))((function(e){var t=Object(s.i)().id,a=(Object(oe.q)().get("stage"),e.setActiveKycSubTab),r=Object(l.useState)({}),i=Object(n.a)(r,2),o=i[0],u=i[1],d=function(){var n=Object(v.a)(m.a.mark((function n(r){var i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r,r.hasInsurance||(i={hasInsurance:!1}),r.hasTransporterLicence||(i=Object(g.a)(Object(g.a)({},i),{},{hasTransporterLicence:!1})),n.next=5,e.updateTransportRegulatory(t,i);case 5:a();case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var t=Object(v.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(g.a)({},Object(oe.g)(e,"formValues")),console.log("newInitialState",Object(oe.g)(e,"formValues")),u(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){p()}),[e.formValues]),c.a.createElement("div",{className:"basic-details regulatory transport-regulatory p-30 ".concat(Object(oe.m)(Object(oe.g)(e,"tabStatus",!1))&&"read-only-mode")},c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(We.e,{initialValues:o,validationSchema:Xe,enableReinitialize:!0,onSubmit:function(){var e=Object(v.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.setSubmitting,d(t),n(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(t){var a=t.setFieldValue,n=t.isSubmitting,r=t.values,i=t.errors;return c.a.createElement(c.a.Fragment,null,c.a.createElement(We.d,null,c.a.createElement("div",{className:"mt-10"},c.a.createElement(_e,{strong:!0},"Third Party Liability Insurance"),c.a.createElement("div",{className:"mt-20 form-grid grid-4"},c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement(We.b,{as:Ke.a,type:"radio",name:"hasInsurance",value:!0}),"Yes"),c.a.createElement("label",{className:"ml-40"},c.a.createElement(We.b,{as:Ke.a,type:"radio",name:"hasInsurance",value:!1}),"No"))),c.a.createElement(We.a,{name:"hasInsurance",render:function(e){return c.a.createElement(_e,{type:"danger"},e)}})),r.hasInsurance&&c.a.createElement("div",null,c.a.createElement("div",{className:"mt-10 form-grid grid-2"},c.a.createElement(We.b,{component:Ze.b,label:"Amount *",value:r.amount,name:"amount",type:"amount",validate:function(e){var t;return e||(t="Amount is required"),t}}),c.a.createElement(We.b,{component:Ze.b,label:"Details *",value:r.description,name:"description",type:"description",validate:function(e){var t;return e||(t="Description is required"),t}})),c.a.createElement("div",{className:"form-grid grid-2"},c.a.createElement(We.b,{component:Ye.a,multiple:!1,value:[Object(oe.g)(r,"insuranceDocument",{})],onChange:function(e){a("insuranceDocument.name",e[0].name),a("insuranceDocument.url",e[0].url)},validate:function(e){if(!e.url)return"Please Upload Insurance Document"},errors:i,placeholder:"Upload Insurance Document",label:"Insurance Document",name:"insuranceDocument"}))),c.a.createElement("div",{className:"mt-30"},c.a.createElement(_e,{strong:!0},"Operating Licence as Transporter"),c.a.createElement("div",{className:"mt-20 form-grid grid-4"},c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement(We.b,{as:Ke.a,type:"radio",name:"hasTransporterLicence",value:!0}),"Yes"),c.a.createElement("label",{className:"ml-40"},c.a.createElement(We.b,{as:Ke.a,type:"radio",name:"hasTransporterLicence",value:!1}),"No"))),c.a.createElement(We.a,{name:"hasTransporterLicence",render:function(e){return c.a.createElement(_e,{type:"danger"},e)}})),r.hasTransporterLicence&&c.a.createElement("div",null,c.a.createElement("div",{className:"mt-20 form-grid grid-2"},c.a.createElement(We.b,{component:Ye.a,multiple:!1,value:[Object(oe.g)(r,"transporterLicenceDocument",{})],onChange:function(e){a("transporterLicenceDocument.name",e[0].name),a("transporterLicenceDocument.url",e[0].url)},validate:function(e){if(!e.url)return"Please Upload Licence Document"},errors:i,placeholder:"Upload Licence Document",label:"Licence Document",name:"transporterLicenceDocument"}))),!Object(oe.m)(Object(oe.g)(e,"tabStatus",""))&&c.a.createElement("div",{className:"flex flex-start mt-40"},c.a.createElement(f.a,{loading:n,type:"primary",htmlType:"submit"},n?"Saving...":"Save & continue"))))}))))))})),et=(a(443),{servingCity:"",fleetSize:"",headOffice:{addressLine1:"",city:"",state:"",country:"",pinCode:"",latitude:0,longitude:0}}),tt={title:"",designation:"",firstName:"",lastName:"",email:"",middleName:"",isPrimary:"",telephone:"",department:"",gender:""},at=a(3883),nt=a(3882),rt=(a(285),a(162)),it=a.n(rt),lt=a(3870),ct=function(e){var t,a,n=e.handleAddNewContact,r=e.handleContactEdit,i=e.handleLocationEdit,l=e.location,o=e.handleContactDelete,s=e.handleLocationDelete;return c.a.createElement("div",{className:"serving-location-grid serving-location-list mb-16"},c.a.createElement("div",{className:"bold"},Object(oe.g)(l,"servingCity.name","")),c.a.createElement("div",{className:"medium"},Object(oe.g)(l,"headOffice.addressLine1","")),c.a.createElement(it.a,{className:"pop",placement:"bottomRight",content:c.a.createElement("div",{style:{borderBottom:"1px solid #f2f2f2"},className:"popover-content"},null===l||void 0===l||null===(t=l.contacts)||void 0===t?void 0:t.map((function(t,a){return c.a.createElement("div",null,c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement("div",{className:"bold"},null===t||void 0===t?void 0:t.designation),c.a.createElement("div",{style:{marginLeft:"20px"},className:"flex content-center items-center"},Object(oe.m)(Object(oe.g)(e,"tabStatus",!1))?null:c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{onClick:function(){return r(l.id,t)},src:"/img/edit-blue.svg",className:"cursor-pointer"}),c.a.createElement("img",{src:"/img/trash-blue.svg",className:"cursor-pointer ml-10",onClick:function(){return o(l.id,t.id)}})))),(null===t||void 0===t?void 0:t.firstName)&&c.a.createElement("div",{style:{marginTop:"8px"},className:"flex items-center"},c.a.createElement("img",{src:"/img/user.svg"}),c.a.createElement("div",{style:{marginLeft:"12px"}},null===t||void 0===t?void 0:t.firstName)),(null===t||void 0===t?void 0:t.telephone)&&c.a.createElement("div",{style:{marginTop:"4px"},className:"flex items-center"},c.a.createElement("img",{src:"/img/phone.svg"}),c.a.createElement("div",{style:{marginLeft:"12px"}},null===t||void 0===t?void 0:t.telephone)),(null===t||void 0===t?void 0:t.email)&&c.a.createElement("div",{style:{paddingBottom:"10px",marginTop:"4px"},className:"flex items-center"},c.a.createElement("img",{src:"/img/mail.svg"}),c.a.createElement("div",{style:{marginLeft:"12px"}},null===t||void 0===t?void 0:t.email)))}))),trigger:"hover"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement("img",{src:"/img/user.svg"}),c.a.createElement("span",{style:{marginLeft:"4px"},className:"mr-6"},null===l||void 0===l||null===(a=l.contacts)||void 0===a?void 0:a.length),c.a.createElement(lt.a,{className:"cursor-pointer"}))),Object(oe.m)(Object(oe.g)(e,"tabStatus",!1))?null:c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{onClick:function(){return n(l.id)},className:"flex items-center bold cursor-pointer"},c.a.createElement("img",{className:"mr-10",src:"/img/plus.svg"}),c.a.createElement("p",null,"ADD POC")),c.a.createElement("div",{className:"flex justify-end items-center"},c.a.createElement("img",{src:"/img/edit-blue.svg",onClick:function(){return i(l)},className:"cursor-pointer"}),c.a.createElement("img",{onClick:function(){return s(l)},src:"/img/trash-blue.svg",className:"cursor-pointer ml-20"}))))},ot=(a(3946),Qe.a.Text,Qe.a.Link,Qe.a.Title,Object(u.b)((function(e){var t=e.Suppliers,a=t.transport,n=t.root,r=a.servingLocations;return{tabStatus:n.tabStatus.status,servingLocations:r.data,transport:a}}),(function(e){return{updateTransportServingLocation:Object(o.b)(Ae.D,e),deleteTransportServingLocation:Object(o.b)(Ae.h,e),createTransportServingLocation:Object(o.b)(Ae.d,e),createTransportServingLocationContact:Object(o.b)(Ae.e,e),getTransportServingLocations:Object(o.b)(Ae.v,e),updateTransportServingLocationContact:Object(o.b)(Ae.E,e),deleteTransportServingLocationContact:Object(o.b)(Ae.i,e)}}))((function(e){var t,a,r=Object(s.i)().id,i=Object(oe.q)().get("stage"),o=e.setActiveKycSubTab,u=Object(l.useState)(et),d=Object(n.a)(u,2),p=d[0],b=d[1],h=Object(l.useState)(tt),E=Object(n.a)(h,2),O=E[0],y=E[1],j=Object(l.useState)(!1),S=Object(n.a)(j,2),x=S[0],k=S[1],N=Object(l.useState)(!1),T=Object(n.a)(N,2),w=T[0],C=T[1],A=Object(l.useState)({}),D=Object(n.a)(A,2),L=D[0],P=D[1],I=Object(l.useState)(!1),M=Object(n.a)(I,2),q=M[0],V=M[1],z=Object(l.useState)(!1),F=Object(n.a)(z,2),U=F[0],B=F[1],H=Object(l.useState)({}),R=Object(n.a)(H,2),J=R[0],K=R[1],G=function(){b(et),B(!0)},Q=function(e){y(Object(g.a)(Object(g.a)({},tt),{},{locationId:e,id:""})),V(!0)},W=function(){var t=Object(v.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=a,console.log(a),null===n||void 0===n||delete n.teamSize,!a.id){t.next=9;break}return t.next=7,e.updateTransportServingLocation(r,a.id,n);case 7:t.next=11;break;case 9:return t.next=11,e.createTransportServingLocation(r,n);case 11:return B(!1),t.next=14,e.getTransportServingLocations(r,i);case 14:t.next=18;break;case 16:t.prev=16,t.t0=t.catch(0);case 18:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}(),Z=function(){var t=Object(v.a)(m.a.mark((function t(a){var n,l,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.locationId,l=a.id,delete a.locationId,delete a.id,t.prev=3,c=a,console.log(c),!l){t.next=11;break}return t.next=9,e.updateTransportServingLocationContact(r,n,l,c);case 9:t.next=13;break;case 11:return t.next=13,e.createTransportServingLocationContact(r,n,c);case 13:return V(!1),t.next=16,e.getTransportServingLocations(r,i);case 16:t.next=20;break;case 18:t.prev=18,t.t0=t.catch(3);case 20:case"end":return t.stop()}}),t,null,[[3,18]])})));return function(e){return t.apply(this,arguments)}}(),Y=function(e,t){y(Object(g.a)(Object(g.a)({locationId:e},t),{},{gender:(null===t||void 0===t?void 0:t.gender)?t.gender:"male"})),V(!0)},X=function(e){b({id:e.id,servingCity:e.servingCity,fleetSize:e.fleetSize,headOffice:e.headOffice}),K({servingLocationOptions:[e.servingCity],address:{countryList:[e.headOffice.country],stateList:[e.headOffice.state],cityList:[e.headOffice.city]}}),B(!0)},_=function(){var t=Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.deleteTransportServingLocationContact(r,Object(oe.g)(L,"locationId"),Object(oe.g)(L,"contactId"));case 3:return k(!1),t.next=6,e.getTransportServingLocations(r,i);case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),$=function(){var t=Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.deleteTransportServingLocation(r,Object(oe.g)(L,"location.id"));case 3:return C(!1),t.next=6,e.getTransportServingLocations(r,i);case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"p-30 serving-location"},c.a.createElement(Oe,{testParam:e.servingLocations,showEmptyTest:function(e){return!e||e.length<=0},title:"No Location Added",description:"You\u2019ll see a list of serving locations as you start adding to this list.",onClick:G,buttonText:"Add Location"}),c.a.createElement("div",{style:{visibility:(null===(t=e.servingLocations)||void 0===t?void 0:t.length)<=0?"hidden":"visible"}},c.a.createElement("div",null,c.a.createElement("div",null,!Object(oe.m)(Object(oe.g)(e,"tabStatus.status",!1))&&c.a.createElement("div",{className:"form-grid mb-26"},Object(oe.m)(Object(oe.g)(e,"tabStatus",!1))?null:c.a.createElement("div",{className:"button-dashed",onClick:G},c.a.createElement("img",{className:"mr-10",src:"/img/add-blue.svg"}),c.a.createElement("p",null,"Add Location"))),c.a.createElement("div",null,c.a.createElement("div",{className:"serving-location-grid mb-10"},c.a.createElement("p",null,"Serving City"),c.a.createElement("p",null,"Address"),c.a.createElement("p",null,"POCs"),c.a.createElement("p",null),c.a.createElement("p",null)),c.a.createElement("div",null,null===(a=e.servingLocations)||void 0===a?void 0:a.map((function(t){return c.a.createElement(ct,{tabStatus:e.tabStatus,key:t.id,location:t,handleAddNewContact:Q,handleContactEdit:Y,handleLocationEdit:X,handleContactDelete:function(e,t){P({locationId:e,contactId:t}),k(!0)},handleLocationDelete:function(e){P({location:e}),C(!0)}})})))),U&&c.a.createElement(nt.a,{onSubmit:W,currentContactInEdit:p,setShowModal:B,source:"transport",editLocationOptions:J}),q&&c.a.createElement(at.a,{onSubmit:Z,initialValues:O,setShowModal:V,source:"transport"}),c.a.createElement(ge.a,{confirmationModalSpecs:{visible:x,heading:"Are you sure?",subHeading:"Are you sure you want to delete this POC",buttonText:"Delete",submit:_},cancelConfirmationModal:function(){return k(!1)}}),c.a.createElement(ge.a,{confirmationModalSpecs:{visible:w,heading:"Are you sure?",subHeading:"Are you sure you want to delete this Serving location",buttonText:"Delete",submit:$},cancelConfirmationModal:function(){return C(!1)}}))),!Object(oe.m)(Object(oe.g)(e,"tabStatus",""))&&c.a.createElement("div",{className:"flex flex-start mt-40"},c.a.createElement(f.a,{onClick:function(){return o()},type:"primary"},"Continue"))))}))),st=(a(3875),a(3947),a(323)),ut=Ne.f().shape({maintenanceFacility:Ne.f({}).when("hasMaintenanceFacility",{is:!0,then:Ne.f({addressLine1:Ne.g().max(1e3,"Address should be less than 1000 characters").typeError("Address is required").required("Address is required"),city:Ne.g().typeError("City is required").required("City is required"),country:Ne.g().typeError("Country is required").required("Country is required"),latitude:Ne.e(),longitude:Ne.e(),pinCode:Ne.g().typeError("Pincode is required").required("Pincode is required"),state:Ne.g().typeError("State is required").required("State is required")})}),hasMaintenanceFacility:Ne.c().required("Maintainance facility is reuqired")}),dt=Qe.a.Text,mt=Object(u.b)((function(e){var t,a,n;return{services:e.Suppliers.basicDetails.data.services,formValues:null===(t=e.Suppliers)||void 0===t||null===(a=t.transport)||void 0===a?void 0:a.maintainance.data,tabStatus:null===(n=e.Suppliers)||void 0===n?void 0:n.root.tabStatus.status}}),(function(e){return{getSupplierMaintainanceInfo:Object(o.b)(Ae.n,e),updateSupplierMaintainanceInfo:Object(o.b)(Ae.y,e)}}))((function(e){var t=Object(s.i)().id,a=(Object(oe.q)(),Object(l.useState)({countryList:[],stateList:[],cityList:[]})),r=Object(n.a)(a,2),i=r[0],o=r[1],u=Object(l.useState)({}),d=Object(n.a)(u,2),p=d[0],b=d[1];Object(l.useEffect)((function(){var t,a,n;b(Object(g.a)(Object(g.a)({},e.formValues),{},{maintenanceFacility:Object(g.a)(Object(g.a)({},e.formValues.maintenanceFacility),{},{country:null===(t=e.formValues.maintenanceFacility.country)||void 0===t?void 0:t.code,state:null===(a=e.formValues.maintenanceFacility.state)||void 0===a?void 0:a.code,city:null===(n=e.formValues.maintenanceFacility.city)||void 0===n?void 0:n.code})})),o({countryList:[Object(g.a)({},e.formValues.maintenanceFacility.country)],stateList:[Object(g.a)({},e.formValues.maintenanceFacility.state)],cityList:[Object(g.a)({},e.formValues.maintenanceFacility.city)]})}),[e.formValues]);var h=function(){var a=Object(v.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.hasMaintenanceFacility){a.next=6;break}return a.next=3,e.updateSupplierMaintainanceInfo(t,n);case 3:e.toNext(),a.next=11;break;case 6:return a.next=8,e.updateSupplierMaintainanceInfo(t,{maintenanceFacility:null,hasMaintenanceFacility:!1});case 8:return a.next=10,e.getSupplierMaintainanceInfo(t);case 10:e.toNext();case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return c.a.createElement("div",{id:"maintainance",className:"supplier-maintainance  p-30 ".concat(Object(oe.m)(Object(oe.g)(e,"tabStatus",""))&&"read-only-mode")},c.a.createElement(We.e,{enableReinitialize:!0,validationSchema:ut,initialValues:p,onSubmit:function(e){h(e)}},(function(t){var a=t.setFieldValue,n=(t.isSubmitting,t.values);return c.a.createElement(We.d,null,Object(oe.g)(e,"services",[]).includes("transport")&&c.a.createElement("div",{className:"mb-30 form-grid grid-1"},c.a.createElement("div",null,c.a.createElement(dt,{className:"",strong:!0},"Vehicle Maintenance Facility"),c.a.createElement("div",{className:"mt-10"},[{name:"Yes",value:!0},{name:"No",value:!1}].map((function(e,t){return c.a.createElement("label",{key:t,className:"mr-40"},c.a.createElement(We.b,{as:Ke.a,type:"radio",name:"hasMaintenanceFacility",value:e.value}),c.a.createElement("span",{className:"capitalize"},e.name))}))))),n.hasMaintenanceFacility&&c.a.createElement(c.a.Fragment,null,c.a.createElement(dt,{strong:!0},"Address"),c.a.createElement("div",{className:"mt-10 mb-40"},c.a.createElement(st.a,{values:n,parentKey:"maintenanceFacility",popupContainerId:"maintainance",setFieldValue:a,addressOptions:i,setAddressOptions:o}))),c.a.createElement("div",{className:"flex flex-start mb-20"},Object(oe.m)(null===e||void 0===e?void 0:e.tabStatus)?c.a.createElement(c.a.Fragment,null):c.a.createElement("div",{className:"flex flex-start"},c.a.createElement(f.a,{type:"primary",htmlType:"submit"},"draft"!=e.tabStatus&&e.tabStatus?"Continue":"Save & continue"))))})))})),vt=(a(3948),a(122)),pt=a(167),bt=a(296),ft=Object(u.b)((function(e){var t=e.Suppliers;e.Products;return{isTciScoreSaved:t.transport.profiling.tciScores.isDataSaved,tciScores:t.transport.profiling.tciScores.data}}),(function(e){return{getTciScore:Object(o.b)(Ae.t,e),updateTciScore:Object(o.b)(Ae.B,e),clearTours:Object(o.b)(pt.a,e)}}))((function(e){var t=Object(oe.q)(),a=Object(s.i)().id,n=t.get("stage");return Object(l.useEffect)((function(){e.getTciScore(a,n)}),[]),c.a.createElement("div",{style:{width:"1140px",margin:"auto"}},c.a.createElement(bt.a,{defaultTabKey:"tci",totalTabs:1,onTabsEnd:function(){}},c.a.createElement(vt.a,{isDataSaved:e.isTciScoreSaved,tabTitle:"TCI Score",hasDelete:!1,tabKey:"tci",getScores:e.getTciScore,nextTab:"source-market",updateScore:e.updateTciScore,scoresList:e.tciScores,type:"1",rowMode:!1,compactRows:!1,getPayload:function(e){var t={};return e.forEach((function(e){t[e.value]=e.score})),t}})))})),gt=i.a.TabPane;var ht=Object(u.b)((function(e){var t,a,n,r,i,l,c=e.Suppliers,o=c.transport,s=c.root,u=Object(oe.g)(o,"regulatory.isDataSaved",!1),d=Object(oe.g)(o,"servingLocations.isDataSaved",!1),m=Object(oe.g)(o,"vehicles.isDataSaved",!1),v=Object(oe.g)(o,"drivers.isDataSaved",!1),p=Object(oe.g)(o,"maintainance.isDataSaved",!1),b=Object(oe.g)(s,"tabStatus.status",""),f=Object(oe.g)(s,"tabStatus.status",!1),g=o.profiling.tciScores.isDataSaved;return"need-publish-approval"==b&&(m=!(null===(t=c.transport)||void 0===t||null===(a=t.servingLocations)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.find((function(e){return 0==e.numberOfEmpanelledVehicles}))),v=!(null===(r=c.transport)||void 0===r||null===(i=r.servingLocations)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.find((function(e){return 0==e.numberOfEmpanelledDrivers})))),{isTransportPublished:f,isRegulatorySaved:u,isServingLocationsSaved:d,isVehiclesSaved:m,isDriversSaved:v,isMaintainanceSaved:p,isProfilingSaved:g,tabStatus:b}}),(function(e){return{getTransport:Object(o.b)(Ae.u,e),getTciScore:Object(o.b)(Ae.t,e),getTransportWithLoad:Object(o.b)(Ae.x,e)}}))((function(e){var t=Object(s.i)().id,a=Object(oe.q)().get("stage"),r=Object(l.useState)("transport-maintainance"),o=Object(n.a)(r,2),u=o[0],d=o[1],m=e.isRegulatorySaved,v=e.isServingLocationsSaved,p=e.isVehiclesSaved,b=e.isDriversSaved,f=e.isMaintainanceSaved;Object(l.useEffect)((function(){e.getTransportWithLoad(t,a),e.getTciScore(t,a)}),[]);var g=!["","publish-rejected","draft","deactivated","deactivation-rejected"].includes(e.tabStatus);return c.a.createElement(ye.a,{loadingKey:je.r.SUPPLIER_TRANSPORT,type:"shimmer"},c.a.createElement("div",{className:"supplier-transport-index"},c.a.createElement("div",null,c.a.createElement(i.a,{centered:!0,activeKey:u,onChange:function(e){return d(e)}},c.a.createElement(gt,{tab:c.a.createElement("div",{className:"flex items-center"},c.a.createElement("p",null,"General"),f&&c.a.createElement("img",{className:"ml-10",src:"/img/green-check-mark.svg"})),key:"transport-maintainance"},c.a.createElement(mt,{toNext:function(){return d("transport-regulatory")}})),c.a.createElement(gt,{tab:c.a.createElement("div",{className:"flex items-center"},c.a.createElement("p",null,"Regulatory"),m&&c.a.createElement("img",{className:"ml-10",src:"/img/green-check-mark.svg"})),key:"transport-regulatory"},c.a.createElement($e,{setActiveKycSubTab:function(){return d("transport-serving-locations")}})),c.a.createElement(gt,{tab:c.a.createElement("div",{className:"flex items-center"},c.a.createElement("p",null,"Serving Locations"),v&&c.a.createElement("img",{className:"ml-10",src:"/img/green-check-mark.svg"})),key:"transport-serving-locations"},c.a.createElement(ot,{setActiveKycSubTab:function(){return d("vehicles")}})),c.a.createElement(gt,{tab:c.a.createElement("div",{className:"flex items-center"},c.a.createElement("p",null,"Vehicles"),p&&c.a.createElement("img",{className:"ml-10",src:"/img/green-check-mark.svg"})),key:"vehicles"},"vehicles"==u?c.a.createElement(Me,{toNext:function(){return d("drivers")}}):null),c.a.createElement(gt,{tab:c.a.createElement("div",{className:"flex items-center"},c.a.createElement("p",null,"Drivers"),b&&c.a.createElement("img",{className:"ml-10",src:"/img/green-check-mark.svg"})),key:"drivers"},"drivers"==u?c.a.createElement(Re,{toNext:function(){g&&d("profiling")}}):null),g&&c.a.createElement(gt,{tab:c.a.createElement("div",{className:"flex items-center"},c.a.createElement("p",null,"Score & Rate"),e.isProfilingSaved&&c.a.createElement("img",{className:"ml-10",src:"/img/green-check-mark.svg"})),key:"profiling"},"profiling"==u?c.a.createElement(ft,null):null)))))}));t.default=ht}}]);