(this["webpackJsonpatko-mvp-frontend"]=this["webpackJsonpatko-mvp-frontend"]||[]).push([[15],{3872:function(e,a,t){"use strict";t(159);var n=t(93),l=t.n(n),r=(t(118),t(54)),c=t.n(r),i=(t(204),t(52)),m=t.n(i),s=(t(38),t(21)),o=t.n(s),d=(t(180),t(104)),u=t.n(d),b=t(2),p=t(8),E=(t(149),t(69)),g=t.n(E),v=t(13),f=t(0),N=t.n(f),h=t(57),y=t(11),O=t(25),j=t(22),S=(t(3873),{title:"mr",gender:"male",firstName:"deepak",lastName:"deepak",telephone:"9999999999",email:"deepak@deepak.com",designation:"Company Owner",id:"f89a2cae-207e-4925-af74-fbdbe65dc83c",department:"reservation"}),k=g.a.Text,C=(g.a.Link,g.a.Title,function(e){var a=e.setShowModal,t=e.onSubmit,n=e.initialValues,r=e.setInitialValues,i=e.inEditMode,s=e.isDesignationDisabled,d=Object(f.useState)(!1),E=Object(p.a)(d,2),g=(E[0],E[1],/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/),C=O.f().shape({firstName:O.g().min(2,"Too Short!").max(250,"Too Long!").required("First name is required"),middleName:O.g().nullable(),lastName:O.g().min(2,"Too Short!").max(250,"Too Long!").required("Last name is required"),telephone:O.g().matches(g,"Phone number is not valid").min(6,"Phone number cannot be less than 6 digits").max(14,"Phone number cannot exceed more than 14 digts").required("Phone number required"),alternateTelephone:O.g().matches(g,"Phone number is not valid").min(6,"Phone number cannot be less than 6 digits").max(14,"Phone number cannot exceed more than 14 digts").nullable(),email:O.g().email().required("Email is required"),gender:O.g().required("Gender is required")});Object(h.i)().id;return N.a.createElement(l.a,{visible:!0,keyboard:!1,footer:null,width:"926px",className:"add-new-contact-modal",closeIcon:N.a.createElement("img",{onClick:function(){return a(!1)},alt:"close",src:"/img/black-cancel-circle.svg"})},N.a.createElement("div",{id:"new-serving-location-modal"},N.a.createElement(v.e,{enableReinitialize:!0,validationSchema:C,initialValues:(null===n||void 0===n?void 0:n.firstName)?n:Object(b.a)(Object(b.a)({},n),{},{gender:"male",title:"mr"}),onSubmit:function(e,a){a.setSubmitting;return t(e)}},(function(a){var t=a.setFieldValue,l=a.isSubmitting,d=a.values;return N.a.createElement(N.a.Fragment,null,i?N.a.createElement("p",{className:"capitalize bold text-26"},"Edit ".concat(n.designation," contact")):N.a.createElement("p",{className:"capitalize bold text-26"},"Add ".concat(n.designation," contact")),N.a.createElement(u.a,null),["staging","development"].includes("staging")&&r&&N.a.createElement(o.a,{type:"link",onClick:function(){r(S)}},"Click to populate data"),N.a.createElement(v.d,null,Object(y.e)(d),n.hasOwnProperty("designation")&&!e.isGuidesOnly&&N.a.createElement("div",{className:"form-grid grid-3"},N.a.createElement(v.b,{component:j.b,label:"Designation *",value:d.designation,validate:function(e){if(!e)return"Designation is required"},disabled:s,name:"designation",type:"text"}),N.a.createElement(v.b,{component:j.d,name:"department",validate:function(e){if(!e)return"Select department"},label:"Select Department *",value:d.department,getPopupContainer:function(){return document.getElementById("new-serving-location-modal")},selectOptions:[{name:"Finance",value:"finance"},{name:"Reservation",value:"reservation"},{name:"Sales",value:"sales"},{name:"Management",value:"management"}]})),N.a.createElement("p",{className:"bold mt-18 mb-6"},"Salutation"),N.a.createElement("div",{className:"mb-10 form-grid grid-2"},N.a.createElement("div",null,N.a.createElement("label",null,N.a.createElement(v.b,{as:m.a,type:"radio",name:"title",value:"mr"}),"Mr"),N.a.createElement("label",{className:"ml-40"},N.a.createElement(v.b,{as:m.a,type:"radio",name:"title",value:"mrs"}),"Mrs"),N.a.createElement("label",{className:"ml-40"},N.a.createElement(v.b,{as:m.a,type:"radio",name:"title",value:"ms"}),"Ms"),N.a.createElement("label",{className:"ml-40"},N.a.createElement(v.b,{as:m.a,type:"radio",name:"title",value:"dr"}),"Dr"),N.a.createElement(v.a,{name:"title",render:function(e){return N.a.createElement(k,{type:"danger"},e)}}))),N.a.createElement("p",{className:"bold mt-18 mb-6"},"Gender"),N.a.createElement("div",{className:"mb-6 form-grid grid-2"},N.a.createElement("div",null,N.a.createElement("label",null,N.a.createElement(v.b,{as:m.a,type:"radio",name:"gender",value:"male"}),"Male"),N.a.createElement("label",{className:"ml-40"},N.a.createElement(v.b,{as:m.a,type:"radio",name:"gender",value:"female"}),"Female"),N.a.createElement("label",{className:"ml-40"},N.a.createElement(v.b,{as:m.a,type:"radio",name:"gender",value:"other"}),"Other"))),N.a.createElement("div",{className:"mb-18"},N.a.createElement(v.a,{name:"gender",render:function(e){return N.a.createElement(k,{type:"danger"},e)}})),N.a.createElement("div",{className:"form-grid grid-3"},N.a.createElement(v.b,{component:j.b,label:"First Name *",value:d.firstName,name:"firstName",type:"firstName"}),N.a.createElement(v.b,{component:j.b,label:"Middle Name",value:d.middleName,name:"middleName",type:"middleName"}),N.a.createElement(v.b,{component:j.b,label:"Last Name *",value:d.lastName,name:"lastName",type:"lastName"})),N.a.createElement("div",{className:"form-grid grid-3"},N.a.createElement(v.b,{component:j.b,label:"Contact Number *",value:d.telephone,name:"telephone",type:"telephone"}),N.a.createElement(v.b,{component:j.b,label:"Alternate Number",value:d.alternateTelephone,name:"alternateTelephone",type:"telephone"}),N.a.createElement(v.b,{component:j.b,label:"Email ID *",value:d.email,name:"email",type:"email"})),n.hasOwnProperty("isPrimary")&&N.a.createElement("div",null,N.a.createElement("label",null,N.a.createElement(v.b,{name:"isPrimary",valuePropName:"checked",as:c.a,onChange:function(e){t("isPrimary",e.target.checked),t("primary",e.target.checked)},checked:d.isPrimary}),N.a.createElement("span",{className:"capitalize ml-10"},"is Primary?"))),N.a.createElement("div",{className:"mt-30 flex justify-flex-start"},N.a.createElement(o.a,{loading:l,type:"primary",htmlType:"submit"},l?"Saving...":"Save Contact"))))}))))});a.a=C},3873:function(e,a,t){},3877:function(e,a,t){},3878:function(e,a,t){"use strict";t(678);var n=t(534),l=t.n(n),r=t(2),c=t(19),i=t(8),m=t(0),s=t.n(m),o=t(57),d=(t(3877),t(3872)),u=t(70),b=function(e){var a=e.contacts,t=e.showHeader,n=e.origin,b=e.update,p=e.deleteContact,E=Object(m.useState)(!1),g=Object(i.a)(E,2),v=g[0],f=g[1],N=Object(m.useState)(!1),h=Object(i.a)(N,2),y=h[0],O=h[1],j=Object(m.useState)([]),S=Object(i.a)(j,2),k=S[0],C=S[1],x=Object(m.useState)({}),P=Object(i.a)(x,2),w=P[0],M=P[1],T=Object(m.useState)(null),q=Object(i.a)(T,2),D=q[0],V=q[1];Object(m.useEffect)((function(){C(a)}),[a]);var z=Object(o.i)().id;return s.a.createElement("div",{className:"mt-20 list-contacts"},t&&k&&k.length?s.a.createElement("div",{className:"list-contacts-grid mb-16"},s.a.createElement("p",null,"Designation"),s.a.createElement("p",null,"Department"),s.a.createElement("p",null,"Full Name"),s.a.createElement("p",null,"Contact Details"),"hotel-contacts"===n?s.a.createElement("p",null,"Primary/Other"):null):s.a.createElement("p",null,"No contacts found"),s.a.createElement("div",null,k&&k.map((function(e,a){return s.a.createElement("div",{className:"list-contacts-grid list mb-10",key:a},s.a.createElement("div",{className:"bold capitalize"},e.designation),s.a.createElement("div",{className:"bold capitalize"},e.department),s.a.createElement("div",{className:"capitalize"},"".concat(e.firstName," ").concat(e.middleName||""," ").concat(e.lastName)),s.a.createElement("div",{style:{textAlign:"left"}},s.a.createElement("p",null,s.a.createElement("span",{className:"semibold"},"Primary:")," ",e.telephone),s.a.createElement("p",null,s.a.createElement("span",{className:"semibold"},"Alternate:")," ",(null===e||void 0===e?void 0:e.alternateTelephone)||"--"),s.a.createElement("p",null,s.a.createElement("span",{className:"lowercase semibold"},"Email:")," ",e.email)),"hotel-contacts"===n?s.a.createElement("div",null,!0===e.isPrimary?s.a.createElement(l.a,{color:"blue"},"Primary"):s.a.createElement(l.a,{color:"red"},"Other")):null,s.a.createElement("div",{className:"flex justify-end items-center"},s.a.createElement("img",{src:"/img/edit-blue.svg",onClick:function(){return function(e){M(Object(r.a)(Object(r.a)({},k[e]),{},{gender:k[e].gender?k[e].gender:"male"})),V(e),f(!0)}(a)},className:"cursor-pointer"}),s.a.createElement("img",{src:"/img/trash-blue.svg",onClick:function(){V(a),O(!0)},className:"cursor-pointer ml-10"})))})),v&&s.a.createElement(d.a,{onSubmit:function(e){return b(z,e.id,e).then((function(){f(!1)}))},inEditMode:!0,initialValues:w,setShowModal:f}),s.a.createElement(u.a,{confirmationModalSpecs:{visible:y,heading:"Are you sure?",subHeading:"Are you sure you want to delete this contact?",buttonText:"Delete",submit:function(){var e=Object(c.a)(k),a=e[D].id;p(z,a),e.splice(D,1),C(e),O(!1)}},cancelConfirmationModal:function(){return O(!1)}})))};b.defaultProps={showHeader:!1};var p=b;a.a=p},3988:function(e,a,t){},4011:function(e,a,t){"use strict";t.r(a);t(38);var n=t(21),l=t.n(n),r=t(1),c=t.n(r),i=t(6),m=t(8),s=(t(149),t(69)),o=t.n(s),d=t(0),u=t.n(d),b=t(57),p=t(10),E=t(28),g=t(3872),v=t(11),f=t(3878),N=t(677),h=(t(3988),t(14),o.a.Text),y=Object(E.b)((function(e){var a=e.Suppliers,t=a.activity,n=a.root,l=t.contacts.data;return{tabStatus:n.tabStatus.status,formValues:l}}),(function(e){return{updateContact:Object(p.b)(N.k,e),createContact:Object(p.b)(N.a,e),deleteContact:Object(p.b)(N.d,e)}}))((function(e){var a=Object(b.i)().id,t=(Object(v.q)().get("stage"),Object(d.useState)(null)),n=Object(m.a)(t,2),r=n[0],s=(n[1],Object(d.useState)(!1)),o=Object(m.a)(s,2),p=o[0],E=o[1],N=Object(d.useState)([]),y=Object(m.a)(N,2),O=(y[0],y[1],Object(d.useState)({})),j=Object(m.a)(O,2),S=j[0],k=j[1],C=function(){var t=Object(i.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.createContact(a,n);case 3:E(!1),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.useEffect)((function(){k(e.formValues)}),[e.formValues]),u.a.createElement("div",{className:"".concat(Object(v.m)(Object(v.g)(e,"tabStatus",!1))&&"read-only-mode"),style:{position:"relative"}},u.a.createElement(h,{className:"bold",strong:!0},"Contact Details"),u.a.createElement("div",{className:"mt-10 form-grid"},u.a.createElement("div",{className:"button-dashed",onClick:function(){k({title:"",firstName:"",lastName:"",telephone:"",email:"",middleName:"",isPrimary:"",department:"",designation:""}),E(!0)}},u.a.createElement("img",{className:"mr-10",src:"/img/plus.svg"}),u.a.createElement("p",null,"Add contact"))),u.a.createElement("div",{className:"list-contacts"},u.a.createElement("div",null,u.a.createElement(f.a,{update:e.updateContact,deleteContact:e.deleteContact,showHeader:!0,origin:"contacts",contacts:e.formValues}))),p&&u.a.createElement(g.a,{onSubmit:C,inEditMode:!!r,initialValues:S,setShowModal:E}),u.a.createElement("div",{className:"flex flex-start mt-40"},u.a.createElement(l.a,{type:"primary"},"Continue")))}));a.default=y}}]);